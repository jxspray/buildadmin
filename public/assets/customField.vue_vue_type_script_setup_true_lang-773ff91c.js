import{a as M}from"./index-ae07247d.js";import{F as p}from"./index-a7be6d6a.js";import{d as A,y as T,w as C,a as d,s as y,e as o,u as t,V as f,c as V,S as s,b,U as S,v as P,R as g,ah as D,r as h}from"./vue-9a46e809.js";const $={style:{"text-align":"center","margin-bottom":"10px"}},B={style:{"text-align":"center","margin-bottom":"10px"}},H={style:{"text-align":"center","margin-bottom":"10px"}},O=A({__name:"customField",setup(K){const i=D("baTable"),N=["jpg","png","gif"],x=function(r){return r.reduce((a,n)=>({...a,[n]:n}),{})},e=T({setup:i.form.items.setup,customType:{text:"文本框",radio:"单选按钮",checkbox:"复选框",select:"下拉选择",remoteSelect:"远程下拉选择框",datePicker:"日期选择器",city:"省市区选择器",editor:"富文本编辑器",upload:"上传",verify:"验证码",custom:"自定义多文本",tag:"标签"},customDefalut:{text:{type:"string",section:"",numSection:"",step:1,linenum:1,default:""},radio:{type:"key",options:[]},checkbox:{type:"key",options:[],maxSelect:3},select:{type:"key",options:[],maxselect:1},remoteSelect:{type:"key",keyField:"id",valueField:"title",remoteName:"",maxselect:1},datePicker:{type:"datetime"},upload:{type:"image",allowFormat:[],maxFileSize:1024,maxUpload:1,default:""},editor:{autoThumb:0,autoKeyword:0,minShow:3,autoDescription:0,beforeNum:200}}}),v=function(r){e.setup.type=="key"&&(r.key=e.setup.options.length,console.log(r.key)),e.setup.options.push(r)},F=function(r){e.setup.options.splice(r,1)};let w;const z=r=>{let a={};if(r in e.customDefalut)if(w=e.customDefalut[r],!e.setup)a=w;else for(const n in w)a[n]=e.setup[n]?e.setup[n]:w[n];e.setup=a,i.form.items.setup=a};z(i.form.items.type),C(()=>i.form.items.type,r=>{z(r)}),C(e.setup,r=>{console.log(r),i.form.items.setup=r});const{t:u}=M();return(r,a)=>{const n=h("el-input"),k=h("el-form-item"),c=h("el-button");return d(),y(f,null,[o(p,{label:t(u)("cms.field.type"),type:"select",modelValue:t(i).form.items.type,"onUpdate:modelValue":a[0]||(a[0]=l=>t(i).form.items.type=l),prop:"type",data:{content:e.customType},"input-attr":{placeholder:t(u)("Please select field",{field:t(u)("cms.field.type")})}},null,8,["label","modelValue","data","input-attr"]),t(i).form.items.type=="text"?(d(),y(f,{key:0},[o(p,{label:t(u)("文本框类型"),type:"radio",modelValue:e.setup.type,"onUpdate:modelValue":a[1]||(a[1]=l=>e.setup.type=l),"input-attr":{size:"large"},data:{childrenAttr:{border:!1},content:x(["string","textarea","number","password"])}},null,8,["label","modelValue","data"]),e.setup.type=="number"?(d(),V(p,{key:0,label:t(u)("数值区间"),type:"string",prop:"numSection",modelValue:e.setup.numSection,"onUpdate:modelValue":a[2]||(a[2]=l=>e.setup.numSection=l),"input-attr":{placeholder:t(u)("Please input field",{field:t(u)("数值区间")})}},null,8,["label","modelValue","input-attr"])):s("",!0),e.setup.type=="number"?(d(),V(p,{key:1,label:t(u)("步长"),type:"number",prop:"step",modelValue:e.setup.step,"onUpdate:modelValue":a[3]||(a[3]=l=>e.setup.step=l),modelModifiers:{number:!0},"input-attr":{step:"1",placeholder:t(u)("Please input field",{field:t(u)("步长")})}},null,8,["label","modelValue","input-attr"])):s("",!0),e.setup.type!="number"?(d(),V(p,{key:2,label:t(u)("cms.field.section"),type:"string",prop:"section",modelValue:e.setup.section,"onUpdate:modelValue":a[4]||(a[4]=l=>e.setup.section=l),"input-attr":{placeholder:t(u)("Please input field",{field:t(u)("cms.field.section")})}},null,8,["label","modelValue","input-attr"])):s("",!0),e.setup.type=="textarea"?(d(),V(p,{key:3,label:t(u)("显示行数"),type:"number",prop:"linenum",modelValue:e.setup.linenum,"onUpdate:modelValue":a[5]||(a[5]=l=>e.setup.linenum=l),modelModifiers:{number:!0},"input-attr":{step:"1",placeholder:t(u)("Please input field",{field:t(u)("显示行数")})}},null,8,["label","modelValue","input-attr"])):s("",!0)],64)):s("",!0),t(i).form.items.type=="radio"?(d(),y(f,{key:1},[o(p,{label:t(u)("选项类型"),type:"radio",modelValue:e.setup.type,"onUpdate:modelValue":a[6]||(a[6]=l=>e.setup.type=l),"input-attr":{size:"large"},data:{childrenAttr:{border:!1},content:x(["key","keyValue"])}},null,8,["label","modelValue","data"]),o(k,{style:{"text-align":"center"}},{default:b(()=>[o(n,{style:{width:"120px"},placeholder:"选项键",disabled:!0}),o(n,{style:{width:"120px","margin-left":"5px"},placeholder:"选项值",disabled:!0})]),_:1}),(d(!0),y(f,null,S(e.setup.options,(l,U)=>(d(),V(k,{style:{"text-align":"center"}},{default:b(()=>[o(n,{style:{width:"120px"},placeholder:"请输入选项键",modelValue:l.key,"onUpdate:modelValue":m=>l.key=m,autocomplete:"off",disabled:e.setup.type!="keyValue"},null,8,["modelValue","onUpdate:modelValue","disabled"]),o(n,{style:{width:"120px","margin-left":"5px"},placeholder:"请输入选项值",modelValue:l.value,"onUpdate:modelValue":m=>l.value=m,autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue"]),o(c,{type:"danger",style:{"margin-left":"5px"},onClick:m=>F(U)},{default:b(()=>[g("删除")]),_:2},1032,["onClick"])]),_:2},1024))),256)),P("div",$,[o(c,{type:"success",onClick:a[7]||(a[7]=l=>v({key:"",value:"",type:"select"}))},{default:b(()=>[g("添加")]),_:1})])],64)):s("",!0),t(i).form.items.type=="checkbox"?(d(),y(f,{key:2},[o(p,{label:t(u)("选项类型"),type:"radio",modelValue:e.setup.type,"onUpdate:modelValue":a[8]||(a[8]=l=>e.setup.type=l),"input-attr":{size:"large"},data:{childrenAttr:{border:!1},content:x(["key","keyValue"])}},null,8,["label","modelValue","data"]),o(k,{style:{"text-align":"center"}},{default:b(()=>[o(n,{style:{width:"120px"},placeholder:"选项键",disabled:!0}),o(n,{style:{width:"120px","margin-left":"5px"},placeholder:"选项值",disabled:!0})]),_:1}),(d(!0),y(f,null,S(e.setup.options,(l,U)=>(d(),V(k,{style:{"text-align":"center"}},{default:b(()=>[o(n,{style:{width:"120px"},placeholder:"请输入选项键",modelValue:l.key,"onUpdate:modelValue":m=>l.key=m,autocomplete:"off",disabled:e.setup.type!="keyValue"},null,8,["modelValue","onUpdate:modelValue","disabled"]),o(n,{style:{width:"120px","margin-left":"5px"},placeholder:"请输入选项值",modelValue:l.value,"onUpdate:modelValue":m=>l.value=m,autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue"]),o(c,{type:"danger",style:{"margin-left":"5px"},onClick:m=>F(U)},{default:b(()=>[g("删除")]),_:2},1032,["onClick"])]),_:2},1024))),256)),P("div",B,[o(c,{type:"success",onClick:a[9]||(a[9]=l=>v({key:"",value:"",type:"select"}))},{default:b(()=>[g("添加")]),_:1})]),o(p,{label:t(u)("最大选择数"),type:"number",prop:"maxSelect",modelValue:e.setup.maxSelect,"onUpdate:modelValue":a[10]||(a[10]=l=>e.setup.maxSelect=l),modelModifiers:{number:!0},"input-attr":{step:"1",placeholder:t(u)("Please input field",{field:t(u)("最大选择数")})}},null,8,["label","modelValue","input-attr"])],64)):s("",!0),t(i).form.items.type=="select"?(d(),y(f,{key:3},[o(p,{label:t(u)("选项类型"),type:"radio",modelValue:e.setup.type,"onUpdate:modelValue":a[11]||(a[11]=l=>e.setup.type=l),"input-attr":{size:"large"},data:{childrenAttr:{border:!1},content:x(["key","keyValue"])}},null,8,["label","modelValue","data"]),o(k,{style:{"text-align":"center"}},{default:b(()=>[o(n,{style:{width:"120px"},placeholder:"选项键",disabled:!0}),o(n,{style:{width:"120px","margin-left":"5px"},placeholder:"选项值",disabled:!0})]),_:1}),(d(!0),y(f,null,S(e.setup.options,(l,U)=>(d(),V(k,{style:{"text-align":"center"}},{default:b(()=>[o(n,{style:{width:"120px"},placeholder:"请输入选项键",modelValue:l.key,"onUpdate:modelValue":m=>l.key=m,autocomplete:"off",disabled:e.setup.type!="keyValue"},null,8,["modelValue","onUpdate:modelValue","disabled"]),o(n,{style:{width:"120px","margin-left":"5px"},placeholder:"请输入选项值",modelValue:l.value,"onUpdate:modelValue":m=>l.value=m,autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue"]),o(c,{type:"danger",style:{"margin-left":"5px"},onClick:m=>F(U)},{default:b(()=>[g("删除")]),_:2},1032,["onClick"])]),_:2},1024))),256)),P("div",H,[o(c,{type:"success",onClick:a[12]||(a[12]=l=>v({key:"",value:"",type:"select"}))},{default:b(()=>[g("添加")]),_:1})]),o(p,{label:t(u)("最多选择数"),type:"number",prop:"weigh",modelValue:e.setup.maxselect,"onUpdate:modelValue":a[13]||(a[13]=l=>e.setup.maxselect=l),modelModifiers:{number:!0},"input-attr":{step:"1",placeholder:t(u)("Please input field",{field:t(u)("最多选择数")})}},null,8,["label","modelValue","input-attr"])],64)):s("",!0),t(i).form.items.type=="remoteSelect"?(d(),y(f,{key:4},[o(p,{label:t(u)("接口名"),type:"string",modelValue:e.setup.remoteName,"onUpdate:modelValue":a[14]||(a[14]=l=>e.setup.remoteName=l),prop:"remoteName","input-attr":{placeholder:t(u)("Please input field",{field:t(u)("接口名")})}},null,8,["label","modelValue","input-attr"]),o(p,{label:t(u)("键字段"),type:"string",modelValue:e.setup.keyField,"onUpdate:modelValue":a[15]||(a[15]=l=>e.setup.keyField=l),prop:"keyField","input-attr":{placeholder:t(u)("Please input field",{field:t(u)("键字段")})}},null,8,["label","modelValue","input-attr"]),o(p,{label:t(u)("值字段"),type:"string",modelValue:e.setup.valueField,"onUpdate:modelValue":a[16]||(a[16]=l=>e.setup.valueField=l),prop:"valueField","input-attr":{placeholder:t(u)("Please input field",{field:t(u)("值字段")})}},null,8,["label","modelValue","input-attr"]),o(p,{label:t(u)("最多选择数"),type:"number",prop:"weigh",modelValue:e.setup.maxselect,"onUpdate:modelValue":a[17]||(a[17]=l=>e.setup.maxselect=l),modelModifiers:{number:!0},"input-attr":{step:"1",placeholder:t(u)("Please input field",{field:t(u)("最多选择数")})}},null,8,["label","modelValue","input-attr"])],64)):s("",!0),t(i).form.items.type=="datePicker"?(d(),V(p,{key:5,label:t(u)("选择类型"),type:"radio",modelValue:e.setup.type,"onUpdate:modelValue":a[18]||(a[18]=l=>e.setup.type=l),"input-attr":{size:"large"},data:{childrenAttr:{border:!1},content:x(["datetime","year","date","time"])}},null,8,["label","modelValue","data"])):s("",!0),t(i).form.items.type=="city"?(d(),y(f,{key:6},[],64)):s("",!0),t(i).form.items.type=="upload"?(d(),y(f,{key:7},[o(p,{label:t(u)("上传类型"),type:"radio",modelValue:e.setup.type,"onUpdate:modelValue":a[19]||(a[19]=l=>e.setup.type=l),"input-attr":{size:"large"},data:{childrenAttr:{border:!1},content:x(["image","file"])}},null,8,["label","modelValue","data"]),o(p,{label:t(u)("cms.field.allowFormat"),type:"checkbox",modelValue:e.setup.allowFormat,"onUpdate:modelValue":a[20]||(a[20]=l=>e.setup.allowFormat=l),"input-attr":{size:"large"},data:{childrenAttr:{border:!1},content:x(N)}},null,8,["label","modelValue","data"]),o(p,{label:t(u)("cms.field.maxFileSize"),type:"number",prop:"maxFileSize",modelValue:e.setup.maxFileSize,"onUpdate:modelValue":a[21]||(a[21]=l=>e.setup.maxFileSize=l),modelModifiers:{number:!0},"input-attr":{step:"1",placeholder:t(u)("Please input field",{field:t(u)("cms.field.maxFileSize")})}},null,8,["label","modelValue","input-attr"]),o(p,{label:t(u)("最大上传数"),type:"number",prop:"maxUpload",modelValue:e.setup.maxUpload,"onUpdate:modelValue":a[22]||(a[22]=l=>e.setup.maxUpload=l),modelModifiers:{number:!0},"input-attr":{step:"1",placeholder:t(u)("Please input field",{field:t(u)("最大上传数")})}},null,8,["label","modelValue","input-attr"]),e.setup.type=="image"?(d(),V(p,{key:0,label:t(u)("图片最大宽度"),type:"number",prop:"maxWidth",modelValue:e.setup.maxWidth,"onUpdate:modelValue":a[23]||(a[23]=l=>e.setup.maxWidth=l),modelModifiers:{number:!0},"input-attr":{step:"1",placeholder:t(u)("Please input field",{field:t(u)("图片最大宽度")})}},null,8,["label","modelValue","input-attr"])):s("",!0),e.setup.type=="image"?(d(),V(p,{key:1,label:t(u)("图片最大高度"),type:"number",prop:"maxHight",modelValue:e.setup.maxHight,"onUpdate:modelValue":a[24]||(a[24]=l=>e.setup.maxHight=l),modelModifiers:{number:!0},"input-attr":{step:"1",placeholder:t(u)("Please input field",{field:t(u)("图片最大高度")})}},null,8,["label","modelValue","input-attr"])):s("",!0)],64)):s("",!0),t(i).form.items.type=="editor"?(d(),y(f,{key:8},[o(p,{label:t(u)("自动抓取缩略图"),type:"switch",modelValue:e.setup.autoThumb,"onUpdate:modelValue":a[25]||(a[25]=l=>e.setup.autoThumb=l),"input-attr":{size:"large"}},null,8,["label","modelValue"]),o(p,{label:t(u)("自动抓取关键词"),type:"switch",modelValue:e.setup.autoKeyword,"onUpdate:modelValue":a[26]||(a[26]=l=>e.setup.autoKeyword=l),"input-attr":{size:"large"}},null,8,["label","modelValue"]),o(p,{label:t(u)("关键词至少出现次数"),type:"number",prop:"minShow",modelValue:e.setup.minShow,"onUpdate:modelValue":a[27]||(a[27]=l=>e.setup.minShow=l),modelModifiers:{number:!0},"input-attr":{step:"1",placeholder:t(u)("Please input field",{field:t(u)("关键词最少出现次数")})}},null,8,["label","modelValue","input-attr"]),o(p,{label:t(u)("自动抓取简介"),type:"switch",modelValue:e.setup.autoDescription,"onUpdate:modelValue":a[28]||(a[28]=l=>e.setup.autoDescription=l),"input-attr":{size:"large"}},null,8,["label","modelValue"]),o(p,{label:t(u)("截取内容前字数"),type:"number",prop:"beforeNum",modelValue:e.setup.beforeNum,"onUpdate:modelValue":a[29]||(a[29]=l=>e.setup.beforeNum=l),modelModifiers:{number:!0},"input-attr":{step:"1",placeholder:t(u)("Please input field",{field:t(u)("截取内容前字数N个作为简介")})}},null,8,["label","modelValue","input-attr"])],64)):s("",!0),o(p,{label:t(u)("cms.field.default"),type:"string",prop:"default",modelValue:e.setup.default,"onUpdate:modelValue":a[30]||(a[30]=l=>e.setup.default=l),"input-attr":{placeholder:t(u)("Please input field",{field:t(u)("cms.field.default")})}},null,8,["label","modelValue","input-attr"])],64)}}});export{O as _};
