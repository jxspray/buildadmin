import{e as U,u as we,S as ne,F as re,_ as z,k as q,h as ke,G as Ze,H as Qe,w as Pe,L as Z,I as et,J as Te,K as F,M as Ie,N as tt,t as Ne,g as ot,f as Ae,O as Ce,r as Ue,P as Re,Q as nt,v as me}from"./index-h9hEbd9y.js";import{f as R,a9 as j,w as e,p as f,o as c,j as S,W as A,k as le,U as T,O as x,$ as P,N as fe,Y as ae,Z as N,P as s,m as n,l as p,I as lt,M as oe,s as Q,r as O,h as ee,A as X,ac as ue,n as te,B as ze,_ as K,ad as qe,ae as Se,af as at,a0 as We,a7 as se,V,a1 as He,a2 as Oe,C as Ke,X as st,ag as rt,ah as ut,ai as it,aj as Be,ak as je,ab as ct,al as dt,am as mt,i as Fe}from"./vue-FrqQdkED.js";import{_ as pt,D as ft}from"./darkSwitch-samnOWyV.js";import{c as _t,o as Le,g as $e,r as pe,s as vt,a as gt}from"./router-5fl5ypSo.js";import{s as xe,m as bt}from"./layout-kTDCU8lF.js";import{I as yt}from"./index-8cTtyBlP.js";import{t as ht}from"./useDark-eXwsAMCp.js";import{a as Ct,i as kt}from"./index-Pyzra_I1.js";import{F as ce}from"./index-joW0DQ_l.js";import"./index-4nz1exHq.js";const xt={class:"layout-logo"},wt={key:0,class:"logo-img",src:pt,alt:"logo"},Tt=R({__name:"logo",setup(g){j(i=>({adf9ae48:e(t).layout.layoutMode!="Streamline"?e(t).getColorVal("menuTopBarBackground"):"transparent"}));const t=U(),o=we(),r=function(){t.layout.shrink&&!t.layout.menuCollapse&&_t(),t.setLayout("menuCollapse",!t.layout.menuCollapse),ne.set(re,{layoutMode:t.layout.layoutMode,menuCollapse:t.layout.menuCollapse}),setTimeout(()=>{xe()},350)};return(i,d)=>{const m=f("Icon");return c(),S("div",xt,[e(t).layout.menuCollapse?A("",!0):(c(),S("img",wt)),e(t).layout.menuCollapse?A("",!0):(c(),S("div",{key:1,style:le({color:e(t).getColorVal("menuActiveColor")}),class:"website-name"},T(e(o).siteName),5)),e(t).layout.layoutMode!="Streamline"?(c(),x(m,{key:2,onClick:r,name:e(t).layout.menuCollapse?"fa fa-indent":"fa fa-dedent",class:P([e(t).layout.menuCollapse?"unfold":"","fold"]),color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["name","class","color"])):A("",!0)])}}}),Xe=z(Tt,[["__scopeId","data-v-38fd2478"]]),St=R({__name:"menuTree",props:{menus:{default:()=>[]},extends:{default:()=>({level:1})}},setup(g){j(d=>({"5010b154":e(o).getColorVal("menuActiveBackground")}));const{t}=fe(),o=U(),r=g,i=d=>{var m,y;if(((m=r.extends)==null?void 0:m.position)=="horizontal"&&r.extends.level<=1&&((y=d.children)!=null&&y.length)){const h=$e(d.children);h?Le(h):lt({type:"error",message:t("utils.No child menu to jump to!")})}};return(d,m)=>{const y=f("Icon"),h=f("menu-tree",!0),u=f("el-sub-menu"),v=f("el-menu-item");return c(!0),S(N,null,ae(r.menus,_=>(c(),S(N,null,[_.children&&_.children.length>0?(c(),x(u,{onClick:l=>i(_),index:_.path,key:_.path},{title:s(()=>{var l,a,B,L;return[n(y,{color:e(o).getColorVal("menuColor"),name:(l=_.meta)!=null&&l.icon?(a=_.meta)==null?void 0:a.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),p("span",null,T((B=_.meta)!=null&&B.title?(L=_.meta)==null?void 0:L.title:d.$t("noTitle")),1)]}),default:s(()=>[n(h,{extends:{...r.extends,level:r.extends.level+1},menus:_.children},null,8,["extends","menus"])]),_:2},1032,["onClick","index"])):(c(),x(v,{index:_.path,key:_.path,onClick:l=>e(Le)(_)},{default:s(()=>{var l,a,B,L;return[n(y,{color:e(o).getColorVal("menuColor"),name:(l=_.meta)!=null&&l.icon?(a=_.meta)==null?void 0:a.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),p("span",null,T((B=_.meta)!=null&&B.title?(L=_.meta)==null?void 0:L.title:d.$t("noTitle")),1)]}),_:2},1032,["index","onClick"]))],64))),256)}}}),_e=z(St,[["__scopeId","data-v-99fc3008"]]),Bt=R({__name:"menuVertical",setup(g){j(u=>({"7b37a190":m.value,"2dbfe5bf":e(t).getColorVal("menuBackground"),"461a90e0":e(t).getColorVal("menuColor"),"252ff30c":e(t).getColorVal("menuActiveColor")}));const t=U(),o=q(),r=oe(),i=Q(),d=O({defaultActive:""}),m=ee(()=>{let u=0;return t.layout.menuShowTopBar&&(u=50),t.layout.layoutMode=="Default"?"calc(100vh - "+(32+u)+"px)":"calc(100vh - "+u+"px)"}),y=u=>{d.defaultActive=u.path},h=()=>{te(()=>{var v;let u=document.querySelector(".el-menu.layouts-menu-vertical li.is-active");if(!u)return!1;(v=i.value)==null||v.setScrollTop(u.offsetTop)})};return X(()=>{y(r),h()}),ue(u=>{y(u)}),(u,v)=>{const _=f("el-menu"),l=f("el-scrollbar");return c(),x(l,{ref_key:"verticalMenusRef",ref:i,class:"vertical-menus-scrollbar"},{default:s(()=>[n(_,{class:"layouts-menu-vertical","collapse-transition":!1,"unique-opened":e(t).layout.menuUniqueOpened,"default-active":d.defaultActive,collapse:e(t).layout.menuCollapse},{default:s(()=>[n(_e,{menus:e(o).state.tabsViewRoutes},null,8,["menus"])]),_:1},8,["unique-opened","default-active","collapse"])]),_:1},512)}}}),Me=(g,t)=>{for(let o=0;o<t.length;o++){const r=t[o];if(r.path==g||r.children&&r.children.length>0&&Me(g,r.children))return r}return!1},$t=R({__name:"menuVerticalChildren",setup(g){j(u=>({"691618f7":m.value,"7b87a07e":e(t).getColorVal("menuBackground"),"7fea4a7e":e(t).getColorVal("menuColor"),"5897a39b":e(t).getColorVal("menuActiveColor")}));const t=U(),o=q(),r=oe(),i=Q(),d=O({defaultActive:"",routeChildren:[]}),m=ee(()=>{let u=0;return t.layout.menuShowTopBar&&(u=50),t.layout.layoutMode=="Default"?"calc(100vh - "+(32+u)+"px)":"calc(100vh - "+u+"px)"}),y=u=>{let v=Me(u.path,o.state.tabsViewRoutes);v?(d.defaultActive=u.path,v.children&&v.children.length>0?d.routeChildren=v.children:d.routeChildren=[v]):d.routeChildren||(d.routeChildren=o.state.tabsViewRoutes)},h=()=>{te(()=>{var v;let u=document.querySelector(".el-menu.layouts-menu-vertical-children li.is-active");if(!u)return!1;(v=i.value)==null||v.setScrollTop(u.offsetTop)})};return X(()=>{y(r),h()}),ue(u=>{y(u)}),(u,v)=>{const _=f("el-menu"),l=f("el-scrollbar");return c(),x(l,{ref_key:"verticalMenusRef",ref:i,class:"children-vertical-menus-scrollbar"},{default:s(()=>[n(_,{class:"layouts-menu-vertical-children","collapse-transition":!1,"unique-opened":e(t).layout.menuUniqueOpened,"default-active":d.defaultActive,collapse:e(t).layout.menuCollapse},{default:s(()=>[d.routeChildren.length>0?(c(),x(_e,{key:0,menus:d.routeChildren},null,8,["menus"])):A("",!0)]),_:1},8,["unique-opened","default-active","collapse"])]),_:1},512)}}}),Mt=R({name:"layout/aside",__name:"aside",setup(g){j(i=>({"12d2a223":r.value}));const t=U(),o=q(),r=ee(()=>t.menuWidth());return(i,d)=>{const m=f("el-aside");return e(o).state.tabFullScreen?A("",!0):(c(),x(m,{key:0,class:P("layout-aside-"+e(t).layout.layoutMode+" "+(e(t).layout.shrink?"shrink":""))},{default:s(()=>[e(t).layout.menuShowTopBar?(c(),x(Xe,{key:0})):A("",!0),e(t).layout.layoutMode=="Double"?(c(),x($t,{key:1})):(c(),x(Bt,{key:2}))]),_:1},8,["class"]))}}}),Ve=z(Mt,[["__scopeId","data-v-be977e32"]]);function Ye(){if(!ze())throw new Error("useCurrentInstance() can only be used inside setup() or functional components!");const{appContext:g}=ze();return{proxy:g.config.globalProperties}}const Vt={class:"el-dropdown-menu"},It=["onClick"],At=R({__name:"index",props:{width:{default:150},items:{default:()=>[]}},emits:["contextmenuItemClick"],setup(g,{expose:t,emit:o}){const r=g,i=o,d=O({show:!1,axis:{x:0,y:0},menu:void 0,arrowAxis:10}),m=(u,v)=>{d.menu=u,d.axis=v,d.show=!0},y=u=>{u.disabled||(u.menu=at(d.menu),i("contextmenuItemClick",u))},h=()=>{d.show=!1};return t({onShowContextmenu:m,onHideContextmenu:h}),X(()=>{ke(document,"click",h)}),(u,v)=>{const _=f("Icon");return c(),x(Se,{name:"el-zoom-in-center"},{default:s(()=>[K((c(),S("div",{class:"el-popper is-pure is-light el-dropdown__popper ba-contextmenu",style:le(`top: ${d.axis.y+5}px;left: ${d.axis.x-14}px;width:${r.width}px`),key:Math.random(),"aria-hidden":"false","data-popper-placement":"bottom"},[p("ul",Vt,[(c(!0),S(N,null,ae(r.items,(l,a)=>(c(),S("li",{key:a,class:P(["el-dropdown-menu__item",l.disabled?"is-disabled":""]),tabindex:"-1",onClick:B=>y(l)},[n(_,{size:"12",name:l.icon},null,8,["name"]),p("span",null,T(l.label),1)],10,It))),128))]),p("span",{class:"el-popper__arrow",style:le({left:`${d.arrowAxis}px`})},null,4)],4)),[[qe,d.show]])]),_:1})}}}),Rt=z(At,[["__scopeId","data-v-dd4efaa3"]]),zt=["onClick","onContextmenu"],Ft=R({__name:"tabs",setup(g){j(C=>({d6997322:e(r).getColorVal("headerBarTabColor"),"3e8014c9":e(r).getColorVal("headerBarTabActiveColor"),"2dcc8058":e(r).layout.layoutMode=="Default"?"none":e(r).getColorVal("headerBarBackground")}));const t=oe(),o=We(),r=U(),i=q(),{proxy:d}=Ye(),m=Q(),y=Ze(),h=Q(),u=O({contextmenuItems:[{name:"refresh",label:"重新加载",icon:"fa fa-refresh"},{name:"close",label:"关闭标签",icon:"fa fa-times"},{name:"fullScreen",label:"当前标签全屏",icon:"el-icon-FullScreen"},{name:"closeOther",label:"关闭其他标签",icon:"fa fa-minus"},{name:"closeAll",label:"关闭全部标签",icon:"fa fa-stop"}]}),v=O({width:"0",transform:"translateX(0px)"}),_=C=>{o.push(C)},l=(C,$)=>{u.contextmenuItems[0].disabled=t.path!==C.path,u.contextmenuItems[4].disabled=u.contextmenuItems[3].disabled=i.state.tabsView.length==1;const{clientX:I,clientY:M}=$;h.value.onShowContextmenu(C,{x:I,y:M})},a=function(C){if(!C)return!1;v.width=C.clientWidth+"px",v.transform=`translateX(${C.offsetLeft}px)`;let $=C.offsetLeft+C.clientWidth-m.value.clientWidth;C.offsetLeft<m.value.scrollLeft?m.value.scrollTo(C.offsetLeft,0):$>m.value.scrollLeft&&m.value.scrollTo($,0)},B=()=>{const C=i.state.tabsView.slice(-1)[0];C?o.push(C):o.push(Pe)},L=C=>{var $;i.closeTab(C),d.eventBus.emit("onTabViewClose",C),(($=i.state.activeRoute)==null?void 0:$.path)===C.path?B():(i.setActiveRoute(i.state.activeRoute),te(()=>{a(y.value[i.state.activeIndex])})),h.value.onHideContextmenu()},k=C=>{var $;i.closeTabs(C),i.setActiveRoute(C),(($=i.state.activeRoute)==null?void 0:$.path)!==t.path&&o.push(C.path)},W=C=>{var I;let $=$e(i.state.tabsViewRoutes);if($&&$.path==C.path)return k(C);if($&&$.path==((I=i.state.activeRoute)==null?void 0:I.path))return k(i.state.activeRoute);i.closeTabs(!1),$&&pe($.path)},G=async C=>{const{name:$,menu:I}=C;if(I)switch($){case"refresh":d.eventBus.emit("onTabViewRefresh",I);break;case"close":L(I);break;case"closeOther":k(I);break;case"closeAll":W(I);break;case"fullScreen":t.path!==(I==null?void 0:I.path)&&o.push(I==null?void 0:I.path),i.setFullScreen(!0);break}},D=function(C){i.addTab(C),i.setActiveRoute(C),te(()=>{a(y.value[i.state.activeIndex])})};return ue(async C=>{D(C)}),X(()=>{D(o.currentRoute.value),new Qe(m.value)}),(C,$)=>{const I=f("Icon");return c(),S(N,null,[p("div",{class:"nav-tabs",ref_key:"tabScrollbarRef",ref:m},[(c(!0),S(N,null,ae(e(i).state.tabsView,(M,J)=>(c(),S("div",{onClick:E=>_(M),onContextmenu:se(E=>l(M,E),["prevent"]),class:P(["ba-nav-tab",e(i).state.activeIndex==J?"active":""]),ref_for:!0,ref:e(y).set,key:J},[V(T(M.meta.title)+" ",1),n(Se,{onAfterLeave:$[0]||($[0]=E=>a(e(y)[e(i).state.activeIndex])),name:"el-fade-in"},{default:s(()=>[K(n(I,{class:"close-icon",onClick:se(E=>L(M),["stop"]),size:"15",name:"el-icon-Close"},null,8,["onClick"]),[[qe,e(i).state.tabsView.length>1]])]),_:2},1024)],42,zt))),128)),p("div",{style:le(v),class:"nav-tabs-active-box"},null,4)],512),n(Rt,{ref_key:"contextmenuRef",ref:h,items:u.contextmenuItems,onContextmenuItemClick:G},null,8,["items"])],64)}}}),Ge=z(Ft,[["__scopeId","data-v-5d6f32a7"]]),De=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Y=(()=>{if(typeof document>"u")return!1;const g=De[0],t={};for(const o of De)if((o==null?void 0:o[1])in document){for(const[i,d]of o.entries())t[g[i]]=d;return t}return!1})(),Ee={change:Y.fullscreenchange,error:Y.fullscreenerror};let H={request(g=document.documentElement,t){return new Promise((o,r)=>{const i=()=>{H.off("change",i),o()};H.on("change",i);const d=g[Y.requestFullscreen](t);d instanceof Promise&&d.then(i).catch(r)})},exit(){return new Promise((g,t)=>{if(!H.isFullscreen){g();return}const o=()=>{H.off("change",o),g()};H.on("change",o);const r=document[Y.exitFullscreen]();r instanceof Promise&&r.then(o).catch(t)})},toggle(g,t){return H.isFullscreen?H.exit():H.request(g,t)},onchange(g){H.on("change",g)},onerror(g){H.on("error",g)},on(g,t){const o=Ee[g];o&&document.addEventListener(o,t,!1)},off(g,t){const o=Ee[g];o&&document.removeEventListener(o,t,!1)},raw:Y};Object.defineProperties(H,{isFullscreen:{get:()=>!!document[Y.fullscreenElement]},element:{enumerable:!0,get:()=>document[Y.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Y.fullscreenEnabled]}});Y||(H={isEnabled:!1});const de=H,ve=g=>(He("data-v-06c3bb38"),g=g(),Oe(),g),Lt={class:"layout-config-drawer"},Dt={class:"layout-mode-styles-box"},Et={class:"layout-mode-box-style"},Pt=ve(()=>p("div",{class:"layout-mode-style-box"},[p("div",{class:"layout-mode-style-aside"}),p("div",{class:"layout-mode-style-container-box"},[p("div",{class:"layout-mode-style-header"}),p("div",{class:"layout-mode-style-container"})])],-1)),Nt={class:"layout-mode-style-name"},Ut=ve(()=>p("div",{class:"layout-mode-style-box"},[p("div",{class:"layout-mode-style-aside"}),p("div",{class:"layout-mode-style-container-box"},[p("div",{class:"layout-mode-style-header"}),p("div",{class:"layout-mode-style-container"})])],-1)),qt={class:"layout-mode-style-name"},Wt=ve(()=>p("div",{class:"layout-mode-style-box"},[p("div",{class:"layout-mode-style-container-box"},[p("div",{class:"layout-mode-style-header"}),p("div",{class:"layout-mode-style-container"})])],-1)),Ht={class:"layout-mode-style-name"},Ot=ve(()=>p("div",{class:"layout-mode-style-box"},[p("div",{class:"layout-mode-style-aside"}),p("div",{class:"layout-mode-style-container-box"},[p("div",{class:"layout-mode-style-header"}),p("div",{class:"layout-mode-style-container"})])],-1)),Kt={class:"layout-mode-style-name"},jt={class:"layout-config-global"},Xt={class:"layout-config-aside"},Yt={class:"layout-config-aside"},Gt={class:"ba-center"},Jt=R({__name:"config",setup(g){const{t}=fe(),o=U(),r=q(),i=We(),d=(_,l)=>{o.setLayout(l,_)},m=(_,l)=>{if(_===null)return;const a=o.layout[l];o.layout.isDark?a[1]=_:a[0]=_,o.setLayout(l,a)},y=_=>{ne.set(re,{layoutMode:_,menuCollapse:o.layout.menuCollapse}),o.setLayoutMode(_)},h=(_,l)=>{o.setLayout(l,_);const a=r.state.tabsViewRoutes;r.setTabsViewRoutes([]),setTimeout(()=>{r.setTabsViewRoutes(a)},200)},u=()=>{o.setLayout("showDrawer",!1)},v=()=>{Z.remove(et),ne.remove(re),i.go(0)};return(_,l)=>{const a=f("el-divider"),B=f("el-col"),L=f("el-row"),k=f("el-form-item"),W=f("el-option"),G=f("el-select"),D=f("el-color-picker"),C=f("el-switch"),$=f("el-input"),I=f("el-button"),M=f("el-popconfirm"),J=f("el-form"),E=f("el-scrollbar"),b=f("el-drawer");return c(),S("div",Lt,[n(b,{"model-value":e(o).layout.showDrawer,title:e(t)("layouts.Layout configuration"),size:"310px",onClose:u},{default:s(()=>[n(E,{class:"layout-mode-style-scrollbar"},{default:s(()=>[n(J,{ref:"formRef",model:e(o).layout},{default:s(()=>[p("div",Dt,[n(a,{"border-style":"dashed"},{default:s(()=>[V(T(e(t)("layouts.Layout mode")),1)]),_:1}),p("div",Et,[n(L,{class:"layout-mode-box-style-row",gutter:10},{default:s(()=>[n(B,{span:12},{default:s(()=>[p("div",{onClick:l[0]||(l[0]=w=>y("Default")),class:P(["layout-mode-style default",e(o).layout.layoutMode=="Default"?"active":""])},[Pt,p("div",Nt,T(e(t)("layouts.default")),1)],2)]),_:1}),n(B,{span:12},{default:s(()=>[p("div",{onClick:l[1]||(l[1]=w=>y("Classic")),class:P(["layout-mode-style classic",e(o).layout.layoutMode=="Classic"?"active":""])},[Ut,p("div",qt,T(e(t)("layouts.classic")),1)],2)]),_:1})]),_:1}),n(L,{gutter:10},{default:s(()=>[n(B,{span:12},{default:s(()=>[p("div",{onClick:l[2]||(l[2]=w=>y("Streamline")),class:P(["layout-mode-style streamline",e(o).layout.layoutMode=="Streamline"?"active":""])},[Wt,p("div",Ht,T(e(t)("layouts.Single column")),1)],2)]),_:1}),n(B,{span:12},{default:s(()=>[p("div",{onClick:l[3]||(l[3]=w=>y("Double")),class:P(["layout-mode-style double",e(o).layout.layoutMode=="Double"?"active":""])},[Ot,p("div",Kt,T(e(t)("layouts.Double column")),1)],2)]),_:1})]),_:1})]),n(a,{"border-style":"dashed"},{default:s(()=>[V(T(e(t)("layouts.overall situation")),1)]),_:1}),p("div",jt,[n(k,{size:"large",label:e(t)("layouts.Dark mode")},{default:s(()=>[n(ft,{onClick:l[4]||(l[4]=w=>e(ht)())})]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Background page switching animation")},{default:s(()=>[n(G,{onChange:l[5]||(l[5]=w=>d(w,"mainAnimation")),"model-value":e(o).layout.mainAnimation,placeholder:e(t)("layouts.Please select an animation name")},{default:s(()=>[n(W,{label:"slide-right",value:"slide-right"}),n(W,{label:"slide-left",value:"slide-left"}),n(W,{label:"el-fade-in-linear",value:"el-fade-in-linear"}),n(W,{label:"el-fade-in",value:"el-fade-in"}),n(W,{label:"el-zoom-in-center",value:"el-zoom-in-center"}),n(W,{label:"el-zoom-in-top",value:"el-zoom-in-top"}),n(W,{label:"el-zoom-in-bottom",value:"el-zoom-in-bottom"})]),_:1},8,["model-value","placeholder"])]),_:1},8,["label"])]),n(a,{"border-style":"dashed"},{default:s(()=>[V(T(e(t)("layouts.sidebar")),1)]),_:1}),p("div",Xt,[n(k,{label:e(t)("layouts.Side menu bar background color")},{default:s(()=>[n(D,{onChange:l[6]||(l[6]=w=>m(w,"menuBackground")),"model-value":e(o).getColorVal("menuBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu text color")},{default:s(()=>[n(D,{onChange:l[7]||(l[7]=w=>m(w,"menuColor")),"model-value":e(o).getColorVal("menuColor")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu active item background color")},{default:s(()=>[n(D,{onChange:l[8]||(l[8]=w=>m(w,"menuActiveBackground")),"model-value":e(o).getColorVal("menuActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu active item text color")},{default:s(()=>[n(D,{onChange:l[9]||(l[9]=w=>m(w,"menuActiveColor")),"model-value":e(o).getColorVal("menuActiveColor")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Show side menu top bar (logo bar)")},{default:s(()=>[n(C,{onChange:l[10]||(l[10]=w=>d(w,"menuShowTopBar")),"model-value":e(o).layout.menuShowTopBar},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu top bar background color")},{default:s(()=>[n(D,{onChange:l[11]||(l[11]=w=>m(w,"menuTopBarBackground")),"model-value":e(o).getColorVal("menuTopBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu width (when expanded)")},{default:s(()=>[n($,{onInput:l[12]||(l[12]=w=>d(w,"menuWidth")),type:"number",step:10,"model-value":e(o).layout.menuWidth},{append:s(()=>[V("px")]),_:1},8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu default icon")},{default:s(()=>[n(yt,{onChange:l[13]||(l[13]=w=>h(w,"menuDefaultIcon")),"model-value":e(o).layout.menuDefaultIcon},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu horizontal collapse")},{default:s(()=>[n(C,{onChange:l[14]||(l[14]=w=>d(w,"menuCollapse")),"model-value":e(o).layout.menuCollapse},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu accordion")},{default:s(()=>[n(C,{onChange:l[15]||(l[15]=w=>d(w,"menuUniqueOpened")),"model-value":e(o).layout.menuUniqueOpened},null,8,["model-value"])]),_:1},8,["label"])]),n(a,{"border-style":"dashed"},{default:s(()=>[V(T(e(t)("layouts.Top bar")),1)]),_:1}),p("div",Yt,[n(k,{label:e(t)("layouts.Top bar background color")},{default:s(()=>[n(D,{onChange:l[16]||(l[16]=w=>m(w,"headerBarBackground")),"model-value":e(o).getColorVal("headerBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Top bar text color")},{default:s(()=>[n(D,{onChange:l[17]||(l[17]=w=>m(w,"headerBarTabColor")),"model-value":e(o).getColorVal("headerBarTabColor")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Background color when hovering over the top bar")},{default:s(()=>[n(D,{onChange:l[18]||(l[18]=w=>m(w,"headerBarHoverBackground")),"model-value":e(o).getColorVal("headerBarHoverBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Top bar menu active item background color")},{default:s(()=>[n(D,{onChange:l[19]||(l[19]=w=>m(w,"headerBarTabActiveBackground")),"model-value":e(o).getColorVal("headerBarTabActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Top bar menu active item text color")},{default:s(()=>[n(D,{onChange:l[20]||(l[20]=w=>m(w,"headerBarTabActiveColor")),"model-value":e(o).getColorVal("headerBarTabActiveColor")},null,8,["model-value"])]),_:1},8,["label"])]),n(M,{onConfirm:v,title:e(t)("layouts.Are you sure you want to restore all configurations to the default values?")},{reference:s(()=>[p("div",Gt,[n(I,{class:"w80",type:"info"},{default:s(()=>[V(T(e(t)("layouts.Restore default")),1)]),_:1})])]),_:1},8,["title"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["model-value","title"])])}}}),Zt=z(Jt,[["__scopeId","data-v-06c3bb38"]]),Qt={class:"command"},eo={class:"task-opt"},to=["onClick"],oo={class:"indent-2"},no={class:"package-manager-dialog-footer"},lo={class:"config-buttons"},ao=R({__name:"index",setup(g){const{t}=fe(),o=Te(),r=O({terminalWarning:"",port:o.state.port,menuExpand:document.documentElement.clientWidth>1840}),i=ee(()=>{let l=o.state.port==""?"80":o.state.port;return l=="8000"?"php think run":"php think run -p "+l}),d=ee(()=>{let l=o.state.port==""?"":":"+o.state.port;return"http://localhost"+l+" "+t("terminal.or")+" http://"+t("terminal.Site domain name")+l}),m=l=>{Ie({port:l}).then(a=>{a.code==1?(o.changePort(l),_()):r.port=o.state.port}).catch(()=>{r.port=o.state.port})},y=l=>{let a=t("terminal.unknown"),B="info";switch(l){case F.Waiting:a=t("terminal.Waiting for execution"),B="info";break;case F.Connecting:a=t("terminal.Connecting"),B="warning";break;case F.Executing:a=t("terminal.Executing"),B="warning";break;case F.Success:a=t("terminal.Successful execution"),B="success";break;case F.Failed:a=t("terminal.Execution failed"),B="danger";break;case F.Unknown:a=t("terminal.Unknown execution result"),B="danger";break}return{statusText:a,statusType:B}},h=()=>{ut.confirm(t("terminal.Are you sure you want to republish?"),t("Reminder"),{confirmButtonText:t("Confirm"),cancelButtonText:t("Cancel"),type:"warning"}).then(()=>{o.addTaskPM("web-build")})},u=l=>{Ie({manager:l}).then(a=>{a.code==1&&o.changePackageManager(l)}),o.togglePackageManagerDialog(!1)},v=l=>{r.terminalWarning=l},_=()=>{tt()!=o.state.port?v(t("terminal.The current terminal is not running under the installation service, and some commands may not be executed")):v("")};return Ke(()=>o.state.port,l=>{l!=r.port&&(r.port=l,_())}),X(()=>{_()}),(l,a)=>{const B=f("el-alert"),L=f("el-tag"),k=f("el-button"),W=f("Icon"),G=f("el-card"),D=f("el-timeline-item"),C=f("el-timeline"),$=f("el-empty"),I=f("el-button-group"),M=f("el-dialog"),J=f("el-form"),E=st("blur");return c(),S(N,null,[n(M,rt(l.$attrs,{modelValue:e(o).state.show,"onUpdate:modelValue":a[7]||(a[7]=b=>e(o).state.show=b),title:e(t)("terminal.Terminal"),class:"ba-terminal-dialog","append-to-body":!0}),{default:s(()=>[r.terminalWarning?(c(),x(B,{key:0,class:"terminal-warning-alert",title:r.terminalWarning,type:"error"},null,8,["title"])):A("",!0),e(o).state.taskList.length?(c(),x(C,{key:1},{default:s(()=>[(c(!0),S(N,null,ae(e(o).state.taskList,(b,w)=>(c(),x(D,{key:w,class:P(["task-item","task-status-"+b.status]),type:y(b.status).statusType,center:"",timestamp:b.createTime,placement:"top"},{default:s(()=>[n(G,null,{default:s(()=>[p("div",null,[n(L,{type:y(b.status).statusType},{default:s(()=>[V(T(y(b.status).statusText),1)]),_:2},1032,["type"]),(b.status==e(F).Failed||b.status==e(F).Unknown)&&b.blockOnFailure?(c(),x(L,{key:0,class:"block-on-failure-tag",type:"warning"},{default:s(()=>[V(T(e(t)("terminal.Failure to execute this command will block the execution of the queue")),1)]),_:1})):A("",!0),b.status==e(F).Executing||b.status==e(F).Connecting?(c(),x(L,{key:1,class:"block-on-failure-tag",type:"danger"},{default:s(()=>[V(T(e(t)("terminal.Do not refresh the browser")),1)]),_:1})):A("",!0),p("span",Qt,T(b.command),1),p("div",eo,[b.status==e(F).Failed||b.status==e(F).Unknown?K((c(),x(k,{key:0,title:e(t)("Retry"),size:"small",type:"warning",icon:"el-icon-RefreshRight",circle:"",onClick:ie=>e(o).retryTask(w)},null,8,["title","onClick"])),[[E]]):A("",!0),K(n(k,{onClick:ie=>e(o).delTask(w),title:e(t)("Delete"),size:"small",type:"danger",icon:"el-icon-Delete",circle:""},null,8,["onClick","title"]),[[E]])])]),b.status!=e(F).Waiting?(c(),S(N,{key:0},[b.status!=e(F).Connecting&&b.status!=e(F).Executing?(c(),S("div",{key:0,onClick:ie=>e(o).setTaskShowMessage(w),class:"toggle-message-display"},[p("span",null,T(e(t)("terminal.Command run log")),1),n(W,{name:b.showMessage?"el-icon-ArrowUp":"el-icon-ArrowDown",size:"16",color:"#909399"},null,8,["name"])],8,to)):A("",!0),b.status==e(F).Connecting||b.status==e(F).Executing||b.status>e(F).Executing&&b.showMessage?(c(),S("div",{key:1,class:P(["exec-message","exec-message-"+b.uuid])},[(c(!0),S(N,null,ae(b.message,(ie,Je)=>(c(),S("pre",{key:Je,class:"message-item"},T(ie),1))),128))],2)):A("",!0)],64)):A("",!0)]),_:2},1024)]),_:2},1032,["class","type","timestamp"]))),128))]),_:1})):(c(),x($,{key:2,"image-size":80,description:e(t)("terminal.No mission yet")},null,8,["description"])),n(I,null,{default:s(()=>[K((c(),x(k,{class:"terminal-menu-item",icon:"el-icon-MagicStick",onClick:a[0]||(a[0]=b=>e(o).addTaskPM("test",!1))},{default:s(()=>[V(T(e(t)("terminal.Test command")),1)]),_:1})),[[E]]),K((c(),x(k,{class:"terminal-menu-item",icon:"el-icon-Download",onClick:a[1]||(a[1]=b=>e(o).addTaskPM("web-install"))},{default:s(()=>[V(T(e(t)("terminal.Install dependent packages")),1)]),_:1})),[[E]]),K((c(),x(k,{class:"terminal-menu-item",icon:"el-icon-Sell",onClick:a[2]||(a[2]=b=>h())},{default:s(()=>[V(T(e(t)("terminal.Republish")),1)]),_:1})),[[E]]),r.menuExpand?(c(),S(N,{key:1},[K((c(),x(k,{class:"terminal-menu-item",icon:"el-icon-Delete",onClick:a[4]||(a[4]=b=>e(o).clearSuccessTask())},{default:s(()=>[V(T(e(t)("terminal.Clean up task list")),1)]),_:1})),[[E]]),K((c(),x(k,{class:"terminal-menu-item",icon:"el-icon-Switch",onClick:a[5]||(a[5]=b=>e(o).togglePackageManagerDialog(!0))},{default:s(()=>[V(T(e(t)("terminal.Package manager"))+" "+T(e(o).state.packageManager.toUpperCase()),1)]),_:1})),[[E]]),K((c(),x(k,{class:"terminal-menu-item",icon:"el-icon-Tools",onClick:a[6]||(a[6]=b=>e(o).toggleConfigDialog())},{default:s(()=>[V(T(e(t)("terminal.Terminal settings")),1)]),_:1})),[[E]])],64)):K((c(),x(k,{key:0,class:"terminal-menu-item",icon:"el-icon-Expand",onClick:a[3]||(a[3]=b=>r.menuExpand=!0)},null,512)),[[E]])]),_:1})]),_:1},16,["modelValue","title"]),n(M,{onClose:a[14]||(a[14]=b=>e(o).togglePackageManagerDialog(!1)),"model-value":e(o).state.showPackageManagerDialog,class:"ba-terminal-dialog",title:e(t)("terminal.Please select package manager"),center:""},{footer:s(()=>[p("div",no,[n(k,{onClick:a[8]||(a[8]=b=>u("npm"))},{default:s(()=>[V("npm")]),_:1}),n(k,{onClick:a[9]||(a[9]=b=>u("cnpm"))},{default:s(()=>[V("cnpm")]),_:1}),n(k,{onClick:a[10]||(a[10]=b=>u("pnpm"))},{default:s(()=>[V("pnpm")]),_:1}),n(k,{onClick:a[11]||(a[11]=b=>u("yarn"))},{default:s(()=>[V("yarn")]),_:1}),n(k,{onClick:a[12]||(a[12]=b=>u("ni"))},{default:s(()=>[V("ni")]),_:1}),n(k,{onClick:a[13]||(a[13]=b=>u("none"))},{default:s(()=>[V(T(e(t)("terminal.I want to execute the command manually")),1)]),_:1})])]),default:s(()=>[p("div",oo,T(e(t)("terminal.Switch package manager title")),1)]),_:1},8,["model-value","title"]),n(M,{onClose:a[19]||(a[19]=b=>e(o).toggleConfigDialog(!1)),"model-value":e(o).state.showConfig,class:"ba-terminal-dialog",title:e(t)("terminal.Terminal settings")},{default:s(()=>[n(J,{"label-position":"top"},{default:s(()=>[n(ce,{label:e(t)("terminal.Install service port"),modelValue:r.port,"onUpdate:modelValue":a[15]||(a[15]=b=>r.port=b),type:"number","input-attr":{onChange:m},placeholder:e(t)("terminal.The port number to start the installation service (this port needs to be opened for external network access)")},null,8,["label","modelValue","input-attr","placeholder"]),n(ce,{label:e(t)("terminal.Installation service startup command"),modelValue:i.value,"onUpdate:modelValue":a[16]||(a[16]=b=>i.value=b),type:"string","input-attr":{disabled:!0},attr:{blockHelp:e(t)("terminal.Please execute this command to start the service (add Su under Linux)")}},null,8,["label","modelValue","attr"]),n(ce,{label:e(t)("terminal.Installation service URL"),modelValue:d.value,"onUpdate:modelValue":a[17]||(a[17]=b=>d.value=b),type:"string","input-attr":{disabled:!0},attr:{blockHelp:e(t)("terminal.Please access the site through the installation service URL (except in debug mode)")}},null,8,["label","modelValue","attr"])]),_:1}),n(ce,{label:e(t)("terminal.Clean up successful tasks when starting a new task"),"model-value":e(o).state.automaticCleanupTask,type:"radio",data:{content:{0:e(t)("Disable"),1:e(t)("Enable")},childrenAttr:{border:!0}},"input-attr":{onChange:e(o).changeAutomaticCleanupTask}},null,8,["label","model-value","data","input-attr"]),p("div",lo,[n(k,{onClick:a[18]||(a[18]=b=>e(o).toggleConfigDialog(!1))},{default:s(()=>[V(T(e(t)("terminal.Back to terminal")),1)]),_:1})])]),_:1},8,["model-value","title"])],64)}}}),so=z(ao,[["__scopeId","data-v-a2a22db1"]]),ro={class:"nav-menu-item"},uo=["src"],io={class:"admin-name"},co={class:"admin-info-base"},mo=["src"],po={class:"admin-info-other"},fo={class:"admin-info-name"},_o={class:"admin-info-lasttime"},vo={class:"admin-info-footer"},go=R({__name:"navMenus",setup(g){j(l=>({"02d4915c":e(r).getColorVal("headerBarBackground"),"548ea232":e(r).getColorVal("headerBarTabColor"),"40e44a14":e(r).getColorVal("headerBarHoverBackground")}));const{t}=fe(),o=Ne(),r=U(),i=Te(),d=we(),m=O({isFullScreen:!1,currentNavMenu:"",showLayoutDrawer:!1,showAdminInfoPopover:!1}),y=(l,a)=>{m.currentNavMenu=l?a:""},h=()=>{if(!de.isEnabled)return it.warning(t("layouts.Full screen is not supported")),!1;de.toggle(),de.onchange(()=>{m.isFullScreen=de.isFullscreen})},u=()=>{m.showAdminInfoPopover=!1,pe({name:"routine/adminInfo"})},v=()=>{Ct().then(()=>{Z.remove(Ce),Ue.go(0)})},_=l=>{if(l=="storage"||l=="all"){const a=Z.get(Ce),B=Z.get(Re);if(ne.clear(),Z.clear(),Z.set(Ce,a),Z.set(Re,B),l=="storage")return}nt(l).then(()=>{})};return(l,a)=>{const B=f("Icon"),L=f("router-link"),k=f("el-dropdown-item"),W=f("el-dropdown-menu"),G=f("el-dropdown"),D=f("el-badge"),C=f("el-avatar"),$=f("el-button"),I=f("el-popover");return c(),S("div",{class:P(["nav-menus",e(r).layout.layoutMode])},[n(L,{class:"h100",target:"_blank",title:e(t)("Home"),to:"/"},{default:s(()=>[p("div",ro,[n(B,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Monitor",size:"18"},null,8,["color"])])]),_:1},8,["title"]),n(G,{onVisibleChange:a[0]||(a[0]=M=>y(M,"lang")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:s(()=>[n(W,{class:"dropdown-menu-box"},{default:s(()=>[(c(!0),S(N,null,ae(e(r).lang.langArray,M=>(c(),x(k,{key:M.name,onClick:J=>e(ot)(M.name)},{default:s(()=>[V(T(M.value),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:s(()=>[p("div",{class:P(["nav-menu-item pt2",m.currentNavMenu=="lang"?"hover":""])},[n(B,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-lang",size:"18"},null,8,["color"])],2)]),_:1}),p("div",{onClick:h,class:P(["nav-menu-item",m.isFullScreen?"hover":""])},[m.isFullScreen?(c(),x(B,{key:0,color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-full-screen-cancel",size:"18"},null,8,["color"])):(c(),x(B,{key:1,color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-FullScreen",size:"18"},null,8,["color"]))],2),e(o).super?(c(),S("div",{key:0,onClick:a[1]||(a[1]=M=>e(i).toggle()),class:"nav-menu-item pt2"},[n(D,{"is-dot":e(i).state.showDot},{default:s(()=>[n(B,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-terminal",size:"26"},null,8,["color"])]),_:1},8,["is-dot"])])):A("",!0),e(o).super?(c(),x(G,{key:1,onVisibleChange:a[5]||(a[5]=M=>y(M,"clear")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:s(()=>[n(W,{class:"dropdown-menu-box"},{default:s(()=>[n(k,{onClick:a[2]||(a[2]=M=>_("tp"))},{default:s(()=>[V(T(e(t)("utils.Clean up system cache")),1)]),_:1}),n(k,{onClick:a[3]||(a[3]=M=>_("storage"))},{default:s(()=>[V(T(e(t)("utils.Clean up browser cache")),1)]),_:1}),n(k,{onClick:a[4]||(a[4]=M=>_("all")),divided:""},{default:s(()=>[V(T(e(t)("utils.Clean up all cache")),1)]),_:1})]),_:1})]),default:s(()=>[p("div",{class:P(["nav-menu-item",m.currentNavMenu=="clear"?"hover":""])},[n(B,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Delete",size:"18"},null,8,["color"])],2)]),_:1})):A("",!0),e(d).userInitialize?(c(),x(I,{key:2,onShow:a[6]||(a[6]=M=>y(!0,"adminInfo")),onHide:a[7]||(a[7]=M=>y(!1,"adminInfo")),placement:"bottom-end","hide-after":0,width:260,trigger:"click","popper-class":"admin-info-box",visible:m.showAdminInfoPopover,"onUpdate:visible":a[8]||(a[8]=M=>m.showAdminInfoPopover=M)},{reference:s(()=>[p("div",{class:P(["admin-info",m.currentNavMenu=="adminInfo"?"hover":""])},[n(C,{size:25,fit:"fill"},{default:s(()=>[p("img",{src:e(Ae)(e(o).avatar),alt:""},null,8,uo)]),_:1}),p("div",io,T(e(o).nickname),1)],2)]),default:s(()=>[p("div",null,[p("div",co,[n(C,{size:70,fit:"fill"},{default:s(()=>[p("img",{src:e(Ae)(e(o).avatar),alt:""},null,8,mo)]),_:1}),p("div",po,[p("div",fo,T(e(o).nickname),1),p("div",_o,T(e(o).last_login_time),1)])]),p("div",vo,[n($,{onClick:u,type:"primary",plain:""},{default:s(()=>[V(T(e(t)("layouts.personal data")),1)]),_:1}),n($,{onClick:v,type:"danger",plain:""},{default:s(()=>[V(T(e(t)("layouts.cancellation")),1)]),_:1})])])]),_:1},8,["visible"])):A("",!0),p("div",{onClick:a[9]||(a[9]=M=>e(r).setLayout("showDrawer",!0)),class:"nav-menu-item"},[n(B,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"fa fa-cogs",size:"18"},null,8,["color"])]),n(Zt),n(so)],2)}}}),ge=z(go,[["__scopeId","data-v-3c79f356"]]),bo={class:"nav-bar"},yo=R({__name:"default",setup(g){j(o=>({"341e91f0":e(t).getColorVal("headerBarTabColor"),"7d0afb8a":e(t).getColorVal("headerBarTabActiveColor"),"5eccd556":e(t).getColorVal("headerBarTabActiveBackground")}));const t=U();return(o,r)=>(c(),S("div",bo,[n(Ge),n(ge)]))}}),ho=z(yo,[["__scopeId","data-v-8d90b156"]]),Co={class:"nav-bar"},ko={key:0,class:"unfold"},xo=R({__name:"classic",setup(g){j(r=>({"88b2895c":e(t).getColorVal("headerBarBackground"),"6a10a632":e(t).getColorVal("headerBarTabColor"),d50d5368:e(t).getColorVal("headerBarTabActiveColor"),"4c5473d8":e(t).getColorVal("headerBarHoverBackground"),a7c0b85a:e(t).getColorVal("headerBarTabActiveBackground")}));const t=U(),o=()=>{vt("ba-aside-menu-shade",()=>{t.setLayout("menuCollapse",!0)}),t.setLayout("menuCollapse",!1)};return(r,i)=>{const d=f("Icon");return c(),S("div",Co,[e(t).layout.shrink&&e(t).layout.menuCollapse?(c(),S("div",ko,[n(d,{onClick:o,name:"fa fa-indent",color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["color"])])):A("",!0),e(t).layout.shrink?A("",!0):(c(),x(Ge,{key:1})),n(ge)])}}}),wo=z(xo,[["__scopeId","data-v-af750839"]]),To={class:"layouts-menu-horizontal"},So={key:0,class:"menu-horizontal-logo"},Bo=R({__name:"menuHorizontal",setup(g){j(u=>({"2ff67b14":e(o).getColorVal("headerBarHoverBackground"),"4b0e897f":e(o).getColorVal("menuBackground"),"60b6d5c0":e(o).getColorVal("menuColor"),"79eddaba":e(o).getColorVal("menuActiveColor"),"6b92b425":e(o).getColorVal("menuActiveBackground")}));const t=Q(),o=U(),r=q(),i=oe(),d=O({menuKey:me(),defaultActive:""}),m=ee(()=>(d.menuKey=me(),r.state.tabsViewRoutes)),y=u=>{d.defaultActive=u.path},h=()=>{te(()=>{var v;let u=document.querySelector(".el-menu.menu-horizontal li.is-active");if(!u)return!1;(v=t.value)==null||v.setScrollTop(u.offsetTop)})};return X(()=>{y(i),h()}),ue(u=>{y(u)}),(u,v)=>{const _=f("el-menu"),l=f("el-scrollbar");return c(),S("div",To,[e(o).layout.menuShowTopBar?(c(),S("div",So,[n(Xe)])):A("",!0),n(l,{ref_key:"horizontalMenusRef",ref:t,class:"horizontal-menus-scrollbar"},{default:s(()=>[(c(),x(_,{class:"menu-horizontal",mode:"horizontal","default-active":d.defaultActive,key:d.menuKey},{default:s(()=>[n(_e,{extends:{position:"horizontal",level:1},menus:m.value},null,8,["menus"])]),_:1},8,["default-active"]))]),_:1},512),n(ge)])}}}),$o=z(Bo,[["__scopeId","data-v-21507473"]]),Mo={class:"layouts-menu-horizontal-double"},Vo=R({__name:"double",setup(g){j(u=>({"2680abd7":e(o).getColorVal("menuBackground"),"5a674870":e(o).getColorVal("menuColor"),"0cc00362":e(o).getColorVal("menuActiveColor"),"2c87b47d":e(o).getColorVal("menuActiveBackground")}));const t=Q(),o=U(),r=q(),i=oe(),d=O({menuKey:me(),defaultActive:""}),m=ee(()=>(d.menuKey=me(),r.state.tabsViewRoutes)),y=u=>{Me(u.path,r.state.tabsViewRoutes)&&(d.defaultActive=u.path)},h=()=>{te(()=>{var v;let u=document.querySelector(".el-menu.menu-horizontal li.is-active");if(!u)return!1;(v=t.value)==null||v.setScrollTop(u.offsetTop)})};return X(()=>{y(i),h()}),ue(u=>{y(u)}),(u,v)=>{const _=f("el-menu"),l=f("el-scrollbar");return c(),S("div",Mo,[n(l,{ref_key:"horizontalMenusRef",ref:t,class:"double-menus-scrollbar"},{default:s(()=>[(c(),x(_,{class:"menu-horizontal",mode:"horizontal","default-active":d.defaultActive,key:d.menuKey},{default:s(()=>[n(_e,{extends:{position:"horizontal",level:1},menus:m.value},null,8,["menus"])]),_:1},8,["default-active"]))]),_:1},512),n(ge)])}}}),Io=z(Vo,[["__scopeId","data-v-c669c503"]]),Ao=R({name:"layout/header",components:{DefaultNavBar:ho,ClassicNavBar:wo,StreamlineNavBar:$o,DoubleNavBar:Io},__name:"header",setup(g){const t=U(),o=q();return(r,i)=>{const d=f("el-header");return e(o).state.tabFullScreen?A("",!0):(c(),x(d,{key:0,class:"layout-header"},{default:s(()=>[(c(),x(Be(e(t).layout.layoutMode+"NavBar")))]),_:1}))}}}),be=z(Ao,[["__scopeId","data-v-9014eea9"]]),Ro=R({name:"layout/main",__name:"main",setup(g){const{proxy:t}=Ye(),o=oe(),r=U(),i=q(),d=Q(),m=O({componentKey:o.path,keepAliveComponentNameList:[]}),y=function(h){if(h){if(m.keepAliveComponentNameList.find(v=>v===h))return;m.keepAliveComponentNameList.push(h)}};return je(()=>{t.eventBus.on("onTabViewRefresh",h=>{m.keepAliveComponentNameList=m.keepAliveComponentNameList.filter(u=>h.meta.keepalive!==u),m.componentKey="",te(()=>{m.componentKey=h.path,y(h.meta.keepalive)})}),t.eventBus.on("onTabViewClose",h=>{m.keepAliveComponentNameList=m.keepAliveComponentNameList.filter(u=>h.meta.keepalive!==u)})}),ct(()=>{t.eventBus.off("onTabViewRefresh"),t.eventBus.off("onTabViewClose")}),X(()=>{var h,u;typeof((h=i.state.activeRoute)==null?void 0:h.meta.keepalive)=="string"&&y((u=i.state.activeRoute)==null?void 0:u.meta.keepalive)}),Ke(()=>o.path,()=>{var h,u;m.componentKey=o.path,typeof((h=i.state.activeRoute)==null?void 0:h.meta.keepalive)=="string"&&y((u=i.state.activeRoute)==null?void 0:u.meta.keepalive)}),dt("mainScrollbarRef",d),(h,u)=>{const v=f("router-view"),_=f("el-scrollbar"),l=f("el-main");return c(),x(l,{class:"layout-main"},{default:s(()=>[n(_,{class:"layout-main-scrollbar",style:le(e(bt)()),ref_key:"mainScrollbarRef",ref:d},{default:s(()=>[n(v,null,{default:s(({Component:a})=>[n(Se,{name:e(r).layout.mainAnimation,mode:"out-in"},{default:s(()=>[(c(),x(mt,{include:m.keepAliveComponentNameList},[(c(),x(Be(a),{key:m.componentKey}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})]),_:1},8,["style"])]),_:1})}}}),ye=z(Ro,[["__scopeId","data-v-ce1a5bf4"]]),zo=g=>(He("data-v-0aa634f1"),g=g(),Oe(),g),Fo=["title"],Lo=zo(()=>p("div",{class:"close-full-screen-on"},null,-1)),Do=R({__name:"closeFullScreen",setup(g){const t=q(),o=O({closeBoxTop:20});X(()=>{setTimeout(()=>{o.closeBoxTop=-30},300)});const r=()=>{o.closeBoxTop=20},i=()=>{o.closeBoxTop=-30},d=()=>{t.setFullScreen(!1)};return(m,y)=>{const h=f("Icon");return c(),S("div",{title:m.$t("layouts.Exit full screen"),onMouseover:se(r,["stop"]),onMouseout:se(i,["stop"])},[p("div",{onClick:se(d,["stop"]),class:"close-full-screen",style:le({top:o.closeBoxTop+"px"})},[n(h,{name:"el-icon-Close"})],4),Lo],40,Fo)}}}),he=z(Do,[["__scopeId","data-v-0aa634f1"]]),Eo=R({__name:"default",setup(g){const t=q();return(o,r)=>{const i=f("el-container");return c(),S(N,null,[n(i,{class:"layout-container"},{default:s(()=>[n(Ve),n(i,{class:"content-wrapper"},{default:s(()=>[n(be),n(ye)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),x(he,{key:0})):A("",!0)],64)}}}),Po=z(Eo,[["__scopeId","data-v-59d252c1"]]),No=R({__name:"classic",setup(g){const t=q();return(o,r)=>{const i=f("el-container");return c(),S(N,null,[n(i,{class:"layout-container"},{default:s(()=>[n(Ve),n(i,{class:"content-wrapper"},{default:s(()=>[n(be),n(ye)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),x(he,{key:0})):A("",!0)],64)}}}),Uo=z(No,[["__scopeId","data-v-fb349671"]]),qo=R({__name:"streamline",setup(g){const t=q();return(o,r)=>{const i=f("el-container");return c(),S(N,null,[n(i,{class:"layout-container"},{default:s(()=>[n(i,{class:"content-wrapper"},{default:s(()=>[n(be),n(ye)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),x(he,{key:0})):A("",!0)],64)}}}),Wo=z(qo,[["__scopeId","data-v-fcdc1bd3"]]),Ho=R({__name:"double",setup(g){const t=q();return(o,r)=>{const i=f("el-container");return c(),S(N,null,[n(i,{class:"layout-container"},{default:s(()=>[n(Ve),n(i,{class:"content-wrapper"},{default:s(()=>[n(be),n(ye)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),x(he,{key:0})):A("",!0)],64)}}}),Oo=z(Ho,[["__scopeId","data-v-d08319bd"]]),on=R({components:{Default:Po,Classic:Uo,Streamline:Wo,Double:Oo},__name:"index",setup(g){const t=Te(),o=q(),r=U(),i=oe(),d=we(),m=Ne(),y=O({autoMenuCollapseLock:!1});X(()=>{if(!m.token)return Ue.push({name:"adminLogin"});h(),xe(),ke(window,"resize",xe)}),je(()=>{u(),ke(window,"resize",u)});const h=()=>{kt().then(v=>{if(d.dataFill(v.data.siteConfig),t.changePort(v.data.terminal.installServicePort),t.changePackageManager(v.data.terminal.npmPackageManager),d.setInitialize(!0),Fe(v.data.adminInfo)||(m.dataFill(v.data.adminInfo),d.setUserInitialize(!0)),v.data.menus){if(gt(v.data.menus),i.params.to){const l=JSON.parse(i.params.to);if(l.path!=Pe){let a=Fe(l.query)?{}:l.query;pe({path:l.path,query:a});return}}let _=$e(o.state.tabsViewRoutes);_&&pe(_.path)}})},u=()=>{let v={layoutMode:r.layout.layoutMode,menuCollapse:r.layout.menuCollapse},_=ne.get(re);if(_||ne.set(re,v),document.body.clientWidth<1024)y.autoMenuCollapseLock||(y.autoMenuCollapseLock=!0,r.setLayout("menuCollapse",!0)),r.setLayout("shrink",!0),r.setLayoutMode("Classic");else{y.autoMenuCollapseLock=!1;let a=_||v;r.setLayout("menuCollapse",a.menuCollapse),r.setLayout("shrink",!1),r.setLayoutMode(a.layoutMode)}};return(v,_)=>(c(),x(Be(e(r).layout.layoutMode)))}});export{on as default};
