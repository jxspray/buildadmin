import{H as v,A as R,f as x,i as C,e as q,g as I}from"./index.d7e4990b.js";import{_ as f,k as d,ae as M,C as s,D as c,M as i,B as n,A as e,a8 as k,h as p,at as b,ai as g,l as S,a3 as $,aK as A,aI as B,a as j,a2 as D,o as H,bc as N,aW as O,$ as P}from"./index.d79eac89.js";import{m as w}from"./layout.50cf44e4.js";import"./login.3bce961a.js";const F=d({__name:"main",setup(m){const u=M();return(o,r)=>{const l=s("router-view"),t=s("el-main");return c(),i(t,{class:"layout-main"},{default:n(()=>[e(l,null,{default:n(({Component:a})=>[e(k,{name:p(u).layout.mainAnimation,mode:"out-in"},{default:n(()=>[(c(),i(b(a)))]),_:2},1032,["name"])]),_:1})]),_:1})}}});var U=f(F,[["__scopeId","data-v-06936b35"]]);const V=d({__name:"default",setup(m){return(u,o)=>{const r=s("el-col"),l=s("el-row"),t=s("el-scrollbar"),a=s("el-container");return c(),i(a,{class:"is-vertical"},{default:n(()=>[e(v),e(t,{style:g(p(w)()),ref:"mainScrollbarRef"},{default:n(()=>[e(l,{class:"frontend-footer-brother",justify:"center"},{default:n(()=>[e(r,{class:"user-layouts",span:16,xs:24},{default:n(()=>[e(R,{class:"hidden-sm-and-down"}),e(U)]),_:1})]),_:1}),e(x)]),_:1},8,["style"])]),_:1})}}});var W=f(V,[["__scopeId","data-v-427c573a"]]);const z=d({__name:"disable",setup(m){return(u,o)=>{const r=s("el-alert"),l=s("el-col"),t=s("el-row"),a=s("el-scrollbar"),_=s("el-container");return c(),i(_,{class:"is-vertical"},{default:n(()=>[e(v),e(a,{style:g(p(w)()),ref:"mainScrollbarRef"},{default:n(()=>[e(t,{class:"frontend-footer-brother",justify:"center"},{default:n(()=>[e(l,{class:"user-layouts",span:16,xs:24},{default:n(()=>[e(r,{center:!0,title:u.$t("user.user.Member center disabled"),type:"error"},null,8,["title"])]),_:1})]),_:1}),e(x)]),_:1},8,["style"])]),_:1})}}});var E=f(z,[["__scopeId","data-v-0c5c8e39"]]);const J={components:{Default:W,Disable:E}},X=d({...J,__name:"user",setup(m){const{t:u}=S(),o=$(),r=A(),l=B(),t=j();return D(a=>{t.setActiveRoute(a)}),H(()=>{if(!l.token)return r.push({name:"userLogin"});N().then(a=>{if(l.$state=a.data.userInfo,a.data.menus){let _=C(a.data.menus);if(t.setViewRoutes(_),t.setShowHeadline(a.data.menus.length>1),o.query&&o.query.url&&o.query.url!=O.path&&q(_).indexOf(o.query.url)!==-1){let h=JSON.parse(o.query.query);r.push({path:o.query.url,query:Object.keys(h).length?h:{}});return}let y=I(t.state.viewRoutes);y?r.push({path:y.path}):P({type:"error",message:u("No route found to jump~")})}}),document.body.clientWidth<1024?t.setShrink(!0):t.setShrink(!1)}),(a,_)=>(c(),i(b(p(t).state.layoutMode)))}});export{X as default};
