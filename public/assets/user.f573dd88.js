import{H as v,A as w,d as h,b as R,e as C,a as q,g as k}from"./index.368177b3.js";import{_ as f,l as d,a8 as I,C as s,D as c,S as i,B as n,A as e,a1 as M,j as p,aA as b,ad as x,m as S,aw as A,aM as j,aK as B,av as D,o as N,bc as O,aY as $,O as F}from"./index.71ccd558.js";import{m as g}from"./layout.132f01a4.js";import"./login.ee457689.js";const H=d({__name:"main",setup(m){const u=I();return(o,l)=>{const r=s("router-view"),a=s("el-main");return c(),i(a,{class:"layout-main"},{default:n(()=>[e(r,null,{default:n(({Component:t})=>[e(M,{name:p(u).layout.mainAnimation,mode:"out-in"},{default:n(()=>[(c(),i(b(t)))]),_:2},1032,["name"])]),_:1})]),_:1})}}});var P=f(H,[["__scopeId","data-v-06936b35"]]);const T=d({__name:"default",setup(m){return(u,o)=>{const l=s("el-col"),r=s("el-row"),a=s("el-scrollbar"),t=s("el-container");return c(),i(t,{class:"is-vertical"},{default:n(()=>[e(v),e(a,{style:x(p(g)()),ref:"mainScrollbarRef"},{default:n(()=>[e(r,{class:"frontend-footer-brother",justify:"center"},{default:n(()=>[e(l,{class:"user-layouts",span:16,xs:24},{default:n(()=>[e(w,{class:"hidden-sm-and-down"}),e(P)]),_:1})]),_:1}),e(h)]),_:1},8,["style"])]),_:1})}}});var U=f(T,[["__scopeId","data-v-cd46fc2a"]]);const z=d({__name:"disable",setup(m){return(u,o)=>{const l=s("el-alert"),r=s("el-col"),a=s("el-row"),t=s("el-scrollbar"),_=s("el-container");return c(),i(_,{class:"is-vertical"},{default:n(()=>[e(v),e(t,{style:x(p(g)()),ref:"mainScrollbarRef"},{default:n(()=>[e(a,{class:"frontend-footer-brother",justify:"center"},{default:n(()=>[e(r,{class:"user-layouts",span:16,xs:24},{default:n(()=>[e(l,{center:!0,title:u.$t("user.user.Member center disabled"),type:"error"},null,8,["title"])]),_:1})]),_:1}),e(h)]),_:1},8,["style"])]),_:1})}}});var E=f(z,[["__scopeId","data-v-7ce7b941"]]);const J={components:{Default:U,Disable:E}},G=d({...J,__name:"user",setup(m){const{t:u}=S(),o=A(),l=j(),r=B(),a=R();return D(t=>{a.setActiveRoute(t)}),N(()=>{if(!r.token)return l.push({name:"userLogin"});O().then(t=>{if(t.data.userInfo.refreshToken=r.refreshToken,r.dataFill(t.data.userInfo),t.data.menus){if(C(t.data.menus),o.query&&o.query.url&&o.query.url!=$.path&&q(a.state.viewRoutes).indexOf(o.query.url)!==-1){let y=JSON.parse(o.query.query);l.push({path:o.query.url,query:Object.keys(y).length?y:{}});return}let _=k(a.state.viewRoutes);_?l.push({path:_.path}):F({type:"error",message:u("No route found to jump~")})}}),document.body.clientWidth<1024?a.setShrink(!0):a.setShrink(!1)}),(t,_)=>(c(),i(b(p(a).state.layoutMode)))}});export{G as default};
