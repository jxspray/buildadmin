import{h as j,w as q,ar as O,r as U,q as i,X as f,o as t,O as r,P as a,_ as k,k as u,V,U as x,z as e,m as I,l as z,p as c,$ as X,a9 as Y,Z as C,Y as F,W as _}from"./vue-69ad5a16.js";import{w as Z,_ as A}from"./index-32d6febb.js";import w from"./index-91e09c40.js";import"./index-afbe03c0.js";import"./index-f98c8d12.js";const G={class:"title"},H=j({__name:"popupForm",setup(J){const b=q(),o=O("baTable");U({data:{}});const B=["text","number","radio","checkbox","select","remoteSelect"],g=[],N=["seo_title","seo_keywords","seo_description"],y=[],v=[];o.before={onSubmit:function(n){}},o.after={getIndex:function(){o.form.extend.fields.forEach(n=>{N.includes(n.field)?y.push(n):B.includes(n.type)?g.push(n):v.push(n)})}};const{t:s}=Z(),T=U({});return(n,d)=>{const h=i("el-tab-pane"),W=i("el-tabs"),$=i("el-form"),D=i("el-scrollbar"),S=i("el-button"),E=i("el-dialog"),K=f("drag"),L=f("zoom"),P=f("loading"),R=f("blur");return t(),r(E,{fullscreen:!0,class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":!!e(o).form.operate,onClose:e(o).toggleForm},{header:a(()=>[k((t(),u("div",G,[V(x(e(o).form.operate?e(s)(e(o).form.operate):""),1)])),[[K,[".ba-operate-dialog",".el-dialog__header"]],[L,".ba-operate-dialog"]])]),footer:a(()=>[I("div",{style:z("width: calc(100% - "+e(o).form.labelWidth/1.8+"px)")},[c(S,{onClick:d[1]||(d[1]=l=>e(o).toggleForm(""))},{default:a(()=>[V(x(e(s)("Cancel")),1)]),_:1}),k((t(),r(S,{loading:e(o).form.submitLoading,onClick:d[2]||(d[2]=l=>e(o).onSubmit(b.value)),type:"primary"},{default:a(()=>[V(x(e(o).form.operateIds&&e(o).form.operateIds.length>1?e(s)("Save and edit next item"):e(s)("Save")),1)]),_:1},8,["loading"])),[[R]])],4)]),default:a(()=>[k((t(),r(D,{class:"ba-table-form-scrollbar"},{default:a(()=>[I("div",{class:X(["ba-operate-form","ba-"+e(o).form.operate+"-form"]),style:z("width: calc(100% - "+e(o).form.labelWidth/2+"px)")},[e(o).form.loading?_("",!0):(t(),r($,{key:0,ref_key:"formRef",ref:b,onKeyup:d[0]||(d[0]=Y(l=>e(o).onSubmit(b.value),["enter"])),model:e(o).form.items,"label-position":"right","label-width":e(o).form.labelWidth+"px",rules:T},{default:a(()=>[c(W,{"tab-position":"left",class:"catalog-tabs"},{default:a(()=>[g.length?(t(),r(h,{key:0,label:e(s)("cms.catalog.base")},{default:a(()=>[(t(),u(C,null,F(g,(l,m)=>c(w,{type:l.type,label:e(s)(l.name),modelValue:e(o).form.items[l.field],"onUpdate:modelValue":p=>e(o).form.items[l.field]=p,option:l,key:m},null,8,["type","label","modelValue","onUpdate:modelValue","option"])),64))]),_:1},8,["label"])):_("",!0),y.length?(t(),r(h,{key:1,label:e(s)("cms.catalog.seo")},{default:a(()=>[(t(),u(C,null,F(y,(l,m)=>c(w,{type:l.type,label:e(s)(l.name),modelValue:e(o).form.items[l.field],"onUpdate:modelValue":p=>e(o).form.items[l.field]=p,option:l,key:m},null,8,["type","label","modelValue","onUpdate:modelValue","option"])),64))]),_:1},8,["label"])):_("",!0),v.length?(t(),r(h,{key:2,label:e(s)("cms.catalog.extend")},{default:a(()=>[(t(),u(C,null,F(v,(l,m)=>c(w,{type:l.type,label:e(s)(l.name),modelValue:e(o).form.items[l.field],"onUpdate:modelValue":p=>e(o).form.items[l.field]=p,option:l,key:m},null,8,["type","label","modelValue","onUpdate:modelValue","option"])),64))]),_:1},8,["label"])):_("",!0)]),_:1})]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[P,e(o).form.loading]])]),_:1},8,["model-value","onClose"])}}});const te=A(H,[["__scopeId","data-v-a751ef6f"]]);export{te as default};
