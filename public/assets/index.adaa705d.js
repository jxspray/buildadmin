import{_ as R,k as A,a_ as Y,ae as q,u as Ie,C as m,D as u,y as V,h as e,a4 as E,ai as ae,E as w,M as C,a7 as P,T as Z,S as D,B as n,A as o,z as d,m as W,a3 as le,r as ie,q as X,f as oe,o as J,a2 as ve,n as ne,x as pe,R as H,av as Me,a8 as _e,ad as Ke,aK as ze,a$ as Xe,O as te,G as M,l as be,H as Ae,I as Ee,b0 as ce,b1 as ue,L as Le,b2 as Ye,b3 as fe,w as Fe,K as Ge,b4 as F,ah as Je,i as Te,b5 as Se,aE as Ze,b6 as Qe,p as Re,aY as ea,b7 as aa,b8 as ta,aH as me,b9 as oa,J as Be,at as ge,v as De,ba as na,aX as la}from"./index.d79eac89.js";import{_ as sa,c as Pe,u as Ne,a as ra,g as qe,r as he,b as ia,d as ca,s as ua,F as se,h as da,e as ma}from"./index.d7e4990b.js";import{l as va,i as pa}from"./login.3bce961a.js";import{m as _a}from"./layout.50cf44e4.js";const ba=function(_="shade",a){const t=document.querySelector(".layout-container"),l=document.createElement("div");l.setAttribute("class","ba-layout-shade "+_),t.appendChild(l),l.addEventListener("click",()=>{We(a)})},We=function(_=()=>{}){const a=document.querySelector(".ba-layout-shade");a&&a.remove(),_()};const fa={class:"layout-logo"},ga={key:0,class:"logo-img",src:sa,alt:"logo"},ha=A({__name:"logo",setup(_){Y(s=>({"0e552ef4":e(a).layout.layoutMode!="Streamline"?e(a).getColorVal("menuTopBarBackground"):"transparent"}));const a=q(),t=Ie(),l=function(){a.layout.shrink&&!a.layout.menuCollapse&&We(),a.setLayout("menuCollapse",!a.layout.menuCollapse)};return(s,v)=>{const y=m("Icon");return u(),V("div",fa,[e(a).layout.menuCollapse?E("",!0):(u(),V("img",ga)),e(a).layout.menuCollapse?E("",!0):(u(),V("div",{key:1,style:ae({color:e(a).getColorVal("menuActiveColor")}),class:"website-name"},w(e(t).site_name),5)),e(a).layout.layoutMode!="Streamline"?(u(),C(y,{key:2,onClick:l,name:e(a).layout.menuCollapse?"fa fa-indent":"fa fa-dedent",class:P([e(a).layout.menuCollapse?"unfold":"","fold"]),color:e(a).getColorVal("menuActiveColor"),size:"18"},null,8,["name","class","color"])):E("",!0)])}}});var Ue=R(ha,[["__scopeId","data-v-9d9d4790"]]);const ya=A({__name:"menuTree",props:{menus:{default:()=>[]}},setup(_){const a=_;Y(l=>({"2f0a7ab1":e(t).getColorVal("menuActiveBackground")}));const t=q();return(l,s)=>{const v=m("Icon"),y=m("menu-tree",!0),f=m("el-sub-menu"),x=m("el-menu-item");return u(!0),V(D,null,Z(a.menus,r=>(u(),V(D,null,[r.children&&r.children.length>0?(u(),C(f,{index:r.path,key:r.path},{title:n(()=>[o(v,{color:e(t).getColorVal("menuColor"),name:r.icon?r.icon:e(t).layout.menuDefaultIcon},null,8,["color","name"]),d("span",null,w(r.title?r.title:l.$t("noTitle")),1)]),default:n(()=>[o(y,{menus:r.children},null,8,["menus"])]),_:2},1032,["index"])):(u(),C(x,{index:r.path,key:r.path,onClick:h=>e(Pe)(r)},{default:n(()=>[o(v,{color:e(t).getColorVal("menuColor"),name:r.icon?r.icon:e(t).layout.menuDefaultIcon},null,8,["color","name"]),d("span",null,w(r.title?r.title:l.$t("noTitle")),1)]),_:2},1032,["index","onClick"]))],64))),256)}}});var je=R(ya,[["__scopeId","data-v-b26956e0"]]);const xa=A({__name:"menuVertical",setup(_){Y(r=>({"25930b15":e(y),"0cf7949c":e(a).getColorVal("menuBackground"),"501e4be3":e(a).getColorVal("menuColor"),"15b39986":e(a).getColorVal("menuActiveColor")}));const a=q(),t=W(),l=le(),s=ie(),v=X({defaultActive:""}),y=oe(()=>{let r=0;return a.layout.menuShowTopBar&&(r=50),a.layout.layoutMode=="Default"?"calc(100vh - "+(32+r)+"px)":"calc(100vh - "+r+"px)"}),f=r=>{v.defaultActive=r.path},x=()=>{ne(()=>{var h;let r=document.querySelector(".el-menu.layouts-menu-vertical li.is-active");if(!r)return!1;(h=s.value)==null||h.setScrollTop(r.offsetTop)})};return J(()=>{f(l),x()}),ve(r=>{f(r)}),(r,h)=>{const S=m("el-menu"),p=m("el-scrollbar");return u(),C(p,{ref_key:"verticalMenusRef",ref:s,class:"vertical-menus-scrollbar"},{default:n(()=>[o(S,{class:"layouts-menu-vertical","collapse-transition":!1,"unique-opened":e(a).layout.menuUniqueOpened,"default-active":v.defaultActive,collapse:e(a).layout.menuCollapse},{default:n(()=>[o(je,{menus:e(t).state.tabsViewRoutes},null,8,["menus"])]),_:1},8,["unique-opened","default-active","collapse"])]),_:1},512)}}});const ka=A({name:"layout/aside"}),wa=A({...ka,setup(_){Y(s=>({"7dd9df62":e(l)}));const a=q(),t=W(),l=oe(()=>a.menuWidth());return(s,v)=>{const y=m("el-aside");return e(t).state.tabFullScreen?E("",!0):(u(),C(y,{key:0,class:P("layout-aside-"+e(a).layout.layoutMode+" "+(e(a).layout.shrink?"shrink":""))},{default:n(()=>[e(a).layout.menuShowTopBar?(u(),C(Ue,{key:0})):E("",!0),o(xa)]),_:1},8,["class"]))}}});var He=R(wa,[["__scopeId","data-v-116555a1"]]);const Ca={class:"el-dropdown-menu"},Ta=["onClick"],Sa=A({__name:"index",props:{width:{default:150},items:{default:()=>[]}},emits:["contextmenuItemClick"],setup(_,{expose:a,emit:t}){const l=_,s=X({show:!1,axis:{x:0,y:0},menu:{},arrowAxis:10}),v=(x,r)=>{s.menu=x,s.axis=r,s.show=!0},y=x=>{x.disabled||(x.menu=Ke(s.menu),t("contextmenuItemClick",x))},f=()=>{s.show=!1};return a({onShowContextmenu:v,onHideContextmenu:f}),J(()=>{document.body.addEventListener("click",f)}),pe(()=>{document.body.removeEventListener("click",f)}),(x,r)=>{const h=m("Icon");return u(),C(_e,{name:"el-zoom-in-center"},{default:n(()=>[H((u(),V("div",{class:"el-popper is-pure is-light el-dropdown__popper ba-contextmenu",style:ae(`top: ${s.axis.y+5}px;left: ${s.axis.x-14}px;width:${l.width}px`),key:Math.random(),"aria-hidden":"false","data-popper-placement":"bottom"},[d("ul",Ca,[(u(!0),V(D,null,Z(l.items,(S,p)=>(u(),V("li",{key:p,class:P(["el-dropdown-menu__item",S.disabled?"is-disabled":""]),tabindex:"-1",onClick:i=>y(S)},[o(h,{size:"12",name:S.icon},null,8,["name"]),d("span",null,w(S.label),1)],10,Ta))),128))]),d("span",{class:"el-popper__arrow",style:ae({left:`${s.arrowAxis}px`})},null,4)],4)),[[Me,s.show]])]),_:1})}}});var Ba=R(Sa,[["__scopeId","data-v-27a380bc"]]);const $a=["onClick","onContextmenu"],Va=A({__name:"tabs",setup(_){Y(g=>({"4588ab53":e(l).getColorVal("headerBarTabColor"),"47c73ead":e(l).getColorVal("headerBarTabActiveColor"),"1e3e6120":e(l).layout.layoutMode=="Default"?"none":e(l).getColorVal("headerBarBackground")}));const a=le(),t=ze(),l=q(),s=W(),{proxy:v}=Ne(),y=ie(),f=ra(),x=ie(),r=X({contextmenuItems:[{name:"refresh",label:"\u91CD\u65B0\u52A0\u8F7D",icon:"fa fa-refresh"},{name:"close",label:"\u5173\u95ED\u6807\u7B7E",icon:"fa fa-times"},{name:"fullScreen",label:"\u5F53\u524D\u6807\u7B7E\u5168\u5C4F",icon:"el-icon-FullScreen"},{name:"closeOther",label:"\u5173\u95ED\u5176\u4ED6\u6807\u7B7E",icon:"fa fa-minus"},{name:"closeAll",label:"\u5173\u95ED\u5168\u90E8\u6807\u7B7E",icon:"fa fa-stop"}]}),h=X({width:"0",transform:"translateX(0px)"}),S=g=>{t.push({path:g.path,query:g.query,params:g.params})},p=(g,T)=>{r.contextmenuItems[0].disabled=a.path!==g.path,r.contextmenuItems[4].disabled=r.contextmenuItems[3].disabled=s.state.tabsView.length==1;const{clientX:I,clientY:z}=T;x.value.onShowContextmenu(g,{x:I,y:z})},i=function(g){if(!g)return!1;h.width=g.clientWidth+"px",h.transform=`translateX(${g.offsetLeft}px)`;let T=g.offsetLeft+g.clientWidth-y.value.clientWidth;g.offsetLeft<y.value.scrollLeft?y.value.scrollTo(g.offsetLeft,0):T>y.value.scrollLeft&&y.value.scrollTo(T,0)},B=()=>{const g=s.state.tabsView.slice(-1)[0];g?t.push(g.path):t.push("/admin")},c=g=>{var T;s.closeTab(g),v.eventBus.emit("onTabViewClose",g),((T=s.state.activeRoute)==null?void 0:T.path)===g.path?B():(s.setActiveRoute(s.state.activeRoute),ne(()=>{i(f.value[s.state.activeIndex])})),x.value.onHideContextmenu()},$=()=>{s.closeTabs(!1);let g=qe(s.state.tabsViewRoutes);g&&he("",{},g.path)},U=async g=>{var z;const{name:T,menu:I}=g;switch(T){case"refresh":v.eventBus.emit("onTabViewRefresh",I);break;case"close":c(I);break;case"closeOther":s.closeTabs(I),s.setActiveRoute(I),((z=s.state.activeRoute)==null?void 0:z.path)!==a.path&&t.push(I.path);break;case"closeAll":$();break;case"fullScreen":a.path!==(I==null?void 0:I.path)&&t.push(I==null?void 0:I.path),s.setFullScreen(!0);break}},O=function(g){s.addTab(g),s.setActiveRoute(g),ne(()=>{i(f.value[s.state.activeIndex])})};return ve(async g=>{O(g)}),J(()=>{O(a),new Xe(y.value)}),(g,T)=>{const I=m("Icon");return u(),V(D,null,[d("div",{class:"nav-tabs",ref_key:"tabScrollbarRef",ref:y},[(u(!0),V(D,null,Z(e(s).state.tabsView,(z,L)=>(u(),V("div",{onClick:G=>S(z),onContextmenu:te(G=>p(z,G),["prevent"]),class:P(["ba-nav-tab",e(s).state.activeIndex==L?"active":""]),ref_for:!0,ref:e(f).set,key:L},[M(w(z.title)+" ",1),o(_e,{onAfterLeave:T[0]||(T[0]=G=>i(e(f)[e(s).state.activeIndex])),name:"el-fade-in"},{default:n(()=>[H(o(I,{class:"close-icon",onClick:te(G=>c(z),["stop"]),size:"15",name:"el-icon-Close"},null,8,["onClick"]),[[Me,e(s).state.tabsView.length>1]])]),_:2},1024)],42,$a))),128)),d("div",{style:ae(h),class:"nav-tabs-active-box"},null,4)],512),o(Ba,{ref_key:"contextmenuRef",ref:x,items:r.contextmenuItems,onContextmenuItemClick:U},null,8,["items"])],64)}}});var Oe=R(Va,[["__scopeId","data-v-3cb575c2"]]);const $e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],K=(()=>{if(typeof document=="undefined")return!1;const _=$e[0],a={};for(const t of $e)if((t==null?void 0:t[1])in document){for(const[s,v]of t.entries())a[_[s]]=v;return a}return!1})(),Ve={change:K.fullscreenchange,error:K.fullscreenerror};let N={request(_=document.documentElement,a){return new Promise((t,l)=>{const s=()=>{N.off("change",s),t()};N.on("change",s);const v=_[K.requestFullscreen](a);v instanceof Promise&&v.then(s).catch(l)})},exit(){return new Promise((_,a)=>{if(!N.isFullscreen){_();return}const t=()=>{N.off("change",t),_()};N.on("change",t);const l=document[K.exitFullscreen]();l instanceof Promise&&l.then(t).catch(a)})},toggle(_,a){return N.isFullscreen?N.exit():N.request(_,a)},onchange(_){N.on("change",_)},onerror(_){N.on("error",_)},on(_,a){const t=Ve[_];t&&document.addEventListener(t,a,!1)},off(_,a){const t=Ve[_];t&&document.removeEventListener(t,a,!1)},raw:K};Object.defineProperties(N,{isFullscreen:{get:()=>Boolean(document[K.fullscreenElement])},element:{enumerable:!0,get:()=>{var _;return(_=document[K.fullscreenElement])!=null?_:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[K.fullscreenEnabled])}});K||(N={isEnabled:!1});var re=N;const ye=_=>(Ae("data-v-a06ba130"),_=_(),Ee(),_),Ia={class:"layout-config-drawer"},Ma={class:"layout-mode-styles-box"},za={class:"layout-mode-box-style"},Aa=ye(()=>d("div",{class:"layout-mode-style-box"},[d("div",{class:"layout-mode-style-aside"}),d("div",{class:"layout-mode-style-container-box"},[d("div",{class:"layout-mode-style-header"}),d("div",{class:"layout-mode-style-container"})])],-1)),Ea={class:"layout-mode-style-name"},La=ye(()=>d("div",{class:"layout-mode-style-box"},[d("div",{class:"layout-mode-style-aside"}),d("div",{class:"layout-mode-style-container-box"},[d("div",{class:"layout-mode-style-header"}),d("div",{class:"layout-mode-style-container"})])],-1)),Fa={class:"layout-mode-style-name"},Ra=ye(()=>d("div",{class:"layout-mode-style-box"},[d("div",{class:"layout-mode-style-container-box"},[d("div",{class:"layout-mode-style-header"}),d("div",{class:"layout-mode-style-container"})])],-1)),Da={class:"layout-mode-style-name"},Pa={class:"layout-config-global"},Na={class:"layout-config-aside"},qa=M("px"),Wa={class:"layout-config-aside"},Ua={class:"ba-center"},ja=A({__name:"config",setup(_){const{t:a}=be(),t=q(),l=W(),s=ze(),v=ia(),y=ca(v),f=B=>{y(B),t.setLayout("isDark",B),t.onSetLayoutColor()},x=(B,c)=>{t.setLayout(c,B)},r=(B,c)=>{const $=t.layout[c];t.layout.isDark?$[1]=B:$[0]=B,t.setLayout(c,$)},h=B=>{ce.set(ue,{layoutMode:B,menuCollapse:t.layout.menuCollapse}),t.setLayoutMode(B)},S=(B,c)=>{t.setLayout(c,B);const $=l.state.tabsViewRoutes;l.setTabsViewRoutes([]),setTimeout(()=>{l.setTabsViewRoutes($)},200)},p=()=>{t.setLayout("showDrawer",!1)},i=()=>{Le.remove(Ye),ce.remove(ue),y(!1),s.go(0)};return(B,c)=>{const $=m("el-divider"),U=m("el-col"),O=m("el-row"),g=m("el-switch"),T=m("el-form-item"),I=m("el-option"),z=m("el-select"),L=m("el-color-picker"),G=m("el-input"),j=m("el-button"),b=m("el-popconfirm"),Q=m("el-form"),ee=m("el-scrollbar"),de=m("el-drawer");return u(),V("div",Ia,[o(de,{"model-value":e(t).layout.showDrawer,title:e(a)("layouts.Layout configuration"),size:"310px",onClose:p},{default:n(()=>[o(ee,{class:"layout-mode-style-scrollbar"},{default:n(()=>[o(Q,{ref:"formRef",model:e(t).layout},{default:n(()=>[d("div",Ma,[o($,{"border-style":"dashed"},{default:n(()=>[M(w(e(a)("layouts.Layout mode")),1)]),_:1}),d("div",za,[o(O,{class:"layout-mode-box-style-row",gutter:10},{default:n(()=>[o(U,{span:12},{default:n(()=>[d("div",{onClick:c[0]||(c[0]=k=>h("Default")),class:P(["layout-mode-style default",e(t).layout.layoutMode=="Default"?"active":""])},[Aa,d("div",Ea,w(e(a)("layouts.default")),1)],2)]),_:1}),o(U,{span:12},{default:n(()=>[d("div",{onClick:c[1]||(c[1]=k=>h("Classic")),class:P(["layout-mode-style classic",e(t).layout.layoutMode=="Classic"?"active":""])},[La,d("div",Fa,w(e(a)("layouts.classic")),1)],2)]),_:1})]),_:1}),o(O,{gutter:10},{default:n(()=>[o(U,{span:12},{default:n(()=>[d("div",{onClick:c[2]||(c[2]=k=>h("Streamline")),class:P(["layout-mode-style streamline",e(t).layout.layoutMode=="Streamline"?"active":""])},[Ra,d("div",Da,w(e(a)("layouts.Single column")),1)],2)]),_:1})]),_:1})]),o($,{"border-style":"dashed"},{default:n(()=>[M(w(e(a)("layouts.overall situation")),1)]),_:1}),d("div",Pa,[o(T,{size:"large",label:e(a)("layouts.Dark mode")},{default:n(()=>[o(g,{modelValue:e(t).layout.isDark,"onUpdate:modelValue":c[3]||(c[3]=k=>e(t).layout.isDark=k),onChange:c[4]||(c[4]=k=>f(k)),"active-icon":"el-icon-Moon","inactive-icon":"el-icon-Sunny"},null,8,["modelValue"])]),_:1},8,["label"]),o(T,{label:e(a)("layouts.Background page switching animation")},{default:n(()=>[o(z,{onChange:c[5]||(c[5]=k=>x(k,"mainAnimation")),"model-value":e(t).layout.mainAnimation,placeholder:e(a)("layouts.Please select an animation name")},{default:n(()=>[o(I,{label:"slide-right",value:"slide-right"}),o(I,{label:"slide-left",value:"slide-left"}),o(I,{label:"el-fade-in-linear",value:"el-fade-in-linear"}),o(I,{label:"el-fade-in",value:"el-fade-in"}),o(I,{label:"el-zoom-in-center",value:"el-zoom-in-center"}),o(I,{label:"el-zoom-in-top",value:"el-zoom-in-top"}),o(I,{label:"el-zoom-in-bottom",value:"el-zoom-in-bottom"})]),_:1},8,["model-value","placeholder"])]),_:1},8,["label"])]),o($,{"border-style":"dashed"},{default:n(()=>[M(w(e(a)("layouts.sidebar")),1)]),_:1}),d("div",Na,[o(T,{label:e(a)("layouts.Side menu bar background color")},{default:n(()=>[o(L,{onChange:c[6]||(c[6]=k=>r(k,"menuBackground")),"model-value":e(t).getColorVal("menuBackground")},null,8,["model-value"])]),_:1},8,["label"]),o(T,{label:e(a)("layouts.Side menu text color")},{default:n(()=>[o(L,{onChange:c[7]||(c[7]=k=>r(k,"menuColor")),"model-value":e(t).getColorVal("menuColor")},null,8,["model-value"])]),_:1},8,["label"]),o(T,{label:e(a)("layouts.Side menu active item background color")},{default:n(()=>[o(L,{onChange:c[8]||(c[8]=k=>r(k,"menuActiveBackground")),"model-value":e(t).getColorVal("menuActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),o(T,{label:e(a)("layouts.Side menu active item text color")},{default:n(()=>[o(L,{onChange:c[9]||(c[9]=k=>r(k,"menuActiveColor")),"model-value":e(t).getColorVal("menuActiveColor")},null,8,["model-value"])]),_:1},8,["label"]),o(T,{label:e(a)("layouts.Show side menu top bar (logo bar)")},{default:n(()=>[o(g,{onChange:c[10]||(c[10]=k=>x(k,"menuShowTopBar")),"model-value":e(t).layout.menuShowTopBar},null,8,["model-value"])]),_:1},8,["label"]),o(T,{label:e(a)("layouts.Side menu top bar background color")},{default:n(()=>[o(L,{onChange:c[11]||(c[11]=k=>r(k,"menuTopBarBackground")),"model-value":e(t).getColorVal("menuTopBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),o(T,{label:e(a)("layouts.Side menu width (when expanded)")},{default:n(()=>[o(G,{onInput:c[12]||(c[12]=k=>x(k,"menuWidth")),type:"number",step:10,"model-value":e(t).layout.menuWidth},{append:n(()=>[qa]),_:1},8,["model-value"])]),_:1},8,["label"]),o(T,{label:e(a)("layouts.Side menu default icon")},{default:n(()=>[o(ua,{onChange:c[13]||(c[13]=k=>S(k,"menuDefaultIcon")),"model-value":e(t).layout.menuDefaultIcon},null,8,["model-value"])]),_:1},8,["label"]),o(T,{label:e(a)("layouts.Side menu horizontal collapse")},{default:n(()=>[o(g,{onChange:c[14]||(c[14]=k=>x(k,"menuCollapse")),"model-value":e(t).layout.menuCollapse},null,8,["model-value"])]),_:1},8,["label"]),o(T,{label:e(a)("layouts.Side menu accordion")},{default:n(()=>[o(g,{onChange:c[15]||(c[15]=k=>x(k,"menuUniqueOpened")),"model-value":e(t).layout.menuUniqueOpened},null,8,["model-value"])]),_:1},8,["label"])]),o($,{"border-style":"dashed"},{default:n(()=>[M(w(e(a)("layouts.Top bar")),1)]),_:1}),d("div",Wa,[o(T,{label:e(a)("layouts.Top bar background color")},{default:n(()=>[o(L,{onChange:c[16]||(c[16]=k=>r(k,"headerBarBackground")),"model-value":e(t).getColorVal("headerBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),o(T,{label:e(a)("layouts.Top bar text color")},{default:n(()=>[o(L,{onChange:c[17]||(c[17]=k=>r(k,"headerBarTabColor")),"model-value":e(t).getColorVal("headerBarTabColor")},null,8,["model-value"])]),_:1},8,["label"]),o(T,{label:e(a)("layouts.Background color when hovering over the top bar")},{default:n(()=>[o(L,{onChange:c[18]||(c[18]=k=>r(k,"headerBarHoverBackground")),"model-value":e(t).getColorVal("headerBarHoverBackground")},null,8,["model-value"])]),_:1},8,["label"]),o(T,{label:e(a)("layouts.Top bar menu active item background color")},{default:n(()=>[o(L,{onChange:c[19]||(c[19]=k=>r(k,"headerBarTabActiveBackground")),"model-value":e(t).getColorVal("headerBarTabActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),o(T,{label:e(a)("layouts.Top bar menu active item text color")},{default:n(()=>[o(L,{onChange:c[20]||(c[20]=k=>r(k,"headerBarTabActiveColor")),"model-value":e(t).getColorVal("headerBarTabActiveColor")},null,8,["model-value"])]),_:1},8,["label"])]),o(b,{onConfirm:i,title:e(a)("layouts.Are you sure you want to restore all configurations to the default values?")},{reference:n(()=>[d("div",Ua,[o(j,{class:"w80",type:"info"},{default:n(()=>[M(w(e(a)("layouts.Restore default")),1)]),_:1})])]),_:1},8,["title"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["model-value","title"])])}}});var Ha=R(ja,[["__scopeId","data-v-a06ba130"]]);const Oa={class:"command"},Ka={class:"task-opt"},Xa=["onClick"],Ya={class:"indent-2"},Ga={class:"package-manager-dialog-footer"},Ja=M("npm"),Za=M("cnpm"),Qa=M("pnpm"),et=M("yarn"),at=M("ni"),tt={class:"config-buttons"},ot=A({__name:"index",setup(_){const{t:a}=be(),t=fe(),l=X({terminalWarning:"",port:t.state.port,menuExpand:document.documentElement.clientWidth>1840}),s=oe(()=>{let p=t.state.port==""?"80":t.state.port;return p=="8000"?"php think run":"php think run -p "+p}),v=oe(()=>{let p=t.state.port==""?"":":"+t.state.port;return"http://localhost"+p+" "+a("terminal.or")+" http://"+a("terminal.Site domain name")+p}),y=p=>{Se({port:p}).then(i=>{i.code==1?(t.changePort(p),S()):l.port=t.state.port}).catch(()=>{l.port=t.state.port})},f=p=>{let i=a("terminal.unknown"),B="info";switch(p){case F.Waiting:i=a("terminal.Waiting for execution"),B="info";break;case F.Connecting:i=a("terminal.Connecting"),B="warning";break;case F.Executing:i=a("terminal.Executing"),B="warning";break;case F.Success:i=a("terminal.Successful execution"),B="success";break;case F.Failed:i=a("terminal.Execution failed"),B="danger";break;case F.Unknown:i=a("terminal.Unknown execution result"),B="danger";break}return{statusText:i,statusType:B}},x=()=>{Ze.confirm(a("terminal.Are you sure you want to republish?"),a("Reminder"),{confirmButtonText:a("Confirm"),cancelButtonText:a("Cancel"),type:"warning"}).then(()=>{t.addTaskPM("web-build")})},r=p=>{Se({manager:p}).then(i=>{i.code==1&&t.changePackageManager(p)}),t.togglePackageManagerDialog(!1)},h=p=>{l.terminalWarning=p},S=()=>{Qe()!=t.state.port?h(a("terminal.The current terminal is not running under the installation service, and some commands may not be executed")):h("")};return Fe(()=>t.state.port,p=>{p!=l.port&&(l.port=p,S())}),J(()=>{S()}),(p,i)=>{const B=m("el-tag"),c=m("el-button"),$=m("Icon"),U=m("el-card"),O=m("el-timeline-item"),g=m("el-timeline"),T=m("el-empty"),I=m("el-button-group"),z=m("el-alert"),L=m("el-dialog"),G=m("el-form"),j=Ge("blur");return u(),V(D,null,[o(L,Je(p.$attrs,{modelValue:e(t).state.show,"onUpdate:modelValue":i[7]||(i[7]=b=>e(t).state.show=b),title:e(a)("terminal.Terminal"),"custom-class":"ba-terminal-dialog","append-to-body":!0}),{default:n(()=>[e(t).state.taskList.length?(u(),C(g,{key:0},{default:n(()=>[(u(!0),V(D,null,Z(e(t).state.taskList,(b,Q)=>(u(),C(O,{key:Q,class:P(["task-item","task-status-"+b.status]),type:f(b.status).statusType,center:"",timestamp:b.createtime,placement:"top"},{default:n(()=>[o(U,null,{default:n(()=>[d("div",null,[o(B,{type:f(b.status).statusType},{default:n(()=>[M(w(f(b.status).statusText),1)]),_:2},1032,["type"]),(b.status==e(F).Failed||b.status==e(F).Unknown)&&b.blockOnFailure?(u(),C(B,{key:0,class:"block-on-failure-tag",type:"warning"},{default:n(()=>[M(w(e(a)("terminal.Failure to execute this command will block the execution of the queue")),1)]),_:1})):E("",!0),b.status==e(F).Executing||b.status==e(F).Connecting?(u(),C(B,{key:1,class:"block-on-failure-tag",type:"danger"},{default:n(()=>[M(w(e(a)("terminal.Do not refresh the browser")),1)]),_:1})):E("",!0),d("span",Oa,w(b.command),1),d("div",Ka,[b.status==e(F).Failed||b.status==e(F).Unknown?H((u(),C(c,{key:0,title:e(a)("Retry"),size:"small",type:"warning",icon:"el-icon-RefreshRight",circle:"",onClick:ee=>e(t).retryTask(Q)},null,8,["title","onClick"])),[[j]]):E("",!0),H(o(c,{onClick:ee=>e(t).delTask(Q),title:e(a)("delete"),size:"small",type:"danger",icon:"el-icon-Delete",circle:""},null,8,["onClick","title"]),[[j]])])]),b.status!=e(F).Waiting?(u(),V(D,{key:0},[b.status!=e(F).Connecting&&b.status!=e(F).Executing?(u(),V("div",{key:0,onClick:ee=>e(t).setTaskShowMessage(Q),class:"toggle-message-display"},[d("span",null,w(e(a)("terminal.Command run log")),1),o($,{name:b.showMessage?"el-icon-ArrowUp":"el-icon-ArrowDown",size:"16",color:"#909399"},null,8,["name"])],8,Xa)):E("",!0),b.status==e(F).Connecting||b.status==e(F).Executing||b.status>e(F).Executing&&b.showMessage?(u(),V("div",{key:1,class:P(["exec-message","exec-message-"+b.uuid])},[(u(!0),V(D,null,Z(b.message,(ee,de)=>(u(),V("div",{key:de,class:"message-item"},w(ee),1))),128))],2)):E("",!0)],64)):E("",!0)]),_:2},1024)]),_:2},1032,["class","type","timestamp"]))),128))]),_:1})):(u(),C(T,{key:1,"image-size":80,description:e(a)("terminal.No mission yet")},null,8,["description"])),o(I,null,{default:n(()=>[H((u(),C(c,{class:"terminal-menu-item",icon:"el-icon-MagicStick",onClick:i[0]||(i[0]=b=>e(t).addTaskPM("test-install",!1))},{default:n(()=>[M(w(e(a)("terminal.Test command")),1)]),_:1})),[[j]]),H((u(),C(c,{class:"terminal-menu-item",icon:"el-icon-Download",onClick:i[1]||(i[1]=b=>e(t).addTaskPM("web-install"))},{default:n(()=>[M(w(e(a)("terminal.Install dependent packages")),1)]),_:1})),[[j]]),H((u(),C(c,{class:"terminal-menu-item",icon:"el-icon-Sell",onClick:i[2]||(i[2]=b=>x())},{default:n(()=>[M(w(e(a)("terminal.Republish")),1)]),_:1})),[[j]]),l.menuExpand?(u(),V(D,{key:1},[H((u(),C(c,{class:"terminal-menu-item",icon:"el-icon-Delete",onClick:i[4]||(i[4]=b=>e(t).clearSuccessTask())},{default:n(()=>[M(w(e(a)("terminal.Clean up task list")),1)]),_:1})),[[j]]),H((u(),C(c,{class:"terminal-menu-item",icon:"el-icon-Switch",onClick:i[5]||(i[5]=b=>e(t).togglePackageManagerDialog(!0))},{default:n(()=>[M(w(e(a)("terminal.Package manager"))+" "+w(e(t).state.packageManager.toUpperCase()),1)]),_:1})),[[j]]),H((u(),C(c,{class:"terminal-menu-item",icon:"el-icon-Tools",onClick:i[6]||(i[6]=b=>e(t).toggleConfigDialog())},{default:n(()=>[M(w(e(a)("terminal.Terminal settings")),1)]),_:1})),[[j]])],64)):H((u(),C(c,{key:0,class:"terminal-menu-item",icon:"el-icon-Expand",onClick:i[3]||(i[3]=b=>l.menuExpand=!0)},null,512)),[[j]])]),_:1}),l.terminalWarning?(u(),C(z,{key:2,title:l.terminalWarning,type:"warning"},null,8,["title"])):E("",!0)]),_:1},16,["modelValue","title"]),o(L,{onClose:i[14]||(i[14]=b=>e(t).togglePackageManagerDialog(!1)),"model-value":e(t).state.showPackageManagerDialog,"custom-class":"ba-terminal-dialog",title:e(a)("terminal.Please select package manager"),center:""},{footer:n(()=>[d("div",Ga,[o(c,{onClick:i[8]||(i[8]=b=>r("npm"))},{default:n(()=>[Ja]),_:1}),o(c,{onClick:i[9]||(i[9]=b=>r("cnpm"))},{default:n(()=>[Za]),_:1}),o(c,{onClick:i[10]||(i[10]=b=>r("pnpm"))},{default:n(()=>[Qa]),_:1}),o(c,{onClick:i[11]||(i[11]=b=>r("yarn"))},{default:n(()=>[et]),_:1}),o(c,{onClick:i[12]||(i[12]=b=>r("ni"))},{default:n(()=>[at]),_:1}),o(c,{onClick:i[13]||(i[13]=b=>r("none"))},{default:n(()=>[M(w(e(a)("terminal.I want to execute the command manually")),1)]),_:1})])]),default:n(()=>[d("div",Ya,w(e(a)("terminal.Switch package manager title")),1)]),_:1},8,["model-value","title"]),o(L,{onClose:i[19]||(i[19]=b=>e(t).toggleConfigDialog(!1)),"model-value":e(t).state.showConfig,"custom-class":"ba-terminal-dialog",title:e(a)("terminal.Terminal settings")},{default:n(()=>[o(G,{"label-position":"top"},{default:n(()=>[o(se,{label:e(a)("terminal.Install service port"),modelValue:l.port,"onUpdate:modelValue":i[15]||(i[15]=b=>l.port=b),type:"number","input-attr":{onChange:y},placeholder:e(a)("terminal.The port number to start the installation service (this port needs to be opened for external network access)")},null,8,["label","modelValue","input-attr","placeholder"]),o(se,{label:e(a)("terminal.Installation service startup command"),modelValue:e(s),"onUpdate:modelValue":i[16]||(i[16]=b=>Te(s)?s.value=b:null),type:"string","input-attr":{disabled:!0},attr:{"block-help":e(a)("terminal.Please execute this command to start the service (add Su under Linux)")}},null,8,["label","modelValue","attr"]),o(se,{label:e(a)("terminal.Installation service URL"),modelValue:e(v),"onUpdate:modelValue":i[17]||(i[17]=b=>Te(v)?v.value=b:null),type:"string","input-attr":{disabled:!0},attr:{"block-help":e(a)("terminal.Please access the site through the installation service URL (except in debug mode)")}},null,8,["label","modelValue","attr"])]),_:1}),o(se,{label:e(a)("terminal.Clean up successful tasks when starting a new task"),"model-value":e(t).state.automaticCleanupTask,type:"radio",data:{content:{0:e(a)("Disable"),1:e(a)("Enable")},childrenAttr:{border:!0}},"input-attr":{onChange:e(t).changeAutomaticCleanupTask}},null,8,["label","model-value","data","input-attr"]),d("div",tt,[o(c,{onClick:i[18]||(i[18]=b=>e(t).toggleConfigDialog(!1))},{default:n(()=>[M(w(e(a)("terminal.Back to terminal")),1)]),_:1})])]),_:1},8,["model-value","title"])],64)}}});var nt=R(ot,[["__scopeId","data-v-7ac1fa5a"]]);const lt={class:"nav-menu-item"},st=["src"],rt={class:"admin-name"},it={class:"admin-info-base"},ct=["src"],ut={class:"admin-info-other"},dt={class:"admin-info-name"},mt={class:"admin-info-lasttime"},vt={class:"admin-info-footer"},pt=A({__name:"navMenus",setup(_){Y(S=>({"9eb8198c":e(l).getColorVal("headerBarBackground"),"454ab81a":e(l).getColorVal("headerBarTabColor"),"3d3181a8":e(l).getColorVal("headerBarHoverBackground")}));const{t:a}=be(),t=Re(),l=q(),s=fe(),v=X({isFullScreen:!1,currentNavMenu:"",showLayoutDrawer:!1}),y=(S,p)=>{v.currentNavMenu=S?p:""},f=()=>{if(!re.isEnabled)return aa.warning(a("layout.Full screen is not supported")),!1;re.toggle(),re.onchange(()=>{v.isFullScreen=re.isFullscreen})},x=()=>{he("routine/adminInfo")},r=()=>{va().then(()=>{Le.remove(ta),me.go(0)})},h=S=>{oa(S).then(()=>{})};return(S,p)=>{const i=m("Icon"),B=m("router-link"),c=m("el-dropdown-item"),$=m("el-dropdown-menu"),U=m("el-dropdown"),O=m("el-badge"),g=m("el-avatar"),T=m("el-button"),I=m("el-popover");return u(),V("div",{class:P(["nav-menus",e(l).layout.layoutMode])},[o(B,{class:"h100",target:"_blank",title:e(a)("home"),to:"/"},{default:n(()=>[d("div",lt,[o(i,{color:e(l).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Monitor",size:"18"},null,8,["color"])])]),_:1},8,["title"]),o(U,{onVisibleChange:p[0]||(p[0]=z=>y(z,"lang")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:n(()=>[o($,{class:"dropdown-menu-box"},{default:n(()=>[(u(!0),V(D,null,Z(e(l).lang.langArray,z=>(u(),C(c,{key:z.name,onClick:L=>e(ea)(z.name)},{default:n(()=>[M(w(z.value),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:n(()=>[d("div",{class:P(["nav-menu-item pt2",v.currentNavMenu=="lang"?"hover":""])},[o(i,{color:e(l).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-lang",size:"18"},null,8,["color"])],2)]),_:1}),d("div",{onClick:f,class:P(["nav-menu-item",v.isFullScreen?"hover":""])},[v.isFullScreen?(u(),C(i,{key:0,color:e(l).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-full-screen-cancel",size:"18"},null,8,["color"])):(u(),C(i,{key:1,color:e(l).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-FullScreen",size:"18"},null,8,["color"]))],2),e(t).super?(u(),V("div",{key:0,onClick:p[1]||(p[1]=z=>e(s).toggle()),class:"nav-menu-item pt2"},[o(O,{"is-dot":e(s).state.showDot},{default:n(()=>[o(i,{color:e(l).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-terminal",size:"26"},null,8,["color"])]),_:1},8,["is-dot"])])):E("",!0),e(t).super?(u(),C(U,{key:1,onVisibleChange:p[3]||(p[3]=z=>y(z,"clear")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:n(()=>[o($,{class:"dropdown-menu-box"},{default:n(()=>[o(c,{onClick:p[2]||(p[2]=z=>h("tp"))},{default:n(()=>[M(w(e(a)("utils.Clean up system cache")),1)]),_:1})]),_:1})]),default:n(()=>[d("div",{class:P(["nav-menu-item",v.currentNavMenu=="clear"?"hover":""])},[o(i,{color:e(l).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Delete",size:"18"},null,8,["color"])],2)]),_:1})):E("",!0),o(I,{onShow:p[4]||(p[4]=z=>y(!0,"adminInfo")),onHide:p[5]||(p[5]=z=>y(!1,"adminInfo")),placement:"bottom-end","hide-after":0,width:260,trigger:"click","popper-class":"admin-info-box"},{reference:n(()=>[d("div",{class:P(["admin-info",v.currentNavMenu=="adminInfo"?"hover":""])},[o(g,{size:25,fit:"fill"},{default:n(()=>[d("img",{src:e(t).avatar,alt:""},null,8,st)]),_:1}),d("div",rt,w(e(t).nickname),1)],2)]),default:n(()=>[d("div",null,[d("div",it,[o(g,{size:70,fit:"fill"},{default:n(()=>[d("img",{src:e(t).avatar,alt:""},null,8,ct)]),_:1}),d("div",ut,[d("div",dt,w(e(t).nickname),1),d("div",mt,w(e(t).lastlogintime),1)])]),d("div",vt,[o(T,{onClick:x,type:"primary",plain:""},{default:n(()=>[M(w(e(a)("layouts.personal data")),1)]),_:1}),o(T,{onClick:r,type:"danger",plain:""},{default:n(()=>[M(w(e(a)("layouts.cancellation")),1)]),_:1})])])]),_:1}),d("div",{onClick:p[6]||(p[6]=z=>e(l).setLayout("showDrawer",!0)),class:"nav-menu-item"},[o(i,{color:e(l).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"fa fa-cogs",size:"18"},null,8,["color"])]),o(Ha),o(nt)],2)}}});var xe=R(pt,[["__scopeId","data-v-1daab689"]]);const _t={class:"nav-bar"},bt=A({__name:"default",setup(_){Y(t=>({"2aa200da":e(a).getColorVal("headerBarTabColor"),e593da18:e(a).getColorVal("headerBarTabActiveColor"),"17a6902b":e(a).getColorVal("headerBarTabActiveBackground")}));const a=q();return(t,l)=>(u(),V("div",_t,[o(Oe),o(xe)]))}});var ft=R(bt,[["__scopeId","data-v-e08b3cae"]]);const gt={class:"nav-bar"},ht={key:0,class:"unfold"},yt=A({__name:"classic",setup(_){Y(l=>({"26bacab6":e(a).getColorVal("headerBarBackground"),"28e93e96":e(a).getColorVal("headerBarTabColor"),"2f6f13b0":e(a).getColorVal("headerBarTabActiveColor"),"7e97b530":e(a).getColorVal("headerBarHoverBackground"),"31dca4ef":e(a).getColorVal("headerBarTabActiveBackground")}));const a=q(),t=()=>{ba("ba-aside-menu-shade",()=>{a.setLayout("menuCollapse",!0)}),a.setLayout("menuCollapse",!1)};return(l,s)=>{const v=m("Icon");return u(),V("div",gt,[e(a).layout.shrink&&e(a).layout.menuCollapse?(u(),V("div",ht,[o(v,{onClick:t,name:"fa fa-indent",color:e(a).getColorVal("menuActiveColor"),size:"18"},null,8,["color"])])):E("",!0),e(a).layout.shrink?E("",!0):(u(),C(Oe,{key:1})),o(xe)])}}});var xt=R(yt,[["__scopeId","data-v-79c162de"]]);const kt={class:"layouts-menu-horizontal"},wt={key:0,class:"menu-horizontal-logo"},Ct=A({__name:"menuHorizontal",setup(_){Y(r=>({"262b7024":e(t).getColorVal("headerBarHoverBackground"),"5f33d8ad":e(t).getColorVal("menuBackground"),"6a8bfd9c":e(t).getColorVal("menuColor"),"2b1b1d68":e(t).getColorVal("menuActiveColor"),c4c12e5a:e(t).getColorVal("menuActiveBackground")}));const a=ie(),t=q(),l=W(),s=le(),v=X({menuKey:Be(),defaultActive:""}),y=oe(()=>(v.menuKey=Be(),l.state.tabsViewRoutes)),f=r=>{v.defaultActive=r.path},x=()=>{ne(()=>{var h;let r=document.querySelector(".el-menu.menu-horizontal li.is-active");if(!r)return!1;(h=a.value)==null||h.setScrollTop(r.offsetTop)})};return J(()=>{f(s),x()}),ve(r=>{f(r)}),(r,h)=>{const S=m("Icon"),p=m("el-sub-menu"),i=m("el-menu-item"),B=m("el-menu"),c=m("el-scrollbar");return u(),V("div",kt,[e(t).layout.menuShowTopBar?(u(),V("div",wt,[o(Ue)])):E("",!0),o(c,{ref_key:"horizontalMenusRef",ref:a,class:"horizontal-menus-scrollbar"},{default:n(()=>[(u(),C(B,{class:"menu-horizontal",mode:"horizontal","default-active":v.defaultActive,key:v.menuKey},{default:n(()=>[(u(!0),V(D,null,Z(e(y),$=>(u(),V(D,null,[$.children&&$.children.length>0?(u(),C(p,{index:$.path,key:$.path},{title:n(()=>[o(S,{color:e(t).getColorVal("menuColor"),name:$.icon?$.icon:e(t).layout.menuDefaultIcon},null,8,["color","name"]),d("span",null,w($.title?$.title:r.$t("noTitle")),1)]),default:n(()=>[o(je,{menus:$.children},null,8,["menus"])]),_:2},1032,["index"])):(u(),C(i,{index:$.path,key:$.path,onClick:U=>e(Pe)($)},{default:n(()=>[o(S,{color:e(t).getColorVal("menuColor"),name:$.icon?$.icon:e(t).layout.menuDefaultIcon},null,8,["color","name"]),d("span",null,w($.title?$.title:r.$t("noTitle")),1)]),_:2},1032,["index","onClick"]))],64))),256))]),_:1},8,["default-active"]))]),_:1},512),o(xe)])}}});var Tt=R(Ct,[["__scopeId","data-v-9344c9a2"]]);const St=A({name:"layout/header",components:{DefaultNavBar:ft,ClassicNavBar:xt,StreamlineNavBar:Tt}}),Bt=A({...St,setup(_){const a=q(),t=W();return(l,s)=>{const v=m("el-header");return e(t).state.tabFullScreen?E("",!0):(u(),C(v,{key:0,class:"layout-header"},{default:n(()=>[(u(),C(ge(e(a).layout.layoutMode+"NavBar")))]),_:1}))}}});var ke=R(Bt,[["__scopeId","data-v-7f580f42"]]);const $t=A({name:"layout/main"}),Vt=A({...$t,setup(_){const{proxy:a}=Ne(),t=le(),l=q(),s=W(),v=X({componentKey:t.path,keepAliveComponentNameList:[]}),y=function(f){if(f){if(v.keepAliveComponentNameList.find(r=>r===f))return;v.keepAliveComponentNameList.push(f)}};return De(()=>{a.eventBus.on("onTabViewRefresh",f=>{v.keepAliveComponentNameList=v.keepAliveComponentNameList.filter(x=>f.keepAlive!==x),v.componentKey="",ne(()=>{v.componentKey=f.path,y(f.keepAlive)})}),a.eventBus.on("onTabViewClose",f=>{v.keepAliveComponentNameList=v.keepAliveComponentNameList.filter(x=>f.keepAlive!==x)})}),pe(()=>{a.eventBus.off("onTabViewRefresh"),a.eventBus.off("onTabViewClose")}),J(()=>{var f;y((f=s.state.activeRoute)==null?void 0:f.keepAlive)}),Fe(()=>t.path,()=>{var f;v.componentKey=t.path,y((f=s.state.activeRoute)==null?void 0:f.keepAlive)}),(f,x)=>{const r=m("router-view"),h=m("el-scrollbar"),S=m("el-main");return u(),C(S,{class:"layout-main"},{default:n(()=>[o(h,{class:"layout-main-scrollbar",style:ae(e(_a)()),ref:"mainScrollbarRef"},{default:n(()=>[o(r,null,{default:n(({Component:p})=>[o(_e,{name:e(l).layout.mainAnimation,mode:"out-in"},{default:n(()=>[(u(),C(na,{include:v.keepAliveComponentNameList},[(u(),C(ge(p),{key:v.componentKey}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})]),_:1},8,["style"])]),_:1})}}});var we=R(Vt,[["__scopeId","data-v-4d5fefef"]]);const It=_=>(Ae("data-v-d04f5c2a"),_=_(),Ee(),_),Mt=["title","onMouseover","onMouseout"],zt=["onClick"],At=It(()=>d("div",{class:"close-full-screen-on"},null,-1)),Et=A({__name:"closeFullScreen",setup(_){const a=W(),t=X({closeBoxTop:20});J(()=>{setTimeout(()=>{t.closeBoxTop=-30},300)});const l=()=>{t.closeBoxTop=20},s=()=>{t.closeBoxTop=-30},v=()=>{a.setFullScreen(!1)};return(y,f)=>{const x=m("Icon");return u(),V("div",{title:y.$t("layout.Exit full screen"),onMouseover:te(l,["stop"]),onMouseout:te(s,["stop"])},[d("div",{onClick:te(v,["stop"]),class:"close-full-screen",style:ae({top:t.closeBoxTop+"px"})},[o(x,{name:"el-icon-Close"})],12,zt),At],40,Mt)}}});var Ce=R(Et,[["__scopeId","data-v-d04f5c2a"]]);const Lt=A({__name:"default",setup(_){const a=W();return(t,l)=>{const s=m("el-container");return u(),V(D,null,[o(s,{class:"layout-container"},{default:n(()=>[o(He),o(s,{class:"content-wrapper"},{default:n(()=>[o(ke),o(we)]),_:1})]),_:1}),e(a).state.tabFullScreen?(u(),C(Ce,{key:0})):E("",!0)],64)}}});var Ft=R(Lt,[["__scopeId","data-v-cc0da66a"]]);const Rt=A({__name:"classic",setup(_){const a=W();return(t,l)=>{const s=m("el-container");return u(),V(D,null,[o(s,{class:"layout-container"},{default:n(()=>[o(He),o(s,{class:"content-wrapper"},{default:n(()=>[o(ke),o(we)]),_:1})]),_:1}),e(a).state.tabFullScreen?(u(),C(Ce,{key:0})):E("",!0)],64)}}});var Dt=R(Rt,[["__scopeId","data-v-91c8af48"]]);const Pt=A({__name:"streamline",setup(_){const a=W();return(t,l)=>{const s=m("el-container");return u(),V(D,null,[o(s,{class:"layout-container"},{default:n(()=>[o(s,{class:"content-wrapper"},{default:n(()=>[o(ke),o(we)]),_:1})]),_:1}),e(a).state.tabFullScreen?(u(),C(Ce,{key:0})):E("",!0)],64)}}});var Nt=R(Pt,[["__scopeId","data-v-9111e4cc"]]);const qt={components:{Default:Ft,Classic:Dt,Streamline:Nt}},Ot=A({...qt,__name:"index",setup(_){const a=fe(),t=W(),l=q(),s=le(),v=Ie(),y=Re();J(()=>{if(!y.token)return me.push({name:"adminLogin"});f(),r(),window.addEventListener("resize",r)}),De(()=>{x(),window.addEventListener("resize",x)}),pe(()=>{window.removeEventListener("resize",x),window.removeEventListener("resize",r)});const f=()=>{pa().then(h=>{if(v.$state=h.data.siteConfig,a.changePort(h.data.terminal.install_service_port),a.changePackageManager(h.data.terminal.npm_package_manager),y.super=h.data.adminInfo.super,h.data.menus){let S=da(h.data.menus);if(t.setTabsViewRoutes(S),s.query&&s.query.url&&s.query.url!=la.path&&ma(S).indexOf(s.query.url)!==-1){let B=JSON.parse(s.query.query);me.push({path:s.query.url,query:Object.keys(B).length?B:{}});return}let p=qe(t.state.tabsViewRoutes);p&&he("",{},p.path)}})},x=()=>{let h={layoutMode:l.layout.layoutMode,menuCollapse:l.layout.menuCollapse},S=ce.get(ue);if(S||ce.set(ue,h),document.body.clientWidth<1024)l.setLayout("menuCollapse",!0),l.setLayout("shrink",!0),l.setLayoutMode("Classic");else{let i=S||h;l.setLayout("menuCollapse",i.menuCollapse),l.setLayout("shrink",!1),l.setLayoutMode(i.layoutMode)}},r=()=>{const h=document.querySelector(".nav-tabs");if(!h)return;const S=document.querySelector(".nav-bar"),p=document.querySelector(".nav-menus"),i=S.offsetWidth-(p.offsetWidth+20);h.style.width=i.toString()+"px"};return(h,S)=>(u(),C(ge(e(l).layout.layoutMode)))}});export{Ot as default};
