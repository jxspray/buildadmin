import{L as d,r as f,e as n,f as o}from"./common-535f3731.js";import{x as m,y as p}from"./vue-9a46e809.js";import{d as u}from"./index-ae07247d.js";import{u as h}from"./random-1d7fa280.js";const s=m("baAccount",{state:()=>({id:0,username:"",nickname:"",email:"",mobile:"",avatar:"",gender:0,birthday:"",money:0,score:0,lastlogintime:"",lastloginip:"",jointime:"",motto:"",token:"",refreshToken:""}),actions:{dataFill(e){this.$state=e},removeToken(){this.token="",this.refreshToken=""},getGenderIcon(){let e={name:"fa fa-transgender-alt",color:"var(--el-text-color-secondary)"};switch(this.gender){case 1:e={name:"fa fa-mars-stroke-v",color:"var(--el-color-primary)"};break;case 2:e={name:"fa fa-mars-stroke",color:"var(--el-color-danger)"};break}return e},setToken(e,t){this[t]=e},getToken(e="auth"){return e==="auth"?this.token:this.refreshToken},logout(){k().then(e=>{e.code==1&&(d.remove(u),f.go(0))})}},persist:{key:u}}),c="/api/user/",g="/api/common/captcha",r="/admin/module/",i="/api/v4.store/";function U(e={}){return o({url:r+"index",method:"get",params:e})}function A(e={}){const t=n();return o({url:t.apiUrl+i+"modules",method:"get",params:e})}function I(e){const t=s(),a=n();return o({url:a.apiUrl+i+"info",method:"get",params:e},{anotherToken:t.getToken("auth")})}function k(){const e=n(),t=s();return o({url:e.apiUrl+c+"logout",method:"POST",data:{refresh_token:t.getToken("refresh")}})}function S(){return n().apiUrl+g+"?server=1"}function v(e,t={}){const a=n();return o({url:a.apiUrl+c+"checkIn",data:t,method:e},{showSuccessMessage:!0})}function M(){const e=s(),t=n();return o({url:t.apiUrl+c+"info",method:"get"},{anotherToken:e.getToken("auth")})}function w(e={}){const t=s(),a=n();return o({url:a.apiUrl+i+"order",method:"post",params:e},{anotherToken:t.getToken("auth")})}function x(e,t){const a=s(),l=n();return o({url:l.apiUrl+i+"pay",method:"post",params:{order_id:e,pay_type:t}},{anotherToken:a.getToken("auth"),showSuccessMessage:!0})}function _(e){const t=s(),a=n();return o({url:a.apiUrl+"/api/pay/check",method:"get",params:{sn:e}},{anotherToken:t.getToken("auth"),showCodeMessage:!1})}function L(e){return o({url:r+"state",method:"get",params:{uid:e}})}function O(e,t,a={}){const l=s();return o({url:r+"install",method:"post",params:{uid:e,order_id:t,token:l.getToken("auth")},data:{extend:a}},{showCodeMessage:!1})}function P(e,t,a={}){const l=s();return o({url:r+"update",method:"POST",params:{uid:e,order_id:t,token:l.getToken("auth")},data:{extend:a}})}function j(e){return o({url:r+"uninstall",method:"post",params:{uid:e}},{showSuccessMessage:!0})}function q(e){return o({url:r+"changeState",method:"post",data:e},{showCodeMessage:!1})}function B(e){return o({url:r+"dependentInstallComplete",method:"post",params:{uid:e}})}function D(e){return o({url:r+"upload",method:"post",params:{file:e}})}const F=p({loading:{buy:!1,table:!0,common:!1,install:!1,goodsInfo:!1},dialog:{buy:!1,pay:!1,common:!1,goodsInfo:!1,baAccount:!1},table:{remark:"",modules:[],modulesEbak:[],category:[],onlyLocal:!1,indexLoaded:!1,params:{quickSearch:"",activeTab:"all"}},payInfo:{},goodsInfo:{},buy:{info:{},agreement:!0},common:{uid:"",moduleState:0,quickClose:!1,type:"loading",disableHmr:!1,dialogTitle:"",fileConflict:[],dependConflict:[],loadingTitle:"init",loadingComponentKey:h(),waitInstallDepend:[],dependInstallState:"none",disableConflictFile:[],disableDependConflict:[],disableParams:{}},installedModule:[],installedModuleUids:[]});export{w as a,S as b,v as c,_ as d,O as e,q as f,L as g,I as h,U as i,B as j,D as k,j as l,A as m,P as n,M as o,x as p,F as s,s as u};
