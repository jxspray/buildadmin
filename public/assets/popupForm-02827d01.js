import{h as E,w as $,ar as B,r as N,F as T,q as d,X as b,o as s,O as p,P as i,_ as g,k as W,V as _,U as h,z as e,m as P,l as k,p as r,$ as K,a9 as V,a8 as x,W as R}from"./vue-b1743f2f.js";import{e as j,t as G,w as L,_ as M}from"./index-730acb34.js";import{b as u,r as O}from"./validate-8c0a813e.js";import{F as m}from"./index-f319bf92.js";import"./index-4efe7d0a.js";import"./index-376c0ade.js";const X={class:"title"},H=E({__name:"popupForm",setup(J){const v=j(),C=G(),f=$(),o=B("baTable"),{t:a}=L(),y=N({username:[u({name:"required",title:a("auth.admin.username")}),u({name:"account"})],nickname:[u({name:"required",title:a("auth.admin.nickname")})],group_arr:[u({name:"required",message:a("Please select field",{field:a("auth.admin.grouping")})})],email:[u({name:"email",message:a("Please enter the correct field",{field:a("auth.admin.mailbox")})})],mobile:[u({name:"mobile",message:a("Please enter the correct field",{field:a("auth.admin.mobile")})})],password:[{validator:(c,l,n)=>{if(o.form.operate=="Add"){if(!l)return n(new Error(a("Please input field",{field:a("auth.admin.Password")})))}else if(!l)return n();return O(l)?n():n(new Error(a("validate.Please enter the correct password")))},trigger:"blur"}]});return T(()=>o.form.operate,c=>{y.password[0].required=c=="Add"}),(c,l)=>{const n=d("el-input"),U=d("el-form-item"),S=d("el-form"),A=d("el-scrollbar"),w=d("el-button"),F=d("el-dialog"),I=b("drag"),q=b("zoom"),z=b("loading"),D=b("blur");return s(),p(F,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(o).form.operate),onClose:e(o).toggleForm,"destroy-on-close":!0},{header:i(()=>[g((s(),W("div",X,[_(h(e(o).form.operate?e(a)(e(o).form.operate):""),1)])),[[I,[".ba-operate-dialog",".el-dialog__header"]],[q,".ba-operate-dialog"]])]),footer:i(()=>[P("div",{style:k("width: calc(100% - "+e(o).form.labelWidth/1.8+"px)")},[r(w,{onClick:l[12]||(l[12]=t=>e(o).toggleForm(""))},{default:i(()=>[_(h(e(a)("Cancel")),1)]),_:1}),g((s(),p(w,{loading:e(o).form.submitLoading,onClick:l[13]||(l[13]=t=>e(o).onSubmit(f.value)),type:"primary"},{default:i(()=>[_(h(e(o).form.operateIds&&e(o).form.operateIds.length>1?e(a)("Save and edit next item"):e(a)("Save")),1)]),_:1},8,["loading"])),[[D]])],4)]),default:i(()=>[g((s(),p(A,{class:"ba-table-form-scrollbar"},{default:i(()=>[P("div",{class:K(["ba-operate-form","ba-"+e(o).form.operate+"-form"]),style:k(e(v).layout.shrink?"":"width: calc(100% - "+e(o).form.labelWidth/2+"px)")},[e(o).form.loading?R("",!0):(s(),p(S,{key:0,ref_key:"formRef",ref:f,onKeyup:l[11]||(l[11]=V(t=>e(o).onSubmit(f.value),["enter"])),model:e(o).form.items,"label-position":e(v).layout.shrink?"top":"right","label-width":e(o).form.labelWidth+"px",rules:y},{default:i(()=>[r(m,{label:e(a)("auth.admin.username"),modelValue:e(o).form.items.username,"onUpdate:modelValue":l[0]||(l[0]=t=>e(o).form.items.username=t),type:"string",prop:"username",placeholder:e(a)("auth.admin.Administrator login")},null,8,["label","modelValue","placeholder"]),r(m,{label:e(a)("auth.admin.nickname"),modelValue:e(o).form.items.nickname,"onUpdate:modelValue":l[1]||(l[1]=t=>e(o).form.items.nickname=t),type:"string",prop:"nickname",placeholder:e(a)("Please input field",{field:e(a)("auth.admin.nickname")})},null,8,["label","modelValue","placeholder"]),(s(),p(m,{label:e(a)("auth.admin.grouping"),modelValue:e(o).form.items.group_arr,"onUpdate:modelValue":l[2]||(l[2]=t=>e(o).form.items.group_arr=t),prop:"group_arr",type:"remoteSelect",key:"group-"+e(o).form.items.id,"input-attr":{multiple:!0,params:{isTree:!0,absoluteAuth:e(C).id==e(o).form.items.id?0:1},field:"name","remote-url":"/admin/auth.Group/index",placeholder:e(a)("Click select")}},null,8,["label","modelValue","input-attr"])),r(m,{label:e(a)("auth.admin.head portrait"),type:"image",modelValue:e(o).form.items.avatar,"onUpdate:modelValue":l[3]||(l[3]=t=>e(o).form.items.avatar=t)},null,8,["label","modelValue"]),r(m,{label:e(a)("auth.admin.mailbox"),prop:"email",modelValue:e(o).form.items.email,"onUpdate:modelValue":l[4]||(l[4]=t=>e(o).form.items.email=t),type:"string",placeholder:e(a)("Please input field",{field:e(a)("auth.admin.mailbox")})},null,8,["label","modelValue","placeholder"]),r(m,{label:e(a)("auth.admin.mobile"),prop:"mobile",modelValue:e(o).form.items.mobile,"onUpdate:modelValue":l[5]||(l[5]=t=>e(o).form.items.mobile=t),type:"string",placeholder:e(a)("Please input field",{field:e(a)("auth.admin.mobile")})},null,8,["label","modelValue","placeholder"]),r(m,{label:e(a)("auth.admin.Password"),prop:"password",modelValue:e(o).form.items.password,"onUpdate:modelValue":l[6]||(l[6]=t=>e(o).form.items.password=t),type:"password",placeholder:e(o).form.operate=="Add"?e(a)("Please input field",{field:e(a)("auth.admin.Password")}):e(a)("auth.admin.Please leave blank if not modified")},null,8,["label","modelValue","placeholder"]),r(U,{prop:"motto",label:e(a)("auth.admin.Personal signature")},{default:i(()=>[r(n,{onKeyup:[l[7]||(l[7]=V(x(()=>{},["stop"]),["enter"])),l[8]||(l[8]=V(x(t=>e(o).onSubmit(f.value),["ctrl"]),["enter"]))],modelValue:e(o).form.items.motto,"onUpdate:modelValue":l[9]||(l[9]=t=>e(o).form.items.motto=t),type:"textarea",placeholder:e(a)("Please input field",{field:e(a)("auth.admin.Personal signature")})},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(m,{label:e(a)("State"),modelValue:e(o).form.items.status,"onUpdate:modelValue":l[10]||(l[10]=t=>e(o).form.items.status=t),type:"radio",data:{content:{0:e(a)("Disable"),1:e(a)("Enable")},childrenAttr:{border:!0}}},null,8,["label","modelValue","data"])]),_:1},8,["model","label-position","label-width","rules"]))],6)]),_:1})),[[z,e(o).form.loading]])]),_:1},8,["model-value","onClose"])}}});const le=M(H,[["__scopeId","data-v-f214c83c"]]);export{le as default};
