import{d as P,C as T,y as z,a as d,c as s,b as m,T as c,s as B,R as b,Q as g,u as e,v as V,e as r,t as v,a4 as D,S as _,Y as I,ah as N,r as p,X as u}from"./vue-9a46e809.js";import{a as R}from"./index-ae07247d.js";import{F as i}from"./index-a7be6d6a.js";const W={class:"title"},L=P({__name:"popupForm",setup($){const f=T(),t=N("baTable");t.api.actionUrl.set("createTemplateField","/admin/cms.module/createTemplateField"),t.after={onSubmit:function(n){var o;n.res.code==1&&((o=n.res.data)==null?void 0:o.id)>0&&t.api.postData("createTemplateField",{moduleid:n.res.data.id})}};const{t:l}=R(),w=z({});return(n,o)=>{const C=p("el-form"),h=p("el-scrollbar"),y=p("el-button"),k=p("el-dialog"),x=u("drag"),F=u("zoom"),S=u("loading"),U=u("blur");return d(),s(k,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":!!e(t).form.operate,onClose:e(t).toggleForm},{header:m(()=>[c((d(),B("div",W,[b(g(e(t).form.operate?e(l)(e(t).form.operate):""),1)])),[[x,[".ba-operate-dialog",".el-dialog__header"]],[F,".ba-operate-dialog"]])]),footer:m(()=>[V("div",{style:v("width: calc(100% - "+e(t).form.labelWidth/1.8+"px)")},[r(y,{onClick:o[8]||(o[8]=a=>e(t).toggleForm(""))},{default:m(()=>[b(g(e(l)("Cancel")),1)]),_:1}),c((d(),s(y,{loading:e(t).form.submitLoading,onClick:o[9]||(o[9]=a=>e(t).onSubmit(f.value)),type:"primary"},{default:m(()=>[b(g(e(t).form.operateIds&&e(t).form.operateIds.length>1?e(l)("Save and edit next item"):e(l)("Save")),1)]),_:1},8,["loading"])),[[U]])],4)]),default:m(()=>[c((d(),s(h,{class:"ba-table-form-scrollbar"},{default:m(()=>[V("div",{class:I(["ba-operate-form","ba-"+e(t).form.operate+"-form"]),style:v("width: calc(100% - "+e(t).form.labelWidth/2+"px)")},[e(t).form.loading?_("",!0):(d(),s(C,{key:0,ref_key:"formRef",ref:f,onKeyup:o[7]||(o[7]=D(a=>e(t).onSubmit(f.value),["enter"])),model:e(t).form.items,"label-position":"right","label-width":e(t).form.labelWidth+"px",rules:w},{default:m(()=>[r(i,{label:e(l)("cms.module.name"),type:"string",modelValue:e(t).form.items.name,"onUpdate:modelValue":o[0]||(o[0]=a=>e(t).form.items.name=a),prop:"name","input-attr":{placeholder:e(l)("Please input field",{field:e(l)("cms.module.name")})}},null,8,["label","modelValue","input-attr"]),r(i,{label:e(l)("cms.module.title"),type:"string",modelValue:e(t).form.items.title,"onUpdate:modelValue":o[1]||(o[1]=a=>e(t).form.items.title=a),prop:"title","input-attr":{placeholder:e(l)("Please input field",{field:e(l)("cms.module.title")})}},null,8,["label","modelValue","input-attr"]),r(i,{label:e(l)("cms.module.description"),type:"string",modelValue:e(t).form.items.description,"onUpdate:modelValue":o[2]||(o[2]=a=>e(t).form.items.description=a),prop:"description","input-attr":{placeholder:e(l)("Please input field",{field:e(l)("cms.module.description")})}},null,8,["label","modelValue","input-attr"]),r(i,{label:e(l)("cms.module.type"),type:"radio",modelValue:e(t).form.items.type,"onUpdate:modelValue":o[3]||(o[3]=a=>e(t).form.items.type=a),prop:"type",data:{content:{1:e(l)("cms.module.type 1"),2:e(l)("cms.module.type 2")}},"input-attr":{placeholder:e(l)("Please select field",{field:e(l)("cms.module.type")})}},null,8,["label","modelValue","data","input-attr"]),r(i,{label:e(l)("cms.module.weigh"),type:"number",prop:"weigh",modelValue:e(t).form.items.weigh,"onUpdate:modelValue":o[4]||(o[4]=a=>e(t).form.items.weigh=a),modelModifiers:{number:!0},"input-attr":{step:"1",placeholder:e(l)("Please input field",{field:e(l)("cms.module.weigh")})}},null,8,["label","modelValue","input-attr"]),r(i,{label:e(l)("cms.module.status"),type:"radio",modelValue:e(t).form.items.status,"onUpdate:modelValue":o[5]||(o[5]=a=>e(t).form.items.status=a),prop:"status",data:{content:{1:e(l)("cms.module.status 1"),0:e(l)("cms.module.status 0")}},"input-attr":{placeholder:e(l)("Please select field",{field:e(l)("cms.module.status")})}},null,8,["label","modelValue","data","input-attr"]),e(t).form.operate=="add"?(d(),s(i,{key:0,label:e(l)("cms.module.template"),type:"radio",modelValue:e(t).form.items.template,"onUpdate:modelValue":o[6]||(o[6]=a=>e(t).form.items.template=a),prop:"template",data:{content:{empty:e(l)("cms.module.empty template"),article:e(l)("cms.module.article template")}},"input-attr":{placeholder:e(l)("Please select field",{field:e(l)("cms.module.template")})}},null,8,["label","modelValue","data","input-attr"])):_("",!0)]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[S,e(t).form.loading]])]),_:1},8,["model-value","onClose"])}}});export{L as _};
