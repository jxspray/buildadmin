import{d as D,C as I,y as N,a as m,c as n,b as r,T as b,s as P,R as c,Q as _,u as e,v as V,e as i,t as k,a4 as g,a3 as C,S as T,Y as U,ah as q,r as f,X as u}from"./vue-9a46e809.js";import{a as A}from"./index-ae07247d.js";import{F as p}from"./index-a7be6d6a.js";import{_ as K}from"./customField.vue_vue_type_script_setup_true_lang-773ff91c.js";import{b as v}from"./validate-61c16ed0.js";const R={class:"title"},Q=D({__name:"popupForm",setup(W){const d=I(),t=q("baTable"),{t:l}=A(),w=N({field:[v({name:"required",title:l("cms.field.field")}),{validator:(x,o,s)=>o?/(^_([a-zA-Z0-9]_?)*$)|(^[a-zA-Z](_?[a-zA-Z0-9])*_?$)/.test(o)?s():s(new Error(l("字段名格式错误！"))):s(),trigger:"blur"}],name:[v({name:"required",title:l("cms.field.name")})],type:[v({name:"required",title:l("cms.field.type")})]});return(x,o)=>{const s=f("el-form"),S=f("el-scrollbar"),y=f("el-button"),z=f("el-dialog"),$=u("drag"),F=u("zoom"),h=u("loading"),B=u("blur");return m(),n(z,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":!!e(t).form.operate,onClose:e(t).toggleForm},{header:r(()=>[b((m(),P("div",R,[c(_(e(t).form.operate?e(l)(e(t).form.operate):""),1)])),[[$,[".ba-operate-dialog",".el-dialog__header"]],[F,".ba-operate-dialog"]])]),footer:r(()=>[V("div",{style:k("width: calc(100% - "+e(t).form.labelWidth/1.8+"px)")},[i(y,{onClick:o[7]||(o[7]=a=>e(t).toggleForm(""))},{default:r(()=>[c(_(e(l)("Cancel")),1)]),_:1}),b((m(),n(y,{loading:e(t).form.submitLoading,onClick:o[8]||(o[8]=a=>e(t).onSubmit(d.value)),type:"primary"},{default:r(()=>[c(_(e(t).form.operateIds&&e(t).form.operateIds.length>1?e(l)("Save and edit next item"):e(l)("Save")),1)]),_:1},8,["loading"])),[[B]])],4)]),default:r(()=>[b((m(),n(S,{class:"ba-table-form-scrollbar"},{default:r(()=>[V("div",{class:U(["ba-operate-form","ba-"+e(t).form.operate+"-form"]),style:k("width: calc(100% - "+e(t).form.labelWidth/2+"px)")},[e(t).form.loading?T("",!0):(m(),n(s,{key:0,ref_key:"formRef",ref:d,onKeyup:o[6]||(o[6]=g(a=>e(t).onSubmit(d.value),["enter"])),model:e(t).form.items,"label-position":"right","label-width":e(t).form.labelWidth+"px",rules:w},{default:r(()=>[i(p,{label:e(l)("cms.field.field"),type:"string",modelValue:e(t).form.items.field,"onUpdate:modelValue":o[0]||(o[0]=a=>e(t).form.items.field=a),prop:"field","input-attr":{placeholder:e(l)("Please input field",{field:e(l)("cms.field.field")})}},null,8,["label","modelValue","input-attr"]),i(p,{label:e(l)("cms.field.name"),type:"string",modelValue:e(t).form.items.name,"onUpdate:modelValue":o[1]||(o[1]=a=>e(t).form.items.name=a),prop:"name","input-attr":{placeholder:e(l)("Please input field",{field:e(l)("cms.field.name")})}},null,8,["label","modelValue","input-attr"]),i(K),i(p,{label:e(l)("cms.field.remark"),type:"textarea",modelValue:e(t).form.items.remark,"onUpdate:modelValue":o[2]||(o[2]=a=>e(t).form.items.remark=a),prop:"remark","input-attr":{rows:3,placeholder:e(l)("Please input field",{field:e(l)("cms.field.remark")})},onKeyup:[o[3]||(o[3]=g(C(()=>{},["stop"]),["enter"])),o[4]||(o[4]=g(C(a=>e(t).onSubmit(d.value),["ctrl"]),["enter"]))]},null,8,["label","modelValue","input-attr"]),i(p,{label:e(l)("cms.field.status"),type:"radio",modelValue:e(t).form.items.status,"onUpdate:modelValue":o[5]||(o[5]=a=>e(t).form.items.status=a),prop:"status",data:{content:{0:e(l)("cms.field.status 0"),1:e(l)("cms.field.status 1")}},"input-attr":{placeholder:e(l)("Please select field",{field:e(l)("cms.field.status")})}},null,8,["label","modelValue","data","input-attr"])]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[h,e(t).form.loading]])]),_:1},8,["model-value","onClose"])}}});export{Q as _};
