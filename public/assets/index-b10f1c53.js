import{e as N,u as xe,S as ne,F as re,_ as F,k as U,h as Ce,G as Ze,H as Qe,I as Ee,w as we,L as Z,J as et,K as Te,M as z,N as Ve,O as tt,t as Pe,g as ot,f as Ie,P as he,r as Ne,Q as Ae,R as nt,v as me}from"./index-32d6febb.js";import{h as R,aa as j,z as e,q as f,o as i,k as S,W as A,l as le,U as T,O as x,$ as E,Y as ae,Z as P,P as s,p as n,m as _,N as oe,w as Q,r as H,j as ee,E as X,ad as ue,n as te,D as Re,_ as K,ae as Ue,af as Se,ag as lt,a0 as qe,a8 as se,V,a1 as We,a2 as He,F as Oe,X as at,ah as st,ai as rt,aj as ut,ak as Be,al as Ke,ac as ct,am as it,an as dt,i as Fe}from"./vue-69ad5a16.js";import{_ as mt,D as _t}from"./darkSwitch-ad1c6f1f.js";import{c as pt,o as ze,g as je,r as _e,s as ft,a as vt}from"./router-b77da531.js";import{s as ke,m as gt}from"./layout-3cfbed32.js";import{I as yt}from"./index-afbe03c0.js";import{t as bt}from"./useDark-4e217d35.js";import{a as ht,i as Ct}from"./index-5ffb39e8.js";import{F as ie}from"./index-4042c46c.js";import"./index-f98c8d12.js";const kt={class:"layout-logo"},xt={key:0,class:"logo-img",src:mt,alt:"logo"},wt=R({__name:"logo",setup(v){j(r=>({adf9ae48:e(t).layout.layoutMode!="Streamline"?e(t).getColorVal("menuTopBarBackground"):"transparent"}));const t=N(),o=xe(),u=function(){t.layout.shrink&&!t.layout.menuCollapse&&pt(),t.setLayout("menuCollapse",!t.layout.menuCollapse),ne.set(re,{layoutMode:t.layout.layoutMode,menuCollapse:t.layout.menuCollapse}),setTimeout(()=>{ke()},350)};return(r,p)=>{const m=f("Icon");return i(),S("div",kt,[e(t).layout.menuCollapse?A("",!0):(i(),S("img",xt)),e(t).layout.menuCollapse?A("",!0):(i(),S("div",{key:1,style:le({color:e(t).getColorVal("menuActiveColor")}),class:"website-name"},T(e(o).siteName),5)),e(t).layout.layoutMode!="Streamline"?(i(),x(m,{key:2,onClick:u,name:e(t).layout.menuCollapse?"fa fa-indent":"fa fa-dedent",class:E([e(t).layout.menuCollapse?"unfold":"","fold"]),color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["name","class","color"])):A("",!0)])}}});const Xe=F(wt,[["__scopeId","data-v-38fd2478"]]),Tt=R({__name:"menuTree",props:{menus:{default:()=>[]}},setup(v){const t=v;j(r=>({"5d1f565d":e(o).getColorVal("menuActiveBackground")}));const o=N(),u=r=>{var p;["Streamline","Double"].includes(o.layout.layoutMode)&&((p=r.children)!=null&&p.length)&&ze(r.children[0])};return(r,p)=>{const m=f("Icon"),h=f("menu-tree",!0),b=f("el-sub-menu"),c=f("el-menu-item");return i(!0),S(P,null,ae(t.menus,d=>(i(),S(P,null,[d.children&&d.children.length>0?(i(),x(b,{onClick:g=>u(d),index:d.path,key:d.path},{title:s(()=>{var g,a,l,B;return[n(m,{color:e(o).getColorVal("menuColor"),name:(g=d.meta)!=null&&g.icon?(a=d.meta)==null?void 0:a.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),_("span",null,T((l=d.meta)!=null&&l.title?(B=d.meta)==null?void 0:B.title:r.$t("noTitle")),1)]}),default:s(()=>[n(h,{menus:d.children},null,8,["menus"])]),_:2},1032,["onClick","index"])):(i(),x(c,{index:d.path,key:d.path,onClick:g=>e(ze)(d)},{default:s(()=>{var g,a,l,B;return[n(m,{color:e(o).getColorVal("menuColor"),name:(g=d.meta)!=null&&g.icon?(a=d.meta)==null?void 0:a.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),_("span",null,T((l=d.meta)!=null&&l.title?(B=d.meta)==null?void 0:B.title:r.$t("noTitle")),1)]}),_:2},1032,["index","onClick"]))],64))),256)}}});const pe=F(Tt,[["__scopeId","data-v-eede5d94"]]),St=R({__name:"menuVertical",setup(v){j(c=>({"7b37a190":m.value,"2dbfe5bf":e(t).getColorVal("menuBackground"),"461a90e0":e(t).getColorVal("menuColor"),"252ff30c":e(t).getColorVal("menuActiveColor")}));const t=N(),o=U(),u=oe(),r=Q(),p=H({defaultActive:""}),m=ee(()=>{let c=0;return t.layout.menuShowTopBar&&(c=50),t.layout.layoutMode=="Default"?"calc(100vh - "+(32+c)+"px)":"calc(100vh - "+c+"px)"}),h=c=>{p.defaultActive=c.path},b=()=>{te(()=>{var d;let c=document.querySelector(".el-menu.layouts-menu-vertical li.is-active");if(!c)return!1;(d=r.value)==null||d.setScrollTop(c.offsetTop)})};return X(()=>{h(u),b()}),ue(c=>{h(c)}),(c,d)=>{const g=f("el-menu"),a=f("el-scrollbar");return i(),x(a,{ref_key:"verticalMenusRef",ref:r,class:"vertical-menus-scrollbar"},{default:s(()=>[n(g,{class:"layouts-menu-vertical","collapse-transition":!1,"unique-opened":e(t).layout.menuUniqueOpened,"default-active":p.defaultActive,collapse:e(t).layout.menuCollapse},{default:s(()=>[n(pe,{menus:e(o).state.tabsViewRoutes},null,8,["menus"])]),_:1},8,["unique-opened","default-active","collapse"])]),_:1},512)}}});const Me=(v,t)=>{for(let o=0;o<t.length;o++){const u=t[o];if(u.path==v||u.children&&u.children.length>0&&Me(v,u.children))return u}return!1},Bt=R({__name:"menuVerticalChildren",setup(v){j(c=>({"691618f7":m.value,"7b87a07e":e(t).getColorVal("menuBackground"),"7fea4a7e":e(t).getColorVal("menuColor"),"5897a39b":e(t).getColorVal("menuActiveColor")}));const t=N(),o=U(),u=oe(),r=Q(),p=H({defaultActive:"",routeChildren:[]}),m=ee(()=>{let c=0;return t.layout.menuShowTopBar&&(c=50),t.layout.layoutMode=="Default"?"calc(100vh - "+(32+c)+"px)":"calc(100vh - "+c+"px)"}),h=c=>{let d=Me(c.path,o.state.tabsViewRoutes);d?(p.defaultActive=c.path,d.children&&d.children.length>0?p.routeChildren=d.children:p.routeChildren=[d]):p.routeChildren||(p.routeChildren=o.state.tabsViewRoutes)},b=()=>{te(()=>{var d;let c=document.querySelector(".el-menu.layouts-menu-vertical-children li.is-active");if(!c)return!1;(d=r.value)==null||d.setScrollTop(c.offsetTop)})};return X(()=>{h(u),b()}),ue(c=>{h(c)}),(c,d)=>{const g=f("el-menu"),a=f("el-scrollbar");return i(),x(a,{ref_key:"verticalMenusRef",ref:r,class:"children-vertical-menus-scrollbar"},{default:s(()=>[n(g,{class:"layouts-menu-vertical-children","collapse-transition":!1,"unique-opened":e(t).layout.menuUniqueOpened,"default-active":p.defaultActive,collapse:e(t).layout.menuCollapse},{default:s(()=>[p.routeChildren.length>0?(i(),x(pe,{key:0,menus:p.routeChildren},null,8,["menus"])):A("",!0)]),_:1},8,["unique-opened","default-active","collapse"])]),_:1},512)}}});const Mt=R({name:"layout/aside",__name:"aside",setup(v){j(r=>({"12d2a223":u.value}));const t=N(),o=U(),u=ee(()=>t.menuWidth());return(r,p)=>{const m=f("el-aside");return e(o).state.tabFullScreen?A("",!0):(i(),x(m,{key:0,class:E("layout-aside-"+e(t).layout.layoutMode+" "+(e(t).layout.shrink?"shrink":""))},{default:s(()=>[e(t).layout.menuShowTopBar?(i(),x(Xe,{key:0})):A("",!0),e(t).layout.layoutMode=="Double"?(i(),x(Bt,{key:1})):(i(),x(St,{key:2}))]),_:1},8,["class"]))}}});const $e=F(Mt,[["__scopeId","data-v-be977e32"]]);function Ye(){if(!Re())throw new Error("useCurrentInstance() can only be used inside setup() or functional components!");const{appContext:v}=Re();return{proxy:v.config.globalProperties}}const $t={class:"el-dropdown-menu"},Vt=["onClick"],It=R({__name:"index",props:{width:{default:150},items:{default:()=>[]}},emits:["contextmenuItemClick"],setup(v,{expose:t,emit:o}){const u=v,r=H({show:!1,axis:{x:0,y:0},menu:void 0,arrowAxis:10}),p=(b,c)=>{r.menu=b,r.axis=c,r.show=!0},m=b=>{b.disabled||(b.menu=lt(r.menu),o("contextmenuItemClick",b))},h=()=>{r.show=!1};return t({onShowContextmenu:p,onHideContextmenu:h}),X(()=>{Ce(document,"click",h)}),(b,c)=>{const d=f("Icon");return i(),x(Se,{name:"el-zoom-in-center"},{default:s(()=>[K((i(),S("div",{class:"el-popper is-pure is-light el-dropdown__popper ba-contextmenu",style:le(`top: ${r.axis.y+5}px;left: ${r.axis.x-14}px;width:${u.width}px`),key:Math.random(),"aria-hidden":"false","data-popper-placement":"bottom"},[_("ul",$t,[(i(!0),S(P,null,ae(u.items,(g,a)=>(i(),S("li",{key:a,class:E(["el-dropdown-menu__item",g.disabled?"is-disabled":""]),tabindex:"-1",onClick:l=>m(g)},[n(d,{size:"12",name:g.icon},null,8,["name"]),_("span",null,T(g.label),1)],10,Vt))),128))]),_("span",{class:"el-popper__arrow",style:le({left:`${r.arrowAxis}px`})},null,4)],4)),[[Ue,r.show]])]),_:1})}}});const At=F(It,[["__scopeId","data-v-dd4efaa3"]]),Rt=["onClick","onContextmenu"],Ft=R({__name:"tabs",setup(v){j(C=>({d6997322:e(u).getColorVal("headerBarTabColor"),"3e8014c9":e(u).getColorVal("headerBarTabActiveColor"),"2dcc8058":e(u).layout.layoutMode=="Default"?"none":e(u).getColorVal("headerBarBackground")}));const t=oe(),o=qe(),u=N(),r=U(),{proxy:p}=Ye(),m=Q(),h=Ze(),b=Q(),c=H({contextmenuItems:[{name:"refresh",label:"重新加载",icon:"fa fa-refresh"},{name:"close",label:"关闭标签",icon:"fa fa-times"},{name:"fullScreen",label:"当前标签全屏",icon:"el-icon-FullScreen"},{name:"closeOther",label:"关闭其他标签",icon:"fa fa-minus"},{name:"closeAll",label:"关闭全部标签",icon:"fa fa-stop"}]}),d=H({width:"0",transform:"translateX(0px)"}),g=C=>{o.push(C)},a=(C,M)=>{c.contextmenuItems[0].disabled=t.path!==C.path,c.contextmenuItems[4].disabled=c.contextmenuItems[3].disabled=r.state.tabsView.length==1;const{clientX:I,clientY:$}=M;b.value.onShowContextmenu(C,{x:I,y:$})},l=function(C){if(!C)return!1;d.width=C.clientWidth+"px",d.transform=`translateX(${C.offsetLeft}px)`;let M=C.offsetLeft+C.clientWidth-m.value.clientWidth;C.offsetLeft<m.value.scrollLeft?m.value.scrollTo(C.offsetLeft,0):M>m.value.scrollLeft&&m.value.scrollTo(M,0)},B=()=>{const C=r.state.tabsView.slice(-1)[0];C?o.push(C):o.push(Ee)},O=C=>{var M;r.closeTab(C),p.eventBus.emit("onTabViewClose",C),((M=r.state.activeRoute)==null?void 0:M.path)===C.path?B():(r.setActiveRoute(r.state.activeRoute),te(()=>{l(h.value[r.state.activeIndex])})),b.value.onHideContextmenu()},k=C=>{var M;r.closeTabs(C),r.setActiveRoute(C),((M=r.state.activeRoute)==null?void 0:M.path)!==t.path&&o.push(C.path)},q=C=>{var I;let M=je(r.state.tabsViewRoutes);if(M&&M.path==C.path)return k(C);if(M&&M.path==((I=r.state.activeRoute)==null?void 0:I.path))return k(r.state.activeRoute);r.closeTabs(!1),M&&_e(M.path)},G=async C=>{const{name:M,menu:I}=C;if(I)switch(M){case"refresh":p.eventBus.emit("onTabViewRefresh",I);break;case"close":O(I);break;case"closeOther":k(I);break;case"closeAll":q(I);break;case"fullScreen":t.path!==(I==null?void 0:I.path)&&o.push(I==null?void 0:I.path),r.setFullScreen(!0);break}},L=function(C){r.addTab(C),r.setActiveRoute(C),te(()=>{l(h.value[r.state.activeIndex])})};return ue(async C=>{L(C)}),X(()=>{L(o.currentRoute.value),new Qe(m.value)}),(C,M)=>{const I=f("Icon");return i(),S(P,null,[_("div",{class:"nav-tabs",ref_key:"tabScrollbarRef",ref:m},[(i(!0),S(P,null,ae(e(r).state.tabsView,($,J)=>(i(),S("div",{onClick:D=>g($),onContextmenu:se(D=>a($,D),["prevent"]),class:E(["ba-nav-tab",e(r).state.activeIndex==J?"active":""]),ref_for:!0,ref:e(h).set,key:J},[V(T($.meta.title)+" ",1),n(Se,{onAfterLeave:M[0]||(M[0]=D=>l(e(h)[e(r).state.activeIndex])),name:"el-fade-in"},{default:s(()=>[K(n(I,{class:"close-icon",onClick:se(D=>O($),["stop"]),size:"15",name:"el-icon-Close"},null,8,["onClick"]),[[Ue,e(r).state.tabsView.length>1]])]),_:2},1024)],42,Rt))),128)),_("div",{style:le(d),class:"nav-tabs-active-box"},null,4)],512),n(At,{ref_key:"contextmenuRef",ref:b,items:c.contextmenuItems,onContextmenuItemClick:G},null,8,["items"])],64)}}});const Ge=F(Ft,[["__scopeId","data-v-5d6f32a7"]]),Le=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Y=(()=>{if(typeof document>"u")return!1;const v=Le[0],t={};for(const o of Le)if((o==null?void 0:o[1])in document){for(const[r,p]of o.entries())t[v[r]]=p;return t}return!1})(),De={change:Y.fullscreenchange,error:Y.fullscreenerror};let W={request(v=document.documentElement,t){return new Promise((o,u)=>{const r=()=>{W.off("change",r),o()};W.on("change",r);const p=v[Y.requestFullscreen](t);p instanceof Promise&&p.then(r).catch(u)})},exit(){return new Promise((v,t)=>{if(!W.isFullscreen){v();return}const o=()=>{W.off("change",o),v()};W.on("change",o);const u=document[Y.exitFullscreen]();u instanceof Promise&&u.then(o).catch(t)})},toggle(v,t){return W.isFullscreen?W.exit():W.request(v,t)},onchange(v){W.on("change",v)},onerror(v){W.on("error",v)},on(v,t){const o=De[v];o&&document.addEventListener(o,t,!1)},off(v,t){const o=De[v];o&&document.removeEventListener(o,t,!1)},raw:Y};Object.defineProperties(W,{isFullscreen:{get:()=>!!document[Y.fullscreenElement]},element:{enumerable:!0,get:()=>document[Y.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Y.fullscreenEnabled]}});Y||(W={isEnabled:!1});const de=W,fe=v=>(We("data-v-06c3bb38"),v=v(),He(),v),zt={class:"layout-config-drawer"},Lt={class:"layout-mode-styles-box"},Dt={class:"layout-mode-box-style"},Et=fe(()=>_("div",{class:"layout-mode-style-box"},[_("div",{class:"layout-mode-style-aside"}),_("div",{class:"layout-mode-style-container-box"},[_("div",{class:"layout-mode-style-header"}),_("div",{class:"layout-mode-style-container"})])],-1)),Pt={class:"layout-mode-style-name"},Nt=fe(()=>_("div",{class:"layout-mode-style-box"},[_("div",{class:"layout-mode-style-aside"}),_("div",{class:"layout-mode-style-container-box"},[_("div",{class:"layout-mode-style-header"}),_("div",{class:"layout-mode-style-container"})])],-1)),Ut={class:"layout-mode-style-name"},qt=fe(()=>_("div",{class:"layout-mode-style-box"},[_("div",{class:"layout-mode-style-container-box"},[_("div",{class:"layout-mode-style-header"}),_("div",{class:"layout-mode-style-container"})])],-1)),Wt={class:"layout-mode-style-name"},Ht=fe(()=>_("div",{class:"layout-mode-style-box"},[_("div",{class:"layout-mode-style-aside"}),_("div",{class:"layout-mode-style-container-box"},[_("div",{class:"layout-mode-style-header"}),_("div",{class:"layout-mode-style-container"})])],-1)),Ot={class:"layout-mode-style-name"},Kt={class:"layout-config-global"},jt={class:"layout-config-aside"},Xt={class:"layout-config-aside"},Yt={class:"ba-center"},Gt=R({__name:"config",setup(v){const{t}=we(),o=N(),u=U(),r=qe(),p=(g,a)=>{o.setLayout(a,g)},m=(g,a)=>{if(g===null)return;const l=o.layout[a];o.layout.isDark?l[1]=g:l[0]=g,o.setLayout(a,l)},h=g=>{ne.set(re,{layoutMode:g,menuCollapse:o.layout.menuCollapse}),o.setLayoutMode(g)},b=(g,a)=>{o.setLayout(a,g);const l=u.state.tabsViewRoutes;u.setTabsViewRoutes([]),setTimeout(()=>{u.setTabsViewRoutes(l)},200)},c=()=>{o.setLayout("showDrawer",!1)},d=()=>{Z.remove(et),ne.remove(re),r.go(0)};return(g,a)=>{const l=f("el-divider"),B=f("el-col"),O=f("el-row"),k=f("el-form-item"),q=f("el-option"),G=f("el-select"),L=f("el-color-picker"),C=f("el-switch"),M=f("el-input"),I=f("el-button"),$=f("el-popconfirm"),J=f("el-form"),D=f("el-scrollbar"),y=f("el-drawer");return i(),S("div",zt,[n(y,{"model-value":e(o).layout.showDrawer,title:e(t)("layouts.Layout configuration"),size:"310px",onClose:c},{default:s(()=>[n(D,{class:"layout-mode-style-scrollbar"},{default:s(()=>[n(J,{ref:"formRef",model:e(o).layout},{default:s(()=>[_("div",Lt,[n(l,{"border-style":"dashed"},{default:s(()=>[V(T(e(t)("layouts.Layout mode")),1)]),_:1}),_("div",Dt,[n(O,{class:"layout-mode-box-style-row",gutter:10},{default:s(()=>[n(B,{span:12},{default:s(()=>[_("div",{onClick:a[0]||(a[0]=w=>h("Default")),class:E(["layout-mode-style default",e(o).layout.layoutMode=="Default"?"active":""])},[Et,_("div",Pt,T(e(t)("layouts.default")),1)],2)]),_:1}),n(B,{span:12},{default:s(()=>[_("div",{onClick:a[1]||(a[1]=w=>h("Classic")),class:E(["layout-mode-style classic",e(o).layout.layoutMode=="Classic"?"active":""])},[Nt,_("div",Ut,T(e(t)("layouts.classic")),1)],2)]),_:1})]),_:1}),n(O,{gutter:10},{default:s(()=>[n(B,{span:12},{default:s(()=>[_("div",{onClick:a[2]||(a[2]=w=>h("Streamline")),class:E(["layout-mode-style streamline",e(o).layout.layoutMode=="Streamline"?"active":""])},[qt,_("div",Wt,T(e(t)("layouts.Single column")),1)],2)]),_:1}),n(B,{span:12},{default:s(()=>[_("div",{onClick:a[3]||(a[3]=w=>h("Double")),class:E(["layout-mode-style double",e(o).layout.layoutMode=="Double"?"active":""])},[Ht,_("div",Ot,T(e(t)("layouts.Double column")),1)],2)]),_:1})]),_:1})]),n(l,{"border-style":"dashed"},{default:s(()=>[V(T(e(t)("layouts.overall situation")),1)]),_:1}),_("div",Kt,[n(k,{size:"large",label:e(t)("layouts.Dark mode")},{default:s(()=>[n(_t,{onClick:a[4]||(a[4]=w=>e(bt)())})]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Background page switching animation")},{default:s(()=>[n(G,{onChange:a[5]||(a[5]=w=>p(w,"mainAnimation")),"model-value":e(o).layout.mainAnimation,placeholder:e(t)("layouts.Please select an animation name")},{default:s(()=>[n(q,{label:"slide-right",value:"slide-right"}),n(q,{label:"slide-left",value:"slide-left"}),n(q,{label:"el-fade-in-linear",value:"el-fade-in-linear"}),n(q,{label:"el-fade-in",value:"el-fade-in"}),n(q,{label:"el-zoom-in-center",value:"el-zoom-in-center"}),n(q,{label:"el-zoom-in-top",value:"el-zoom-in-top"}),n(q,{label:"el-zoom-in-bottom",value:"el-zoom-in-bottom"})]),_:1},8,["model-value","placeholder"])]),_:1},8,["label"])]),n(l,{"border-style":"dashed"},{default:s(()=>[V(T(e(t)("layouts.sidebar")),1)]),_:1}),_("div",jt,[n(k,{label:e(t)("layouts.Side menu bar background color")},{default:s(()=>[n(L,{onChange:a[6]||(a[6]=w=>m(w,"menuBackground")),"model-value":e(o).getColorVal("menuBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu text color")},{default:s(()=>[n(L,{onChange:a[7]||(a[7]=w=>m(w,"menuColor")),"model-value":e(o).getColorVal("menuColor")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu active item background color")},{default:s(()=>[n(L,{onChange:a[8]||(a[8]=w=>m(w,"menuActiveBackground")),"model-value":e(o).getColorVal("menuActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu active item text color")},{default:s(()=>[n(L,{onChange:a[9]||(a[9]=w=>m(w,"menuActiveColor")),"model-value":e(o).getColorVal("menuActiveColor")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Show side menu top bar (logo bar)")},{default:s(()=>[n(C,{onChange:a[10]||(a[10]=w=>p(w,"menuShowTopBar")),"model-value":e(o).layout.menuShowTopBar},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu top bar background color")},{default:s(()=>[n(L,{onChange:a[11]||(a[11]=w=>m(w,"menuTopBarBackground")),"model-value":e(o).getColorVal("menuTopBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu width (when expanded)")},{default:s(()=>[n(M,{onInput:a[12]||(a[12]=w=>p(w,"menuWidth")),type:"number",step:10,"model-value":e(o).layout.menuWidth},{append:s(()=>[V("px")]),_:1},8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu default icon")},{default:s(()=>[n(yt,{onChange:a[13]||(a[13]=w=>b(w,"menuDefaultIcon")),"model-value":e(o).layout.menuDefaultIcon},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu horizontal collapse")},{default:s(()=>[n(C,{onChange:a[14]||(a[14]=w=>p(w,"menuCollapse")),"model-value":e(o).layout.menuCollapse},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Side menu accordion")},{default:s(()=>[n(C,{onChange:a[15]||(a[15]=w=>p(w,"menuUniqueOpened")),"model-value":e(o).layout.menuUniqueOpened},null,8,["model-value"])]),_:1},8,["label"])]),n(l,{"border-style":"dashed"},{default:s(()=>[V(T(e(t)("layouts.Top bar")),1)]),_:1}),_("div",Xt,[n(k,{label:e(t)("layouts.Top bar background color")},{default:s(()=>[n(L,{onChange:a[16]||(a[16]=w=>m(w,"headerBarBackground")),"model-value":e(o).getColorVal("headerBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Top bar text color")},{default:s(()=>[n(L,{onChange:a[17]||(a[17]=w=>m(w,"headerBarTabColor")),"model-value":e(o).getColorVal("headerBarTabColor")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Background color when hovering over the top bar")},{default:s(()=>[n(L,{onChange:a[18]||(a[18]=w=>m(w,"headerBarHoverBackground")),"model-value":e(o).getColorVal("headerBarHoverBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Top bar menu active item background color")},{default:s(()=>[n(L,{onChange:a[19]||(a[19]=w=>m(w,"headerBarTabActiveBackground")),"model-value":e(o).getColorVal("headerBarTabActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(k,{label:e(t)("layouts.Top bar menu active item text color")},{default:s(()=>[n(L,{onChange:a[20]||(a[20]=w=>m(w,"headerBarTabActiveColor")),"model-value":e(o).getColorVal("headerBarTabActiveColor")},null,8,["model-value"])]),_:1},8,["label"])]),n($,{onConfirm:d,title:e(t)("layouts.Are you sure you want to restore all configurations to the default values?")},{reference:s(()=>[_("div",Yt,[n(I,{class:"w80",type:"info"},{default:s(()=>[V(T(e(t)("layouts.Restore default")),1)]),_:1})])]),_:1},8,["title"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["model-value","title"])])}}});const Jt=F(Gt,[["__scopeId","data-v-06c3bb38"]]),Zt={class:"command"},Qt={class:"task-opt"},eo=["onClick"],to={class:"indent-2"},oo={class:"package-manager-dialog-footer"},no={class:"config-buttons"},lo=R({__name:"index",setup(v){const{t}=we(),o=Te(),u=H({terminalWarning:"",port:o.state.port,menuExpand:document.documentElement.clientWidth>1840}),r=ee(()=>{let a=o.state.port==""?"80":o.state.port;return a=="8000"?"php think run":"php think run -p "+a}),p=ee(()=>{let a=o.state.port==""?"":":"+o.state.port;return"http://localhost"+a+" "+t("terminal.or")+" http://"+t("terminal.Site domain name")+a}),m=a=>{Ve({port:a}).then(l=>{l.code==1?(o.changePort(a),g()):u.port=o.state.port}).catch(()=>{u.port=o.state.port})},h=a=>{let l=t("terminal.unknown"),B="info";switch(a){case z.Waiting:l=t("terminal.Waiting for execution"),B="info";break;case z.Connecting:l=t("terminal.Connecting"),B="warning";break;case z.Executing:l=t("terminal.Executing"),B="warning";break;case z.Success:l=t("terminal.Successful execution"),B="success";break;case z.Failed:l=t("terminal.Execution failed"),B="danger";break;case z.Unknown:l=t("terminal.Unknown execution result"),B="danger";break}return{statusText:l,statusType:B}},b=()=>{rt.confirm(t("terminal.Are you sure you want to republish?"),t("Reminder"),{confirmButtonText:t("Confirm"),cancelButtonText:t("Cancel"),type:"warning"}).then(()=>{o.addTaskPM("web-build")})},c=a=>{Ve({manager:a}).then(l=>{l.code==1&&o.changePackageManager(a)}),o.togglePackageManagerDialog(!1)},d=a=>{u.terminalWarning=a},g=()=>{tt()!=o.state.port?d(t("terminal.The current terminal is not running under the installation service, and some commands may not be executed")):d("")};return Oe(()=>o.state.port,a=>{a!=u.port&&(u.port=a,g())}),X(()=>{g()}),(a,l)=>{const B=f("el-alert"),O=f("el-tag"),k=f("el-button"),q=f("Icon"),G=f("el-card"),L=f("el-timeline-item"),C=f("el-timeline"),M=f("el-empty"),I=f("el-button-group"),$=f("el-dialog"),J=f("el-form"),D=at("blur");return i(),S(P,null,[n($,st(a.$attrs,{modelValue:e(o).state.show,"onUpdate:modelValue":l[7]||(l[7]=y=>e(o).state.show=y),title:e(t)("terminal.Terminal"),class:"ba-terminal-dialog","append-to-body":!0}),{default:s(()=>[u.terminalWarning?(i(),x(B,{key:0,class:"terminal-warning-alert",title:u.terminalWarning,type:"error"},null,8,["title"])):A("",!0),e(o).state.taskList.length?(i(),x(C,{key:1},{default:s(()=>[(i(!0),S(P,null,ae(e(o).state.taskList,(y,w)=>(i(),x(L,{key:w,class:E(["task-item","task-status-"+y.status]),type:h(y.status).statusType,center:"",timestamp:y.createTime,placement:"top"},{default:s(()=>[n(G,null,{default:s(()=>[_("div",null,[n(O,{type:h(y.status).statusType},{default:s(()=>[V(T(h(y.status).statusText),1)]),_:2},1032,["type"]),(y.status==e(z).Failed||y.status==e(z).Unknown)&&y.blockOnFailure?(i(),x(O,{key:0,class:"block-on-failure-tag",type:"warning"},{default:s(()=>[V(T(e(t)("terminal.Failure to execute this command will block the execution of the queue")),1)]),_:1})):A("",!0),y.status==e(z).Executing||y.status==e(z).Connecting?(i(),x(O,{key:1,class:"block-on-failure-tag",type:"danger"},{default:s(()=>[V(T(e(t)("terminal.Do not refresh the browser")),1)]),_:1})):A("",!0),_("span",Zt,T(y.command),1),_("div",Qt,[y.status==e(z).Failed||y.status==e(z).Unknown?K((i(),x(k,{key:0,title:e(t)("Retry"),size:"small",type:"warning",icon:"el-icon-RefreshRight",circle:"",onClick:ce=>e(o).retryTask(w)},null,8,["title","onClick"])),[[D]]):A("",!0),K(n(k,{onClick:ce=>e(o).delTask(w),title:e(t)("Delete"),size:"small",type:"danger",icon:"el-icon-Delete",circle:""},null,8,["onClick","title"]),[[D]])])]),y.status!=e(z).Waiting?(i(),S(P,{key:0},[y.status!=e(z).Connecting&&y.status!=e(z).Executing?(i(),S("div",{key:0,onClick:ce=>e(o).setTaskShowMessage(w),class:"toggle-message-display"},[_("span",null,T(e(t)("terminal.Command run log")),1),n(q,{name:y.showMessage?"el-icon-ArrowUp":"el-icon-ArrowDown",size:"16",color:"#909399"},null,8,["name"])],8,eo)):A("",!0),y.status==e(z).Connecting||y.status==e(z).Executing||y.status>e(z).Executing&&y.showMessage?(i(),S("div",{key:1,class:E(["exec-message","exec-message-"+y.uuid])},[(i(!0),S(P,null,ae(y.message,(ce,Je)=>(i(),S("pre",{key:Je,class:"message-item"},T(ce),1))),128))],2)):A("",!0)],64)):A("",!0)]),_:2},1024)]),_:2},1032,["class","type","timestamp"]))),128))]),_:1})):(i(),x(M,{key:2,"image-size":80,description:e(t)("terminal.No mission yet")},null,8,["description"])),n(I,null,{default:s(()=>[K((i(),x(k,{class:"terminal-menu-item",icon:"el-icon-MagicStick",onClick:l[0]||(l[0]=y=>e(o).addTaskPM("test",!1))},{default:s(()=>[V(T(e(t)("terminal.Test command")),1)]),_:1})),[[D]]),K((i(),x(k,{class:"terminal-menu-item",icon:"el-icon-Download",onClick:l[1]||(l[1]=y=>e(o).addTaskPM("web-install"))},{default:s(()=>[V(T(e(t)("terminal.Install dependent packages")),1)]),_:1})),[[D]]),K((i(),x(k,{class:"terminal-menu-item",icon:"el-icon-Sell",onClick:l[2]||(l[2]=y=>b())},{default:s(()=>[V(T(e(t)("terminal.Republish")),1)]),_:1})),[[D]]),u.menuExpand?(i(),S(P,{key:1},[K((i(),x(k,{class:"terminal-menu-item",icon:"el-icon-Delete",onClick:l[4]||(l[4]=y=>e(o).clearSuccessTask())},{default:s(()=>[V(T(e(t)("terminal.Clean up task list")),1)]),_:1})),[[D]]),K((i(),x(k,{class:"terminal-menu-item",icon:"el-icon-Switch",onClick:l[5]||(l[5]=y=>e(o).togglePackageManagerDialog(!0))},{default:s(()=>[V(T(e(t)("terminal.Package manager"))+" "+T(e(o).state.packageManager.toUpperCase()),1)]),_:1})),[[D]]),K((i(),x(k,{class:"terminal-menu-item",icon:"el-icon-Tools",onClick:l[6]||(l[6]=y=>e(o).toggleConfigDialog())},{default:s(()=>[V(T(e(t)("terminal.Terminal settings")),1)]),_:1})),[[D]])],64)):K((i(),x(k,{key:0,class:"terminal-menu-item",icon:"el-icon-Expand",onClick:l[3]||(l[3]=y=>u.menuExpand=!0)},null,512)),[[D]])]),_:1})]),_:1},16,["modelValue","title"]),n($,{onClose:l[14]||(l[14]=y=>e(o).togglePackageManagerDialog(!1)),"model-value":e(o).state.showPackageManagerDialog,class:"ba-terminal-dialog",title:e(t)("terminal.Please select package manager"),center:""},{footer:s(()=>[_("div",oo,[n(k,{onClick:l[8]||(l[8]=y=>c("npm"))},{default:s(()=>[V("npm")]),_:1}),n(k,{onClick:l[9]||(l[9]=y=>c("cnpm"))},{default:s(()=>[V("cnpm")]),_:1}),n(k,{onClick:l[10]||(l[10]=y=>c("pnpm"))},{default:s(()=>[V("pnpm")]),_:1}),n(k,{onClick:l[11]||(l[11]=y=>c("yarn"))},{default:s(()=>[V("yarn")]),_:1}),n(k,{onClick:l[12]||(l[12]=y=>c("ni"))},{default:s(()=>[V("ni")]),_:1}),n(k,{onClick:l[13]||(l[13]=y=>c("none"))},{default:s(()=>[V(T(e(t)("terminal.I want to execute the command manually")),1)]),_:1})])]),default:s(()=>[_("div",to,T(e(t)("terminal.Switch package manager title")),1)]),_:1},8,["model-value","title"]),n($,{onClose:l[19]||(l[19]=y=>e(o).toggleConfigDialog(!1)),"model-value":e(o).state.showConfig,class:"ba-terminal-dialog",title:e(t)("terminal.Terminal settings")},{default:s(()=>[n(J,{"label-position":"top"},{default:s(()=>[n(ie,{label:e(t)("terminal.Install service port"),modelValue:u.port,"onUpdate:modelValue":l[15]||(l[15]=y=>u.port=y),type:"number","input-attr":{onChange:m},placeholder:e(t)("terminal.The port number to start the installation service (this port needs to be opened for external network access)")},null,8,["label","modelValue","input-attr","placeholder"]),n(ie,{label:e(t)("terminal.Installation service startup command"),modelValue:r.value,"onUpdate:modelValue":l[16]||(l[16]=y=>r.value=y),type:"string","input-attr":{disabled:!0},attr:{blockHelp:e(t)("terminal.Please execute this command to start the service (add Su under Linux)")}},null,8,["label","modelValue","attr"]),n(ie,{label:e(t)("terminal.Installation service URL"),modelValue:p.value,"onUpdate:modelValue":l[17]||(l[17]=y=>p.value=y),type:"string","input-attr":{disabled:!0},attr:{blockHelp:e(t)("terminal.Please access the site through the installation service URL (except in debug mode)")}},null,8,["label","modelValue","attr"])]),_:1}),n(ie,{label:e(t)("terminal.Clean up successful tasks when starting a new task"),"model-value":e(o).state.automaticCleanupTask,type:"radio",data:{content:{0:e(t)("Disable"),1:e(t)("Enable")},childrenAttr:{border:!0}},"input-attr":{onChange:e(o).changeAutomaticCleanupTask}},null,8,["label","model-value","data","input-attr"]),_("div",no,[n(k,{onClick:l[18]||(l[18]=y=>e(o).toggleConfigDialog(!1))},{default:s(()=>[V(T(e(t)("terminal.Back to terminal")),1)]),_:1})])]),_:1},8,["model-value","title"])],64)}}});const ao=F(lo,[["__scopeId","data-v-a2a22db1"]]),so={class:"nav-menu-item"},ro=["src"],uo={class:"admin-name"},co={class:"admin-info-base"},io=["src"],mo={class:"admin-info-other"},_o={class:"admin-info-name"},po={class:"admin-info-lasttime"},fo={class:"admin-info-footer"},vo=R({__name:"navMenus",setup(v){j(a=>({"02d4915c":e(u).getColorVal("headerBarBackground"),"548ea232":e(u).getColorVal("headerBarTabColor"),"40e44a14":e(u).getColorVal("headerBarHoverBackground")}));const{t}=we(),o=Pe(),u=N(),r=Te(),p=xe(),m=H({isFullScreen:!1,currentNavMenu:"",showLayoutDrawer:!1,showAdminInfoPopover:!1}),h=(a,l)=>{m.currentNavMenu=a?l:""},b=()=>{if(!de.isEnabled)return ut.warning(t("layouts.Full screen is not supported")),!1;de.toggle(),de.onchange(()=>{m.isFullScreen=de.isFullscreen})},c=()=>{m.showAdminInfoPopover=!1,_e({name:"routine/adminInfo"})},d=()=>{ht().then(()=>{Z.remove(he),Ne.go(0)})},g=a=>{if(a=="storage"||a=="all"){const l=Z.get(he),B=Z.get(Ae);if(ne.clear(),Z.clear(),Z.set(he,l),Z.set(Ae,B),a=="storage")return}nt(a).then(()=>{})};return(a,l)=>{const B=f("Icon"),O=f("router-link"),k=f("el-dropdown-item"),q=f("el-dropdown-menu"),G=f("el-dropdown"),L=f("el-badge"),C=f("el-avatar"),M=f("el-button"),I=f("el-popover");return i(),S("div",{class:E(["nav-menus",e(u).layout.layoutMode])},[n(O,{class:"h100",target:"_blank",title:e(t)("Home"),to:"/"},{default:s(()=>[_("div",so,[n(B,{color:e(u).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Monitor",size:"18"},null,8,["color"])])]),_:1},8,["title"]),n(G,{onVisibleChange:l[0]||(l[0]=$=>h($,"lang")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:s(()=>[n(q,{class:"dropdown-menu-box"},{default:s(()=>[(i(!0),S(P,null,ae(e(u).lang.langArray,$=>(i(),x(k,{key:$.name,onClick:J=>e(ot)($.name)},{default:s(()=>[V(T($.value),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:s(()=>[_("div",{class:E(["nav-menu-item pt2",m.currentNavMenu=="lang"?"hover":""])},[n(B,{color:e(u).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-lang",size:"18"},null,8,["color"])],2)]),_:1}),_("div",{onClick:b,class:E(["nav-menu-item",m.isFullScreen?"hover":""])},[m.isFullScreen?(i(),x(B,{key:0,color:e(u).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-full-screen-cancel",size:"18"},null,8,["color"])):(i(),x(B,{key:1,color:e(u).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-FullScreen",size:"18"},null,8,["color"]))],2),e(o).super?(i(),S("div",{key:0,onClick:l[1]||(l[1]=$=>e(r).toggle()),class:"nav-menu-item pt2"},[n(L,{"is-dot":e(r).state.showDot},{default:s(()=>[n(B,{color:e(u).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-terminal",size:"26"},null,8,["color"])]),_:1},8,["is-dot"])])):A("",!0),e(o).super?(i(),x(G,{key:1,onVisibleChange:l[5]||(l[5]=$=>h($,"clear")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:s(()=>[n(q,{class:"dropdown-menu-box"},{default:s(()=>[n(k,{onClick:l[2]||(l[2]=$=>g("tp"))},{default:s(()=>[V(T(e(t)("utils.Clean up system cache")),1)]),_:1}),n(k,{onClick:l[3]||(l[3]=$=>g("storage"))},{default:s(()=>[V(T(e(t)("utils.Clean up browser cache")),1)]),_:1}),n(k,{onClick:l[4]||(l[4]=$=>g("all")),divided:""},{default:s(()=>[V(T(e(t)("utils.Clean up all cache")),1)]),_:1})]),_:1})]),default:s(()=>[_("div",{class:E(["nav-menu-item",m.currentNavMenu=="clear"?"hover":""])},[n(B,{color:e(u).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Delete",size:"18"},null,8,["color"])],2)]),_:1})):A("",!0),e(p).userInitialize?(i(),x(I,{key:2,onShow:l[6]||(l[6]=$=>h(!0,"adminInfo")),onHide:l[7]||(l[7]=$=>h(!1,"adminInfo")),placement:"bottom-end","hide-after":0,width:260,trigger:"click","popper-class":"admin-info-box",visible:m.showAdminInfoPopover,"onUpdate:visible":l[8]||(l[8]=$=>m.showAdminInfoPopover=$)},{reference:s(()=>[_("div",{class:E(["admin-info",m.currentNavMenu=="adminInfo"?"hover":""])},[n(C,{size:25,fit:"fill"},{default:s(()=>[_("img",{src:e(Ie)(e(o).avatar),alt:""},null,8,ro)]),_:1}),_("div",uo,T(e(o).nickname),1)],2)]),default:s(()=>[_("div",null,[_("div",co,[n(C,{size:70,fit:"fill"},{default:s(()=>[_("img",{src:e(Ie)(e(o).avatar),alt:""},null,8,io)]),_:1}),_("div",mo,[_("div",_o,T(e(o).nickname),1),_("div",po,T(e(o).last_login_time),1)])]),_("div",fo,[n(M,{onClick:c,type:"primary",plain:""},{default:s(()=>[V(T(e(t)("layouts.personal data")),1)]),_:1}),n(M,{onClick:d,type:"danger",plain:""},{default:s(()=>[V(T(e(t)("layouts.cancellation")),1)]),_:1})])])]),_:1},8,["visible"])):A("",!0),_("div",{onClick:l[9]||(l[9]=$=>e(u).setLayout("showDrawer",!0)),class:"nav-menu-item"},[n(B,{color:e(u).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"fa fa-cogs",size:"18"},null,8,["color"])]),n(Jt),n(ao)],2)}}});const ve=F(vo,[["__scopeId","data-v-3c79f356"]]),go={class:"nav-bar"},yo=R({__name:"default",setup(v){j(o=>({"341e91f0":e(t).getColorVal("headerBarTabColor"),"7d0afb8a":e(t).getColorVal("headerBarTabActiveColor"),"5eccd556":e(t).getColorVal("headerBarTabActiveBackground")}));const t=N();return(o,u)=>(i(),S("div",go,[n(Ge),n(ve)]))}});const bo=F(yo,[["__scopeId","data-v-8d90b156"]]),ho={class:"nav-bar"},Co={key:0,class:"unfold"},ko=R({__name:"classic",setup(v){j(u=>({"88b2895c":e(t).getColorVal("headerBarBackground"),"6a10a632":e(t).getColorVal("headerBarTabColor"),d50d5368:e(t).getColorVal("headerBarTabActiveColor"),"4c5473d8":e(t).getColorVal("headerBarHoverBackground"),a7c0b85a:e(t).getColorVal("headerBarTabActiveBackground")}));const t=N(),o=()=>{ft("ba-aside-menu-shade",()=>{t.setLayout("menuCollapse",!0)}),t.setLayout("menuCollapse",!1)};return(u,r)=>{const p=f("Icon");return i(),S("div",ho,[e(t).layout.shrink&&e(t).layout.menuCollapse?(i(),S("div",Co,[n(p,{onClick:o,name:"fa fa-indent",color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["color"])])):A("",!0),e(t).layout.shrink?A("",!0):(i(),x(Ge,{key:1})),n(ve)])}}});const xo=F(ko,[["__scopeId","data-v-af750839"]]),wo={class:"layouts-menu-horizontal"},To={key:0,class:"menu-horizontal-logo"},So=R({__name:"menuHorizontal",setup(v){j(c=>({"5a241634":e(o).getColorVal("headerBarHoverBackground"),"82dc5a86":e(o).getColorVal("menuBackground"),"6bebfd22":e(o).getColorVal("menuColor"),"76d3b93c":e(o).getColorVal("menuActiveColor"),"677d96e3":e(o).getColorVal("menuActiveBackground")}));const t=Q(),o=N(),u=U(),r=oe(),p=H({menuKey:me(),defaultActive:""}),m=ee(()=>(p.menuKey=me(),u.state.tabsViewRoutes)),h=c=>{p.defaultActive=c.path},b=()=>{te(()=>{var d;let c=document.querySelector(".el-menu.menu-horizontal li.is-active");if(!c)return!1;(d=t.value)==null||d.setScrollTop(c.offsetTop)})};return X(()=>{h(r),b()}),ue(c=>{h(c)}),(c,d)=>{const g=f("el-menu"),a=f("el-scrollbar");return i(),S("div",wo,[e(o).layout.menuShowTopBar?(i(),S("div",To,[n(Xe)])):A("",!0),n(a,{ref_key:"horizontalMenusRef",ref:t,class:"horizontal-menus-scrollbar"},{default:s(()=>[(i(),x(g,{class:"menu-horizontal",mode:"horizontal","default-active":p.defaultActive,key:p.menuKey},{default:s(()=>[n(pe,{menus:m.value},null,8,["menus"])]),_:1},8,["default-active"]))]),_:1},512),n(ve)])}}});const Bo=F(So,[["__scopeId","data-v-d8e7d0fe"]]),Mo={class:"layouts-menu-horizontal-double"},$o=R({__name:"double",setup(v){j(c=>({"131a3b78":e(o).getColorVal("menuBackground"),b539d58a:e(o).getColorVal("menuColor"),"3b149a95":e(o).getColorVal("menuActiveColor"),"54feb5ac":e(o).getColorVal("menuActiveBackground")}));const t=Q(),o=N(),u=U(),r=oe(),p=H({menuKey:me(),defaultActive:""}),m=ee(()=>(p.menuKey=me(),u.state.tabsViewRoutes)),h=c=>{Me(c.path,u.state.tabsViewRoutes)&&(p.defaultActive=c.path)},b=()=>{te(()=>{var d;let c=document.querySelector(".el-menu.menu-horizontal li.is-active");if(!c)return!1;(d=t.value)==null||d.setScrollTop(c.offsetTop)})};return X(()=>{h(r),b()}),ue(c=>{h(c)}),(c,d)=>{const g=f("el-menu"),a=f("el-scrollbar");return i(),S("div",Mo,[n(a,{ref_key:"horizontalMenusRef",ref:t,class:"double-menus-scrollbar"},{default:s(()=>[(i(),x(g,{class:"menu-horizontal",mode:"horizontal","default-active":p.defaultActive,key:p.menuKey},{default:s(()=>[n(pe,{menus:m.value},null,8,["menus"])]),_:1},8,["default-active"]))]),_:1},512),n(ve)])}}});const Vo=F($o,[["__scopeId","data-v-616c67e4"]]),Io=R({name:"layout/header",components:{DefaultNavBar:bo,ClassicNavBar:xo,StreamlineNavBar:Bo,DoubleNavBar:Vo},__name:"header",setup(v){const t=N(),o=U();return(u,r)=>{const p=f("el-header");return e(o).state.tabFullScreen?A("",!0):(i(),x(p,{key:0,class:"layout-header"},{default:s(()=>[(i(),x(Be(e(t).layout.layoutMode+"NavBar")))]),_:1}))}}});const ge=F(Io,[["__scopeId","data-v-9014eea9"]]),Ao=R({name:"layout/main",__name:"main",setup(v){const{proxy:t}=Ye(),o=oe(),u=N(),r=U(),p=Q(),m=H({componentKey:o.path,keepAliveComponentNameList:[]}),h=function(b){if(b){if(m.keepAliveComponentNameList.find(d=>d===b))return;m.keepAliveComponentNameList.push(b)}};return Ke(()=>{t.eventBus.on("onTabViewRefresh",b=>{m.keepAliveComponentNameList=m.keepAliveComponentNameList.filter(c=>b.meta.keepalive!==c),m.componentKey="",te(()=>{m.componentKey=b.path,h(b.meta.keepalive)})}),t.eventBus.on("onTabViewClose",b=>{m.keepAliveComponentNameList=m.keepAliveComponentNameList.filter(c=>b.meta.keepalive!==c)})}),ct(()=>{t.eventBus.off("onTabViewRefresh"),t.eventBus.off("onTabViewClose")}),X(()=>{var b,c;typeof((b=r.state.activeRoute)==null?void 0:b.meta.keepalive)=="string"&&h((c=r.state.activeRoute)==null?void 0:c.meta.keepalive)}),Oe(()=>o.path,()=>{var b,c;m.componentKey=o.path,typeof((b=r.state.activeRoute)==null?void 0:b.meta.keepalive)=="string"&&h((c=r.state.activeRoute)==null?void 0:c.meta.keepalive)}),it("mainScrollbarRef",p),(b,c)=>{const d=f("router-view"),g=f("el-scrollbar"),a=f("el-main");return i(),x(a,{class:"layout-main"},{default:s(()=>[n(g,{class:"layout-main-scrollbar",style:le(e(gt)()),ref_key:"mainScrollbarRef",ref:p},{default:s(()=>[n(d,null,{default:s(({Component:l})=>[n(Se,{name:e(u).layout.mainAnimation,mode:"out-in"},{default:s(()=>[(i(),x(dt,{include:m.keepAliveComponentNameList},[(i(),x(Be(l),{key:m.componentKey}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})]),_:1},8,["style"])]),_:1})}}});const ye=F(Ao,[["__scopeId","data-v-ce1a5bf4"]]),Ro=v=>(We("data-v-0aa634f1"),v=v(),He(),v),Fo=["title","onMouseover","onMouseout"],zo=["onClick"],Lo=Ro(()=>_("div",{class:"close-full-screen-on"},null,-1)),Do=R({__name:"closeFullScreen",setup(v){const t=U(),o=H({closeBoxTop:20});X(()=>{setTimeout(()=>{o.closeBoxTop=-30},300)});const u=()=>{o.closeBoxTop=20},r=()=>{o.closeBoxTop=-30},p=()=>{t.setFullScreen(!1)};return(m,h)=>{const b=f("Icon");return i(),S("div",{title:m.$t("layouts.Exit full screen"),onMouseover:se(u,["stop"]),onMouseout:se(r,["stop"])},[_("div",{onClick:se(p,["stop"]),class:"close-full-screen",style:le({top:o.closeBoxTop+"px"})},[n(b,{name:"el-icon-Close"})],12,zo),Lo],40,Fo)}}});const be=F(Do,[["__scopeId","data-v-0aa634f1"]]),Eo=R({__name:"default",setup(v){const t=U();return(o,u)=>{const r=f("el-container");return i(),S(P,null,[n(r,{class:"layout-container"},{default:s(()=>[n($e),n(r,{class:"content-wrapper"},{default:s(()=>[n(ge),n(ye)]),_:1})]),_:1}),e(t).state.tabFullScreen?(i(),x(be,{key:0})):A("",!0)],64)}}});const Po=F(Eo,[["__scopeId","data-v-59d252c1"]]),No=R({__name:"classic",setup(v){const t=U();return(o,u)=>{const r=f("el-container");return i(),S(P,null,[n(r,{class:"layout-container"},{default:s(()=>[n($e),n(r,{class:"content-wrapper"},{default:s(()=>[n(ge),n(ye)]),_:1})]),_:1}),e(t).state.tabFullScreen?(i(),x(be,{key:0})):A("",!0)],64)}}});const Uo=F(No,[["__scopeId","data-v-fb349671"]]),qo=R({__name:"streamline",setup(v){const t=U();return(o,u)=>{const r=f("el-container");return i(),S(P,null,[n(r,{class:"layout-container"},{default:s(()=>[n(r,{class:"content-wrapper"},{default:s(()=>[n(ge),n(ye)]),_:1})]),_:1}),e(t).state.tabFullScreen?(i(),x(be,{key:0})):A("",!0)],64)}}});const Wo=F(qo,[["__scopeId","data-v-fcdc1bd3"]]),Ho=R({__name:"double",setup(v){const t=U();return(o,u)=>{const r=f("el-container");return i(),S(P,null,[n(r,{class:"layout-container"},{default:s(()=>[n($e),n(r,{class:"content-wrapper"},{default:s(()=>[n(ge),n(ye)]),_:1})]),_:1}),e(t).state.tabFullScreen?(i(),x(be,{key:0})):A("",!0)],64)}}});const Oo=F(Ho,[["__scopeId","data-v-d08319bd"]]),on=R({components:{Default:Po,Classic:Uo,Streamline:Wo,Double:Oo},__name:"index",setup(v){const t=Te(),o=U(),u=N(),r=oe(),p=xe(),m=Pe(),h=H({autoMenuCollapseLock:!1});X(()=>{if(!m.token)return Ne.push({name:"adminLogin"});b(),ke(),Ce(window,"resize",ke)}),Ke(()=>{c(),Ce(window,"resize",c)});const b=()=>{Ct().then(d=>{if(p.dataFill(d.data.siteConfig),t.changePort(d.data.terminal.installServicePort),t.changePackageManager(d.data.terminal.npmPackageManager),p.setInitialize(!0),Fe(d.data.adminInfo)||(m.dataFill(d.data.adminInfo),p.setUserInitialize(!0)),d.data.menus){if(vt(d.data.menus),r.params.to){const a=JSON.parse(r.params.to);if(a.path!=Ee){let l=Fe(a.query)?{}:a.query;_e({path:a.path,query:l});return}}let g=je(o.state.tabsViewRoutes);g&&_e(g.path)}})},c=()=>{let d={layoutMode:u.layout.layoutMode,menuCollapse:u.layout.menuCollapse},g=ne.get(re);if(g||ne.set(re,d),document.body.clientWidth<1024)h.autoMenuCollapseLock||(h.autoMenuCollapseLock=!0,u.setLayout("menuCollapse",!0)),u.setLayout("shrink",!0),u.setLayoutMode("Classic");else{h.autoMenuCollapseLock=!1;let l=g||d;u.setLayout("menuCollapse",l.menuCollapse),u.setLayout("shrink",!1),u.setLayoutMode(l.layoutMode)}};return(d,g)=>(i(),x(Be(e(u).layout.layoutMode)))}});export{on as default};
