import{_ as D,k as E,a_ as j,ae as q,u as Ie,C as m,D as c,y as V,h as e,a4 as L,ai as te,E as x,M as w,a7 as P,T as Z,S as z,B as a,A as n,z as d,m as W,a3 as le,r as ue,q as Y,f as ne,o as J,a2 as _e,n as ae,x as pe,R as O,av as Me,a8 as fe,ad as Xe,aK as Ae,a$ as Ye,O as oe,G as M,l as ve,b0 as ie,b1 as ce,L as Ee,b2 as je,H as Le,I as Fe,b3 as ge,w as Re,K as Ge,b4 as R,ah as Je,i as Te,b5 as Se,aE as Ze,b6 as Qe,p as De,aY as et,b7 as tt,b8 as ot,aH as me,b9 as nt,J as Be,at as ye,v as ze,ba as at,aX as lt}from"./index.9fd02713.js";import{_ as st,c as Pe,u as Ne,a as rt,g as qe,r as be,b as ut,d as it,s as ct,F as se,h as dt,e as mt}from"./index.be5841b6.js";import{l as _t,i as pt}from"./login.df0d7196.js";import{m as ft}from"./layout.0ad230c0.js";const vt=function(f="shade",t){const o=document.querySelector(".layout-container"),l=document.createElement("div");l.setAttribute("class","ba-layout-shade "+f),o.appendChild(l),l.addEventListener("click",()=>{We(t)})},We=function(f=()=>{}){const t=document.querySelector(".ba-layout-shade");t&&t.remove(),f()};const gt={class:"layout-logo"},yt={key:0,class:"logo-img",src:st,alt:"logo"},bt=E({__name:"logo",setup(f){j(s=>({"0e552ef4":e(t).layout.layoutMode!="Streamline"?e(t).getColorVal("menuTopBarBackground"):"transparent"}));const t=q(),o=Ie(),l=function(){t.layout.shrink&&!t.layout.menuCollapse&&We(),t.setLayout("menuCollapse",!t.layout.menuCollapse)};return(s,_)=>{const h=m("Icon");return c(),V("div",gt,[e(t).layout.menuCollapse?L("",!0):(c(),V("img",yt)),e(t).layout.menuCollapse?L("",!0):(c(),V("div",{key:1,style:te({color:e(t).getColorVal("menuActiveColor")}),class:"website-name"},x(e(o).site_name),5)),e(t).layout.layoutMode!="Streamline"?(c(),w(h,{key:2,onClick:l,name:e(t).layout.menuCollapse?"fa fa-indent":"fa fa-dedent",class:P([e(t).layout.menuCollapse?"unfold":"","fold"]),color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["name","class","color"])):L("",!0)])}}});var Ue=D(bt,[["__scopeId","data-v-9d9d4790"]]);const ht=E({__name:"menuTree",props:{menus:{default:()=>[]}},setup(f){const t=f;j(l=>({"2f0a7ab1":e(o).getColorVal("menuActiveBackground")}));const o=q();return(l,s)=>{const _=m("Icon"),h=m("menu-tree",!0),g=m("el-sub-menu"),C=m("el-menu-item");return c(!0),V(z,null,Z(t.menus,r=>(c(),V(z,null,[r.children&&r.children.length>0?(c(),w(g,{index:r.path,key:r.path},{title:a(()=>[n(_,{color:e(o).getColorVal("menuColor"),name:r.icon?r.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),d("span",null,x(r.title?r.title:l.$t("noTitle")),1)]),default:a(()=>[n(h,{menus:r.children},null,8,["menus"])]),_:2},1032,["index"])):(c(),w(C,{index:r.path,key:r.path,onClick:b=>e(Pe)(r)},{default:a(()=>[n(_,{color:e(o).getColorVal("menuColor"),name:r.icon?r.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),d("span",null,x(r.title?r.title:l.$t("noTitle")),1)]),_:2},1032,["index","onClick"]))],64))),256)}}});var He=D(ht,[["__scopeId","data-v-b26956e0"]]);const Ct=E({__name:"menuVertical",setup(f){j(r=>({"25930b15":e(h),"0cf7949c":e(t).getColorVal("menuBackground"),"501e4be3":e(t).getColorVal("menuColor"),"15b39986":e(t).getColorVal("menuActiveColor")}));const t=q(),o=W(),l=le(),s=ue(),_=Y({defaultActive:""}),h=ne(()=>{let r=0;return t.layout.menuShowTopBar&&(r=50),t.layout.layoutMode=="Default"?"calc(100vh - "+(32+r)+"px)":"calc(100vh - "+r+"px)"}),g=r=>{_.defaultActive=r.path},C=()=>{ae(()=>{var b;let r=document.querySelector(".el-menu.layouts-menu-vertical li.is-active");if(!r)return!1;(b=s.value)==null||b.setScrollTop(r.offsetTop)})};return J(()=>{g(l),C()}),_e(r=>{g(r)}),(r,b)=>{const S=m("el-menu"),p=m("el-scrollbar");return c(),w(p,{ref_key:"verticalMenusRef",ref:s,class:"vertical-menus-scrollbar"},{default:a(()=>[n(S,{class:"layouts-menu-vertical","collapse-transition":!1,"unique-opened":e(t).layout.menuUniqueOpened,"default-active":_.defaultActive,collapse:e(t).layout.menuCollapse},{default:a(()=>[n(He,{menus:e(o).state.tabsViewRoutes},null,8,["menus"])]),_:1},8,["unique-opened","default-active","collapse"])]),_:1},512)}}});const kt=E({name:"layout/aside"}),xt=E({...kt,setup(f){j(s=>({"7dd9df62":e(l)}));const t=q(),o=W(),l=ne(()=>t.menuWidth());return(s,_)=>{const h=m("el-aside");return e(o).state.tabFullScreen?L("",!0):(c(),w(h,{key:0,class:P("layout-aside-"+e(t).layout.layoutMode+" "+(e(t).layout.shrink?"shrink":""))},{default:a(()=>[e(t).layout.menuShowTopBar?(c(),w(Ue,{key:0})):L("",!0),n(Ct)]),_:1},8,["class"]))}}});var Oe=D(xt,[["__scopeId","data-v-116555a1"]]);const wt={class:"el-dropdown-menu"},Tt=["onClick"],St=E({__name:"index",props:{width:{default:150},items:{default:()=>[]}},emits:["contextmenuItemClick"],setup(f,{expose:t,emit:o}){const l=f,s=Y({show:!1,axis:{x:0,y:0},menu:{},arrowAxis:10}),_=(C,r)=>{s.menu=C,s.axis=r,s.show=!0},h=C=>{C.disabled||(C.menu=Xe(s.menu),o("contextmenuItemClick",C))},g=()=>{s.show=!1};return t({onShowContextmenu:_,onHideContextmenu:g}),J(()=>{document.body.addEventListener("click",g)}),pe(()=>{document.body.removeEventListener("click",g)}),(C,r)=>{const b=m("Icon");return c(),w(fe,{name:"el-zoom-in-center"},{default:a(()=>[O((c(),V("div",{class:"el-popper is-pure is-light el-dropdown__popper ba-contextmenu",style:te(`top: ${s.axis.y+5}px;left: ${s.axis.x-14}px;width:${l.width}px`),key:Math.random(),"aria-hidden":"false","data-popper-placement":"bottom"},[d("ul",wt,[(c(!0),V(z,null,Z(l.items,(S,p)=>(c(),V("li",{key:p,class:P(["el-dropdown-menu__item",S.disabled?"is-disabled":""]),tabindex:"-1",onClick:u=>h(S)},[n(b,{size:"12",name:S.icon},null,8,["name"]),d("span",null,x(S.label),1)],10,Tt))),128))]),d("span",{class:"el-popper__arrow",style:te({left:`${s.arrowAxis}px`})},null,4)],4)),[[Me,s.show]])]),_:1})}}});var Bt=D(St,[["__scopeId","data-v-27a380bc"]]);const $t=["onClick","onContextmenu"],Vt=E({__name:"tabs",setup(f){j(y=>({"4588ab53":e(l).getColorVal("headerBarTabColor"),"47c73ead":e(l).getColorVal("headerBarTabActiveColor"),"1e3e6120":e(l).layout.layoutMode=="Default"?"none":e(l).getColorVal("headerBarBackground")}));const t=le(),o=Ae(),l=q(),s=W(),{proxy:_}=Ne(),h=ue(),g=rt(),C=ue(),r=Y({contextmenuItems:[{name:"refresh",label:"\u91CD\u65B0\u52A0\u8F7D",icon:"fa fa-refresh"},{name:"close",label:"\u5173\u95ED\u6807\u7B7E",icon:"fa fa-times"},{name:"fullScreen",label:"\u5F53\u524D\u6807\u7B7E\u5168\u5C4F",icon:"el-icon-FullScreen"},{name:"closeOther",label:"\u5173\u95ED\u5176\u4ED6\u6807\u7B7E",icon:"fa fa-minus"},{name:"closeAll",label:"\u5173\u95ED\u5168\u90E8\u6807\u7B7E",icon:"fa fa-stop"}]}),b=Y({width:"0",transform:"translateX(0px)"}),S=y=>{o.push({path:y.path,query:y.query,params:y.params})},p=(y,T)=>{r.contextmenuItems[0].disabled=t.path!==y.path,r.contextmenuItems[4].disabled=r.contextmenuItems[3].disabled=s.state.tabsView.length==1;const{clientX:I,clientY:A}=T;C.value.onShowContextmenu(y,{x:I,y:A})},u=function(y){if(!y)return!1;b.width=y.clientWidth+"px",b.transform=`translateX(${y.offsetLeft}px)`;let T=y.offsetLeft+y.clientWidth-h.value.clientWidth;y.offsetLeft<h.value.scrollLeft?h.value.scrollTo(y.offsetLeft,0):T>h.value.scrollLeft&&h.value.scrollTo(T,0)},B=()=>{const y=s.state.tabsView.slice(-1)[0];y?o.push(y.path):o.push("/admin")},i=y=>{var T;s.closeTab(y),_.eventBus.emit("onTabViewClose",y),((T=s.state.activeRoute)==null?void 0:T.path)===y.path?B():(s.setActiveRoute(s.state.activeRoute),ae(()=>{u(g.value[s.state.activeIndex])})),C.value.onHideContextmenu()},$=()=>{s.closeTabs(!1);let y=qe(s.state.tabsViewRoutes);y&&be("",{},y.path)},U=async y=>{var A;const{name:T,menu:I}=y;switch(T){case"refresh":_.eventBus.emit("onTabViewRefresh",I);break;case"close":i(I);break;case"closeOther":s.closeTabs(I),s.setActiveRoute(I),((A=s.state.activeRoute)==null?void 0:A.path)!==t.path&&o.push(I.path);break;case"closeAll":$();break;case"fullScreen":t.path!==(I==null?void 0:I.path)&&o.push(I==null?void 0:I.path),s.setFullScreen(!0);break}},K=function(y){s.addTab(y),s.setActiveRoute(y),ae(()=>{u(g.value[s.state.activeIndex])})};return _e(async y=>{K(y)}),J(()=>{K(t),new Ye(h.value)}),(y,T)=>{const I=m("Icon");return c(),V(z,null,[d("div",{class:"nav-tabs",ref_key:"tabScrollbarRef",ref:h},[(c(!0),V(z,null,Z(e(s).state.tabsView,(A,F)=>(c(),V("div",{onClick:G=>S(A),onContextmenu:oe(G=>p(A,G),["prevent"]),class:P(["ba-nav-tab",e(s).state.activeIndex==F?"active":""]),ref_for:!0,ref:e(g).set,key:F},[M(x(A.title)+" ",1),n(fe,{onAfterLeave:T[0]||(T[0]=G=>u(e(g)[e(s).state.activeIndex])),name:"el-fade-in"},{default:a(()=>[O(n(I,{class:"close-icon",onClick:oe(G=>i(A),["stop"]),size:"15",name:"el-icon-Close"},null,8,["onClick"]),[[Me,e(s).state.tabsView.length>1]])]),_:2},1024)],42,$t))),128)),d("div",{style:te(b),class:"nav-tabs-active-box"},null,4)],512),n(Bt,{ref_key:"contextmenuRef",ref:C,items:r.contextmenuItems,onContextmenuItemClick:U},null,8,["items"])],64)}}});var Ke=D(Vt,[["__scopeId","data-v-3cb575c2"]]);const $e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],X=(()=>{if(typeof document=="undefined")return!1;const f=$e[0],t={};for(const o of $e)if((o==null?void 0:o[1])in document){for(const[s,_]of o.entries())t[f[s]]=_;return t}return!1})(),Ve={change:X.fullscreenchange,error:X.fullscreenerror};let N={request(f=document.documentElement,t){return new Promise((o,l)=>{const s=()=>{N.off("change",s),o()};N.on("change",s);const _=f[X.requestFullscreen](t);_ instanceof Promise&&_.then(s).catch(l)})},exit(){return new Promise((f,t)=>{if(!N.isFullscreen){f();return}const o=()=>{N.off("change",o),f()};N.on("change",o);const l=document[X.exitFullscreen]();l instanceof Promise&&l.then(o).catch(t)})},toggle(f,t){return N.isFullscreen?N.exit():N.request(f,t)},onchange(f){N.on("change",f)},onerror(f){N.on("error",f)},on(f,t){const o=Ve[f];o&&document.addEventListener(o,t,!1)},off(f,t){const o=Ve[f];o&&document.removeEventListener(o,t,!1)},raw:X};Object.defineProperties(N,{isFullscreen:{get:()=>Boolean(document[X.fullscreenElement])},element:{enumerable:!0,get:()=>{var f;return(f=document[X.fullscreenElement])!=null?f:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[X.fullscreenEnabled])}});X||(N={isEnabled:!1});var re=N;const he=f=>(Le("data-v-a06ba130"),f=f(),Fe(),f),It={class:"layout-config-drawer"},Mt={class:"layout-mode-styles-box"},At={class:"layout-mode-box-style"},Et=he(()=>d("div",{class:"layout-mode-style-box"},[d("div",{class:"layout-mode-style-aside"}),d("div",{class:"layout-mode-style-container-box"},[d("div",{class:"layout-mode-style-header"}),d("div",{class:"layout-mode-style-container"})])],-1)),Lt={class:"layout-mode-style-name"},Ft=he(()=>d("div",{class:"layout-mode-style-box"},[d("div",{class:"layout-mode-style-aside"}),d("div",{class:"layout-mode-style-container-box"},[d("div",{class:"layout-mode-style-header"}),d("div",{class:"layout-mode-style-container"})])],-1)),Rt={class:"layout-mode-style-name"},Dt=he(()=>d("div",{class:"layout-mode-style-box"},[d("div",{class:"layout-mode-style-container-box"},[d("div",{class:"layout-mode-style-header"}),d("div",{class:"layout-mode-style-container"})])],-1)),zt={class:"layout-mode-style-name"},Pt={class:"layout-config-global"},Nt={class:"layout-config-aside"},qt=M("px"),Wt={class:"layout-config-aside"},Ut={class:"ba-center"},Ht=E({__name:"config",setup(f){const{t}=ve(),o=q(),l=W(),s=Ae(),_=ut(),h=it(_),g=B=>{h(B),o.setLayout("isDark",B),o.onSetLayoutColor()},C=(B,i)=>{o.setLayout(i,B)},r=(B,i)=>{const $=o.layout[i];o.layout.isDark?$[1]=B:$[0]=B,o.setLayout(i,$)},b=B=>{ie.set(ce,{layoutMode:B,menuCollapse:o.layout.menuCollapse}),o.setLayoutMode(B)},S=(B,i)=>{o.setLayout(i,B);const $=l.state.tabsViewRoutes;l.setTabsViewRoutes([]),setTimeout(()=>{l.setTabsViewRoutes($)},200)},p=()=>{o.setLayout("showDrawer",!1)},u=()=>{Ee.remove(je),ie.remove(ce),h(!1),s.go(0)};return(B,i)=>{const $=m("el-divider"),U=m("el-col"),K=m("el-row"),y=m("el-switch"),T=m("el-form-item"),I=m("el-option"),A=m("el-select"),F=m("el-color-picker"),G=m("el-input"),H=m("el-button"),v=m("el-popconfirm"),Q=m("el-form"),ee=m("el-scrollbar"),de=m("el-drawer");return c(),V("div",It,[n(de,{"model-value":e(o).layout.showDrawer,title:e(t)("layouts.Layout configuration"),size:"310px",onClose:p},{default:a(()=>[n(ee,{class:"layout-mode-style-scrollbar"},{default:a(()=>[n(Q,{ref:"formRef",model:e(o).layout},{default:a(()=>[d("div",Mt,[n($,{"border-style":"dashed"},{default:a(()=>[M(x(e(t)("layouts.Layout mode")),1)]),_:1}),d("div",At,[n(K,{class:"layout-mode-box-style-row",gutter:10},{default:a(()=>[n(U,{span:12},{default:a(()=>[d("div",{onClick:i[0]||(i[0]=k=>b("Default")),class:P(["layout-mode-style default",e(o).layout.layoutMode=="Default"?"active":""])},[Et,d("div",Lt,x(e(t)("layouts.default")),1)],2)]),_:1}),n(U,{span:12},{default:a(()=>[d("div",{onClick:i[1]||(i[1]=k=>b("Classic")),class:P(["layout-mode-style classic",e(o).layout.layoutMode=="Classic"?"active":""])},[Ft,d("div",Rt,x(e(t)("layouts.classic")),1)],2)]),_:1})]),_:1}),n(K,{gutter:10},{default:a(()=>[n(U,{span:12},{default:a(()=>[d("div",{onClick:i[2]||(i[2]=k=>b("Streamline")),class:P(["layout-mode-style streamline",e(o).layout.layoutMode=="Streamline"?"active":""])},[Dt,d("div",zt,x(e(t)("layouts.Single column")),1)],2)]),_:1})]),_:1})]),n($,{"border-style":"dashed"},{default:a(()=>[M(x(e(t)("layouts.overall situation")),1)]),_:1}),d("div",Pt,[n(T,{size:"large",label:e(t)("layouts.Dark mode")},{default:a(()=>[n(y,{modelValue:e(o).layout.isDark,"onUpdate:modelValue":i[3]||(i[3]=k=>e(o).layout.isDark=k),onChange:i[4]||(i[4]=k=>g(k)),"active-icon":"el-icon-Moon","inactive-icon":"el-icon-Sunny"},null,8,["modelValue"])]),_:1},8,["label"]),n(T,{label:e(t)("layouts.Background page switching animation")},{default:a(()=>[n(A,{onChange:i[5]||(i[5]=k=>C(k,"mainAnimation")),"model-value":e(o).layout.mainAnimation,placeholder:e(t)("layouts.Please select an animation name")},{default:a(()=>[n(I,{label:"slide-right",value:"slide-right"}),n(I,{label:"slide-left",value:"slide-left"}),n(I,{label:"el-fade-in-linear",value:"el-fade-in-linear"}),n(I,{label:"el-fade-in",value:"el-fade-in"}),n(I,{label:"el-zoom-in-center",value:"el-zoom-in-center"}),n(I,{label:"el-zoom-in-top",value:"el-zoom-in-top"}),n(I,{label:"el-zoom-in-bottom",value:"el-zoom-in-bottom"})]),_:1},8,["model-value","placeholder"])]),_:1},8,["label"])]),n($,{"border-style":"dashed"},{default:a(()=>[M(x(e(t)("layouts.sidebar")),1)]),_:1}),d("div",Nt,[n(T,{label:e(t)("layouts.Side menu bar background color")},{default:a(()=>[n(F,{onChange:i[6]||(i[6]=k=>r(k,"menuBackground")),"model-value":e(o).getColorVal("menuBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(T,{label:e(t)("layouts.Side menu text color")},{default:a(()=>[n(F,{onChange:i[7]||(i[7]=k=>r(k,"menuColor")),"model-value":e(o).getColorVal("menuColor")},null,8,["model-value"])]),_:1},8,["label"]),n(T,{label:e(t)("layouts.Side menu active item background color")},{default:a(()=>[n(F,{onChange:i[8]||(i[8]=k=>r(k,"menuActiveBackground")),"model-value":e(o).getColorVal("menuActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(T,{label:e(t)("layouts.Side menu active item text color")},{default:a(()=>[n(F,{onChange:i[9]||(i[9]=k=>r(k,"menuActiveColor")),"model-value":e(o).getColorVal("menuActiveColor")},null,8,["model-value"])]),_:1},8,["label"]),n(T,{label:e(t)("layouts.Show side menu top bar (logo bar)")},{default:a(()=>[n(y,{onChange:i[10]||(i[10]=k=>C(k,"menuShowTopBar")),"model-value":e(o).layout.menuShowTopBar},null,8,["model-value"])]),_:1},8,["label"]),n(T,{label:e(t)("layouts.Side menu top bar background color")},{default:a(()=>[n(F,{onChange:i[11]||(i[11]=k=>r(k,"menuTopBarBackground")),"model-value":e(o).getColorVal("menuTopBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(T,{label:e(t)("layouts.Side menu width (when expanded)")},{default:a(()=>[n(G,{onInput:i[12]||(i[12]=k=>C(k,"menuWidth")),type:"number",step:10,"model-value":e(o).layout.menuWidth},{append:a(()=>[qt]),_:1},8,["model-value"])]),_:1},8,["label"]),n(T,{label:e(t)("layouts.Side menu default icon")},{default:a(()=>[n(ct,{onChange:i[13]||(i[13]=k=>S(k,"menuDefaultIcon")),"model-value":e(o).layout.menuDefaultIcon},null,8,["model-value"])]),_:1},8,["label"]),n(T,{label:e(t)("layouts.Side menu horizontal collapse")},{default:a(()=>[n(y,{onChange:i[14]||(i[14]=k=>C(k,"menuCollapse")),"model-value":e(o).layout.menuCollapse},null,8,["model-value"])]),_:1},8,["label"]),n(T,{label:e(t)("layouts.Side menu accordion")},{default:a(()=>[n(y,{onChange:i[15]||(i[15]=k=>C(k,"menuUniqueOpened")),"model-value":e(o).layout.menuUniqueOpened},null,8,["model-value"])]),_:1},8,["label"])]),n($,{"border-style":"dashed"},{default:a(()=>[M(x(e(t)("layouts.Top bar")),1)]),_:1}),d("div",Wt,[n(T,{label:e(t)("layouts.Top bar background color")},{default:a(()=>[n(F,{onChange:i[16]||(i[16]=k=>r(k,"headerBarBackground")),"model-value":e(o).getColorVal("headerBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(T,{label:e(t)("layouts.Top bar text color")},{default:a(()=>[n(F,{onChange:i[17]||(i[17]=k=>r(k,"headerBarTabColor")),"model-value":e(o).getColorVal("headerBarTabColor")},null,8,["model-value"])]),_:1},8,["label"]),n(T,{label:e(t)("layouts.Background color when hovering over the top bar")},{default:a(()=>[n(F,{onChange:i[18]||(i[18]=k=>r(k,"headerBarHoverBackground")),"model-value":e(o).getColorVal("headerBarHoverBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(T,{label:e(t)("layouts.Top bar menu active item background color")},{default:a(()=>[n(F,{onChange:i[19]||(i[19]=k=>r(k,"headerBarTabActiveBackground")),"model-value":e(o).getColorVal("headerBarTabActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(T,{label:e(t)("layouts.Top bar menu active item text color")},{default:a(()=>[n(F,{onChange:i[20]||(i[20]=k=>r(k,"headerBarTabActiveColor")),"model-value":e(o).getColorVal("headerBarTabActiveColor")},null,8,["model-value"])]),_:1},8,["label"])]),n(v,{onConfirm:u,title:e(t)("layouts.Are you sure you want to restore all configurations to the default values?")},{reference:a(()=>[d("div",Ut,[n(H,{class:"w80",type:"info"},{default:a(()=>[M(x(e(t)("layouts.Restore default")),1)]),_:1})])]),_:1},8,["title"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["model-value","title"])])}}});var Ot=D(Ht,[["__scopeId","data-v-a06ba130"]]);const Kt={class:"command"},Xt={class:"task-opt"},Yt=["onClick"],jt={class:"indent-2"},Gt={class:"package-manager-dialog-footer"},Jt=M("npm"),Zt=M("cnpm"),Qt=M("pnpm"),eo=M("yarn"),to=M("ni"),oo={class:"config-buttons"},no=E({__name:"index",setup(f){const{t}=ve(),o=ge(),l=Y({terminalWarning:"",port:o.state.port,menuExpand:document.documentElement.clientWidth>1840}),s=ne(()=>{let p=o.state.port==""?"80":o.state.port;return p=="8000"?"php think run":"php think run -p "+p}),_=ne(()=>{let p=o.state.port==""?"":":"+o.state.port;return"http://localhost"+p+" "+t("terminal.or")+" http://"+t("terminal.Site domain name")+p}),h=p=>{Se({port:p}).then(u=>{u.code==1?(o.changePort(p),S()):l.port=o.state.port}).catch(()=>{l.port=o.state.port})},g=p=>{let u=t("terminal.unknown"),B="info";switch(p){case R.Waiting:u=t("terminal.Waiting for execution"),B="info";break;case R.Connecting:u=t("terminal.Connecting"),B="warning";break;case R.Executing:u=t("terminal.Executing"),B="warning";break;case R.Success:u=t("terminal.Successful execution"),B="success";break;case R.Failed:u=t("terminal.Execution failed"),B="danger";break;case R.Unknown:u=t("terminal.Unknown execution result"),B="danger";break}return{statusText:u,statusType:B}},C=()=>{Ze.confirm(t("terminal.Are you sure you want to republish?"),t("Reminder"),{confirmButtonText:t("Confirm"),cancelButtonText:t("Cancel"),type:"warning"}).then(()=>{o.addTaskPM("web-build")})},r=p=>{Se({manager:p}).then(u=>{u.code==1&&o.changePackageManager(p)}),o.togglePackageManagerDialog(!1)},b=p=>{l.terminalWarning=p},S=()=>{Qe()!=o.state.port?b(t("terminal.The current terminal is not running under the installation service, and some commands may not be executed")):b("")};return Re(()=>o.state.port,p=>{p!=l.port&&(l.port=p,S())}),J(()=>{S()}),(p,u)=>{const B=m("el-tag"),i=m("el-button"),$=m("Icon"),U=m("el-card"),K=m("el-timeline-item"),y=m("el-timeline"),T=m("el-empty"),I=m("el-button-group"),A=m("el-alert"),F=m("el-dialog"),G=m("el-form"),H=Ge("blur");return c(),V(z,null,[n(F,Je(p.$attrs,{modelValue:e(o).state.show,"onUpdate:modelValue":u[7]||(u[7]=v=>e(o).state.show=v),title:e(t)("terminal.Terminal"),"custom-class":"ba-terminal-dialog","append-to-body":!0}),{default:a(()=>[e(o).state.taskList.length?(c(),w(y,{key:0},{default:a(()=>[(c(!0),V(z,null,Z(e(o).state.taskList,(v,Q)=>(c(),w(K,{key:Q,class:P(["task-item","task-status-"+v.status]),type:g(v.status).statusType,center:"",timestamp:v.createtime,placement:"top"},{default:a(()=>[n(U,null,{default:a(()=>[d("div",null,[n(B,{type:g(v.status).statusType},{default:a(()=>[M(x(g(v.status).statusText),1)]),_:2},1032,["type"]),(v.status==e(R).Failed||v.status==e(R).Unknown)&&v.blockOnFailure?(c(),w(B,{key:0,class:"block-on-failure-tag",type:"warning"},{default:a(()=>[M(x(e(t)("terminal.Failure to execute this command will block the execution of the queue")),1)]),_:1})):L("",!0),v.status==e(R).Executing||v.status==e(R).Connecting?(c(),w(B,{key:1,class:"block-on-failure-tag",type:"danger"},{default:a(()=>[M(x(e(t)("terminal.Do not refresh the browser")),1)]),_:1})):L("",!0),d("span",Kt,x(v.command),1),d("div",Xt,[v.status==e(R).Failed||v.status==e(R).Unknown?O((c(),w(i,{key:0,title:e(t)("Retry"),size:"small",type:"warning",icon:"el-icon-RefreshRight",circle:"",onClick:ee=>e(o).retryTask(Q)},null,8,["title","onClick"])),[[H]]):L("",!0),O(n(i,{onClick:ee=>e(o).delTask(Q),title:e(t)("delete"),size:"small",type:"danger",icon:"el-icon-Delete",circle:""},null,8,["onClick","title"]),[[H]])])]),v.status!=e(R).Waiting?(c(),V(z,{key:0},[v.status!=e(R).Connecting&&v.status!=e(R).Executing?(c(),V("div",{key:0,onClick:ee=>e(o).setTaskShowMessage(Q),class:"toggle-message-display"},[d("span",null,x(e(t)("terminal.Command run log")),1),n($,{name:v.showMessage?"el-icon-ArrowUp":"el-icon-ArrowDown",size:"16",color:"#909399"},null,8,["name"])],8,Yt)):L("",!0),v.status==e(R).Connecting||v.status==e(R).Executing||v.status>e(R).Executing&&v.showMessage?(c(),V("div",{key:1,class:P(["exec-message","exec-message-"+v.uuid])},[(c(!0),V(z,null,Z(v.message,(ee,de)=>(c(),V("div",{key:de,class:"message-item"},x(ee),1))),128))],2)):L("",!0)],64)):L("",!0)]),_:2},1024)]),_:2},1032,["class","type","timestamp"]))),128))]),_:1})):(c(),w(T,{key:1,"image-size":80,description:e(t)("terminal.No mission yet")},null,8,["description"])),n(I,null,{default:a(()=>[O((c(),w(i,{class:"terminal-menu-item",icon:"el-icon-MagicStick",onClick:u[0]||(u[0]=v=>e(o).addTaskPM("test-install",!1))},{default:a(()=>[M(x(e(t)("terminal.Test command")),1)]),_:1})),[[H]]),O((c(),w(i,{class:"terminal-menu-item",icon:"el-icon-Download",onClick:u[1]||(u[1]=v=>e(o).addTaskPM("web-install"))},{default:a(()=>[M(x(e(t)("terminal.Install dependent packages")),1)]),_:1})),[[H]]),O((c(),w(i,{class:"terminal-menu-item",icon:"el-icon-Sell",onClick:u[2]||(u[2]=v=>C())},{default:a(()=>[M(x(e(t)("terminal.Republish")),1)]),_:1})),[[H]]),l.menuExpand?(c(),V(z,{key:1},[O((c(),w(i,{class:"terminal-menu-item",icon:"el-icon-Delete",onClick:u[4]||(u[4]=v=>e(o).clearSuccessTask())},{default:a(()=>[M(x(e(t)("terminal.Clean up task list")),1)]),_:1})),[[H]]),O((c(),w(i,{class:"terminal-menu-item",icon:"el-icon-Switch",onClick:u[5]||(u[5]=v=>e(o).togglePackageManagerDialog(!0))},{default:a(()=>[M(x(e(t)("terminal.Package manager"))+" "+x(e(o).state.packageManager.toUpperCase()),1)]),_:1})),[[H]]),O((c(),w(i,{class:"terminal-menu-item",icon:"el-icon-Tools",onClick:u[6]||(u[6]=v=>e(o).toggleConfigDialog())},{default:a(()=>[M(x(e(t)("terminal.Terminal settings")),1)]),_:1})),[[H]])],64)):O((c(),w(i,{key:0,class:"terminal-menu-item",icon:"el-icon-Expand",onClick:u[3]||(u[3]=v=>l.menuExpand=!0)},null,512)),[[H]])]),_:1}),l.terminalWarning?(c(),w(A,{key:2,title:l.terminalWarning,type:"warning"},null,8,["title"])):L("",!0)]),_:1},16,["modelValue","title"]),n(F,{onClose:u[14]||(u[14]=v=>e(o).togglePackageManagerDialog(!1)),"model-value":e(o).state.showPackageManagerDialog,"custom-class":"ba-terminal-dialog",title:e(t)("terminal.Please select package manager"),center:""},{footer:a(()=>[d("div",Gt,[n(i,{onClick:u[8]||(u[8]=v=>r("npm"))},{default:a(()=>[Jt]),_:1}),n(i,{onClick:u[9]||(u[9]=v=>r("cnpm"))},{default:a(()=>[Zt]),_:1}),n(i,{onClick:u[10]||(u[10]=v=>r("pnpm"))},{default:a(()=>[Qt]),_:1}),n(i,{onClick:u[11]||(u[11]=v=>r("yarn"))},{default:a(()=>[eo]),_:1}),n(i,{onClick:u[12]||(u[12]=v=>r("ni"))},{default:a(()=>[to]),_:1}),n(i,{onClick:u[13]||(u[13]=v=>r("none"))},{default:a(()=>[M(x(e(t)("terminal.I want to execute the command manually")),1)]),_:1})])]),default:a(()=>[d("div",jt,x(e(t)("terminal.Switch package manager title")),1)]),_:1},8,["model-value","title"]),n(F,{onClose:u[19]||(u[19]=v=>e(o).toggleConfigDialog(!1)),"model-value":e(o).state.showConfig,"custom-class":"ba-terminal-dialog",title:e(t)("terminal.Terminal settings")},{default:a(()=>[n(G,{"label-position":"top"},{default:a(()=>[n(se,{label:e(t)("terminal.Install service port"),modelValue:l.port,"onUpdate:modelValue":u[15]||(u[15]=v=>l.port=v),type:"number","input-attr":{onChange:h},placeholder:e(t)("terminal.The port number to start the installation service (this port needs to be opened for external network access)")},null,8,["label","modelValue","input-attr","placeholder"]),n(se,{label:e(t)("terminal.Installation service startup command"),modelValue:e(s),"onUpdate:modelValue":u[16]||(u[16]=v=>Te(s)?s.value=v:null),type:"string","input-attr":{disabled:!0},attr:{"block-help":e(t)("terminal.Please execute this command to start the service (add Su under Linux)")}},null,8,["label","modelValue","attr"]),n(se,{label:e(t)("terminal.Installation service URL"),modelValue:e(_),"onUpdate:modelValue":u[17]||(u[17]=v=>Te(_)?_.value=v:null),type:"string","input-attr":{disabled:!0},attr:{"block-help":e(t)("terminal.Please access the site through the installation service URL (except in debug mode)")}},null,8,["label","modelValue","attr"])]),_:1}),n(se,{label:e(t)("terminal.Clean up successful tasks when starting a new task"),"model-value":e(o).state.automaticCleanupTask,type:"radio",data:{content:{0:e(t)("Disable"),1:e(t)("Enable")},childrenAttr:{border:!0}},"input-attr":{onChange:e(o).changeAutomaticCleanupTask}},null,8,["label","model-value","data","input-attr"]),d("div",oo,[n(i,{onClick:u[18]||(u[18]=v=>e(o).toggleConfigDialog(!1))},{default:a(()=>[M(x(e(t)("terminal.Back to terminal")),1)]),_:1})])]),_:1},8,["model-value","title"])],64)}}});var ao=D(no,[["__scopeId","data-v-7ac1fa5a"]]);const lo={class:"nav-menu-item"},so=["src"],ro={class:"admin-name"},uo={class:"admin-info-base"},io=["src"],co={class:"admin-info-other"},mo={class:"admin-info-name"},_o={class:"admin-info-lasttime"},po={class:"admin-info-footer"},fo=E({__name:"navMenus",setup(f){j(S=>({"9eb8198c":e(l).getColorVal("headerBarBackground"),"454ab81a":e(l).getColorVal("headerBarTabColor"),"3d3181a8":e(l).getColorVal("headerBarHoverBackground")}));const{t}=ve(),o=De(),l=q(),s=ge(),_=Y({isFullScreen:!1,currentNavMenu:"",showLayoutDrawer:!1}),h=(S,p)=>{_.currentNavMenu=S?p:""},g=()=>{if(!re.isEnabled)return tt.warning(t("layout.Full screen is not supported")),!1;re.toggle(),re.onchange(()=>{_.isFullScreen=re.isFullscreen})},C=()=>{be("routine/adminInfo")},r=()=>{_t().then(()=>{Ee.remove(ot),me.go(0)})},b=S=>{nt(S).then(()=>{})};return(S,p)=>{const u=m("Icon"),B=m("router-link"),i=m("el-dropdown-item"),$=m("el-dropdown-menu"),U=m("el-dropdown"),K=m("el-badge"),y=m("el-avatar"),T=m("el-button"),I=m("el-popover");return c(),V("div",{class:P(["nav-menus",e(l).layout.layoutMode])},[n(B,{class:"h100",target:"_blank",title:e(t)("home"),to:"/"},{default:a(()=>[d("div",lo,[n(u,{color:e(l).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Monitor",size:"18"},null,8,["color"])])]),_:1},8,["title"]),n(U,{onVisibleChange:p[0]||(p[0]=A=>h(A,"lang")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:a(()=>[n($,{class:"dropdown-menu-box"},{default:a(()=>[(c(!0),V(z,null,Z(e(l).lang.langArray,A=>(c(),w(i,{key:A.name,onClick:F=>e(et)(A.name)},{default:a(()=>[M(x(A.value),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:a(()=>[d("div",{class:P(["nav-menu-item pt2",_.currentNavMenu=="lang"?"hover":""])},[n(u,{color:e(l).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-lang",size:"18"},null,8,["color"])],2)]),_:1}),d("div",{onClick:g,class:P(["nav-menu-item",_.isFullScreen?"hover":""])},[_.isFullScreen?(c(),w(u,{key:0,color:e(l).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-full-screen-cancel",size:"18"},null,8,["color"])):(c(),w(u,{key:1,color:e(l).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-FullScreen",size:"18"},null,8,["color"]))],2),e(o).super?(c(),V("div",{key:0,onClick:p[1]||(p[1]=A=>e(s).toggle()),class:"nav-menu-item pt2"},[n(K,{"is-dot":e(s).state.showDot},{default:a(()=>[n(u,{color:e(l).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-terminal",size:"26"},null,8,["color"])]),_:1},8,["is-dot"])])):L("",!0),e(o).super?(c(),w(U,{key:1,onVisibleChange:p[3]||(p[3]=A=>h(A,"clear")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:a(()=>[n($,{class:"dropdown-menu-box"},{default:a(()=>[n(i,{onClick:p[2]||(p[2]=A=>b("tp"))},{default:a(()=>[M(x(e(t)("utils.Clean up system cache")),1)]),_:1})]),_:1})]),default:a(()=>[d("div",{class:P(["nav-menu-item",_.currentNavMenu=="clear"?"hover":""])},[n(u,{color:e(l).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Delete",size:"18"},null,8,["color"])],2)]),_:1})):L("",!0),n(I,{onShow:p[4]||(p[4]=A=>h(!0,"adminInfo")),onHide:p[5]||(p[5]=A=>h(!1,"adminInfo")),placement:"bottom-end","hide-after":0,width:260,trigger:"click","popper-class":"admin-info-box"},{reference:a(()=>[d("div",{class:P(["admin-info",_.currentNavMenu=="adminInfo"?"hover":""])},[n(y,{size:25,fit:"fill"},{default:a(()=>[d("img",{src:e(o).avatar,alt:""},null,8,so)]),_:1}),d("div",ro,x(e(o).nickname),1)],2)]),default:a(()=>[d("div",null,[d("div",uo,[n(y,{size:70,fit:"fill"},{default:a(()=>[d("img",{src:e(o).avatar,alt:""},null,8,io)]),_:1}),d("div",co,[d("div",mo,x(e(o).nickname),1),d("div",_o,x(e(o).lastlogintime),1)])]),d("div",po,[n(T,{onClick:C,type:"primary",plain:""},{default:a(()=>[M(x(e(t)("layouts.personal data")),1)]),_:1}),n(T,{onClick:r,type:"danger",plain:""},{default:a(()=>[M(x(e(t)("layouts.cancellation")),1)]),_:1})])])]),_:1}),d("div",{onClick:p[6]||(p[6]=A=>e(l).setLayout("showDrawer",!0)),class:"nav-menu-item"},[n(u,{color:e(l).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"fa fa-cogs",size:"18"},null,8,["color"])]),n(Ot),n(ao)],2)}}});var Ce=D(fo,[["__scopeId","data-v-1daab689"]]);const vo={class:"nav-bar"},go=E({__name:"default",setup(f){j(o=>({"2aa200da":e(t).getColorVal("headerBarTabColor"),e593da18:e(t).getColorVal("headerBarTabActiveColor"),"17a6902b":e(t).getColorVal("headerBarTabActiveBackground")}));const t=q();return(o,l)=>(c(),V("div",vo,[n(Ke),n(Ce)]))}});var yo=D(go,[["__scopeId","data-v-e08b3cae"]]);const bo={class:"nav-bar"},ho={key:0,class:"unfold"},Co=E({__name:"classic",setup(f){j(l=>({"26bacab6":e(t).getColorVal("headerBarBackground"),"28e93e96":e(t).getColorVal("headerBarTabColor"),"2f6f13b0":e(t).getColorVal("headerBarTabActiveColor"),"7e97b530":e(t).getColorVal("headerBarHoverBackground"),"31dca4ef":e(t).getColorVal("headerBarTabActiveBackground")}));const t=q(),o=()=>{vt("ba-aside-menu-shade",()=>{t.setLayout("menuCollapse",!0)}),t.setLayout("menuCollapse",!1)};return(l,s)=>{const _=m("Icon");return c(),V("div",bo,[e(t).layout.shrink&&e(t).layout.menuCollapse?(c(),V("div",ho,[n(_,{onClick:o,name:"fa fa-indent",color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["color"])])):L("",!0),e(t).layout.shrink?L("",!0):(c(),w(Ke,{key:1})),n(Ce)])}}});var ko=D(Co,[["__scopeId","data-v-79c162de"]]);const xo={class:"layouts-menu-horizontal"},wo={key:0,class:"menu-horizontal-logo"},To=E({__name:"menuHorizontal",setup(f){j(r=>({"262b7024":e(o).getColorVal("headerBarHoverBackground"),"5f33d8ad":e(o).getColorVal("menuBackground"),"6a8bfd9c":e(o).getColorVal("menuColor"),"2b1b1d68":e(o).getColorVal("menuActiveColor"),c4c12e5a:e(o).getColorVal("menuActiveBackground")}));const t=ue(),o=q(),l=W(),s=le(),_=Y({menuKey:Be(),defaultActive:""}),h=ne(()=>(_.menuKey=Be(),l.state.tabsViewRoutes)),g=r=>{_.defaultActive=r.path},C=()=>{ae(()=>{var b;let r=document.querySelector(".el-menu.menu-horizontal li.is-active");if(!r)return!1;(b=t.value)==null||b.setScrollTop(r.offsetTop)})};return J(()=>{g(s),C()}),_e(r=>{g(r)}),(r,b)=>{const S=m("Icon"),p=m("el-sub-menu"),u=m("el-menu-item"),B=m("el-menu"),i=m("el-scrollbar");return c(),V("div",xo,[e(o).layout.menuShowTopBar?(c(),V("div",wo,[n(Ue)])):L("",!0),n(i,{ref_key:"horizontalMenusRef",ref:t,class:"horizontal-menus-scrollbar"},{default:a(()=>[(c(),w(B,{class:"menu-horizontal",mode:"horizontal","default-active":_.defaultActive,key:_.menuKey},{default:a(()=>[(c(!0),V(z,null,Z(e(h),$=>(c(),V(z,null,[$.children&&$.children.length>0?(c(),w(p,{index:$.path,key:$.path},{title:a(()=>[n(S,{color:e(o).getColorVal("menuColor"),name:$.icon?$.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),d("span",null,x($.title?$.title:r.$t("noTitle")),1)]),default:a(()=>[n(He,{menus:$.children},null,8,["menus"])]),_:2},1032,["index"])):(c(),w(u,{index:$.path,key:$.path,onClick:U=>e(Pe)($)},{default:a(()=>[n(S,{color:e(o).getColorVal("menuColor"),name:$.icon?$.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),d("span",null,x($.title?$.title:r.$t("noTitle")),1)]),_:2},1032,["index","onClick"]))],64))),256))]),_:1},8,["default-active"]))]),_:1},512),n(Ce)])}}});var So=D(To,[["__scopeId","data-v-9344c9a2"]]);const Bo=E({name:"layout/header",components:{DefaultNavBar:yo,ClassicNavBar:ko,StreamlineNavBar:So}}),$o=E({...Bo,setup(f){const t=q(),o=W();return(l,s)=>{const _=m("el-header");return e(o).state.tabFullScreen?L("",!0):(c(),w(_,{key:0,class:"layout-header"},{default:a(()=>[(c(),w(ye(e(t).layout.layoutMode+"NavBar")))]),_:1}))}}});var ke=D($o,[["__scopeId","data-v-7f580f42"]]);const Vo=E({name:"layout/main"}),Io=E({...Vo,setup(f){const{proxy:t}=Ne(),o=le(),l=q(),s=W(),_=Y({componentKey:o.path,keepAliveComponentNameList:[]}),h=function(g){if(g){if(_.keepAliveComponentNameList.find(r=>r===g))return;_.keepAliveComponentNameList.push(g)}};return ze(()=>{t.eventBus.on("onTabViewRefresh",g=>{_.keepAliveComponentNameList=_.keepAliveComponentNameList.filter(C=>g.keepAlive!==C),_.componentKey="",ae(()=>{_.componentKey=g.path,h(g.keepAlive)})}),t.eventBus.on("onTabViewClose",g=>{_.keepAliveComponentNameList=_.keepAliveComponentNameList.filter(C=>g.keepAlive!==C)})}),pe(()=>{t.eventBus.off("onTabViewRefresh"),t.eventBus.off("onTabViewClose")}),J(()=>{var g;h((g=s.state.activeRoute)==null?void 0:g.keepAlive)}),Re(()=>o.path,()=>{var g;_.componentKey=o.path,h((g=s.state.activeRoute)==null?void 0:g.keepAlive)}),(g,C)=>{const r=m("router-view"),b=m("el-scrollbar"),S=m("el-main");return c(),w(S,{class:"layout-main"},{default:a(()=>[n(b,{class:"layout-main-scrollbar",style:te(e(ft)()),ref:"mainScrollbarRef"},{default:a(()=>[n(r,null,{default:a(({Component:p})=>[n(fe,{name:e(l).layout.mainAnimation,mode:"out-in"},{default:a(()=>[(c(),w(at,{include:_.keepAliveComponentNameList},[(c(),w(ye(p),{key:_.componentKey}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})]),_:1},8,["style"])]),_:1})}}});var xe=D(Io,[["__scopeId","data-v-4d5fefef"]]);const Mo=f=>(Le("data-v-d04f5c2a"),f=f(),Fe(),f),Ao=["title","onMouseover","onMouseout"],Eo=["onClick"],Lo=Mo(()=>d("div",{class:"close-full-screen-on"},null,-1)),Fo=E({__name:"closeFullScreen",setup(f){const t=W(),o=Y({closeBoxTop:20});J(()=>{setTimeout(()=>{o.closeBoxTop=-30},300)});const l=()=>{o.closeBoxTop=20},s=()=>{o.closeBoxTop=-30},_=()=>{t.setFullScreen(!1)};return(h,g)=>{const C=m("Icon");return c(),V("div",{title:h.$t("layout.Exit full screen"),onMouseover:oe(l,["stop"]),onMouseout:oe(s,["stop"])},[d("div",{onClick:oe(_,["stop"]),class:"close-full-screen",style:te({top:o.closeBoxTop+"px"})},[n(C,{name:"el-icon-Close"})],12,Eo),Lo],40,Ao)}}});var we=D(Fo,[["__scopeId","data-v-d04f5c2a"]]);const Ro=E({__name:"default",setup(f){const t=W();return(o,l)=>{const s=m("el-container");return c(),V(z,null,[n(s,{class:"layout-container"},{default:a(()=>[n(Oe),n(s,{class:"content-wrapper"},{default:a(()=>[n(ke),n(xe)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),w(we,{key:0})):L("",!0)],64)}}});var Do=D(Ro,[["__scopeId","data-v-cc0da66a"]]);const zo=E({__name:"classic",setup(f){const t=W();return(o,l)=>{const s=m("el-container");return c(),V(z,null,[n(s,{class:"layout-container"},{default:a(()=>[n(Oe),n(s,{class:"content-wrapper"},{default:a(()=>[n(ke),n(xe)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),w(we,{key:0})):L("",!0)],64)}}});var Po=D(zo,[["__scopeId","data-v-91c8af48"]]);const No=E({__name:"streamline",setup(f){const t=W();return(o,l)=>{const s=m("el-container");return c(),V(z,null,[n(s,{class:"layout-container"},{default:a(()=>[n(s,{class:"content-wrapper"},{default:a(()=>[n(ke),n(xe)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),w(we,{key:0})):L("",!0)],64)}}});var qo=D(No,[["__scopeId","data-v-9111e4cc"]]);const Wo={components:{Default:Do,Classic:Po,Streamline:qo}},Xo=E({...Wo,__name:"index",setup(f){const t=ge(),o=W(),l=q(),s=le(),_=Ie(),h=De();J(()=>{if(!h.token)return me.push({name:"adminLogin"});g(),r(),window.addEventListener("resize",r)}),ze(()=>{C(),window.addEventListener("resize",C)}),pe(()=>{window.removeEventListener("resize",C),window.removeEventListener("resize",r)});const g=()=>{pt().then(b=>{if(_.$state=b.data.siteConfig,t.changePort(b.data.terminal.install_service_port),t.changePackageManager(b.data.terminal.npm_package_manager),h.super=b.data.adminInfo.super,b.data.menus){let S=dt(b.data.menus);if(o.setTabsViewRoutes(S),s.query&&s.query.url&&s.query.url!=lt.path&&mt(S).indexOf(s.query.url)!==-1){let B=JSON.parse(s.query.query);me.push({path:s.query.url,query:Object.keys(B).length?B:{}});return}let p=qe(o.state.tabsViewRoutes);p&&be("",{},p.path)}})},C=()=>{let b={layoutMode:l.layout.layoutMode,menuCollapse:l.layout.menuCollapse},S=ie.get(ce);if(S||ie.set(ce,b),document.body.clientWidth<1024)l.setLayout("menuCollapse",!0),l.setLayout("shrink",!0),l.setLayoutMode("Classic");else{let u=S||b;l.setLayout("menuCollapse",u.menuCollapse),l.setLayout("shrink",!1),l.setLayoutMode(u.layoutMode)}},r=()=>{const b=document.querySelector(".nav-tabs");if(!b)return;const S=document.querySelector(".nav-bar"),p=document.querySelector(".nav-menus"),u=S.offsetWidth-(p.offsetWidth+20);b.style.width=u.toString()+"px"};return(b,S)=>(c(),w(ye(e(l).layout.layoutMode)))}});export{Xo as default};
