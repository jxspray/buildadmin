import{b as m,d as b,T as f,a as y}from"./index-8cTtyBlP.js";import{c as h,a0 as g}from"./index-h9hEbd9y.js";import _ from"./popupForm-M3A4gZTj.js";import{f as R,N as k,s,r as w,al as E,A as I,p as z,o as i,j as L,w as t,O as q,W as D,m as c}from"./vue-FrqQdkED.js";import"./index-4nz1exHq.js";import"./index-joW0DQ_l.js";import"./validate-oqL-sMd2.js";const d="/admin/security.DataRecycle/";function F(){return h({url:d+"add",method:"get"})}const T={class:"default-main ba-table-box"},O=R({name:"security/dataRecycle",__name:"index",setup(v){const{t:e}=k(),n=s(),p=s(),a=new m(new g(d),{column:[{type:"selection",align:"center",operator:!1},{label:"ID",prop:"id",align:"center",operator:"=",operatorPlaceholder:e("Id"),width:70},{label:e("security.dataRecycle.Rule name"),prop:"name",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("security.dataRecycle.controller"),prop:"controller",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("security.dataRecycle.data sheet"),prop:"data_table",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("security.dataRecycle.Data table primary key"),prop:"primary_key",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query"),width:100},{label:e("State"),prop:"status",align:"center",render:"tag",custom:{0:"danger",1:"success"},replaceValue:{0:e("Disable"),1:e("security.dataRecycle.Deleting monitoring")}},{label:e("Update time"),prop:"update_time",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:e("Create time"),prop:"create_time",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:e("Operate"),align:"center",width:"130",render:"buttons",buttons:b(["edit","delete"]),operator:!1}],dblClickNotEditColumn:[void 0,"status"]},{defaultItems:{status:"1"}},{toggleForm:({operate:l})=>{(l=="Add"||l=="Edit")&&(a.form.loading=!0,F().then(o=>{r.tableList=o.data.tables,r.controllerList=o.data.controllers,a.form.loading=!1}))}}),r=w({tableList:{},controllerList:{}});return E("baTable",a),I(()=>{a.table.ref=n.value,a.mount(),a.getIndex()}),(l,o)=>{const u=z("el-alert");return i(),L("div",T,[t(a).table.remark?(i(),q(u,{key:0,class:"ba-table-alert",title:t(a).table.remark,type:"info","show-icon":""},null,8,["title"])):D("",!0),c(f,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":t(e)("Quick search placeholder",{fields:t(e)("security.dataRecycle.Rule name")})},null,8,["quick-search-placeholder"]),c(y,{ref_key:"tableRef",ref:n},null,512),c(_,{ref_key:"formRef",ref:p,"form-data":r},null,8,["form-data"])])}}});export{O as default};
