import{_ as L,l as z,b0 as Y,a8 as W,u as Me,C as v,D as c,y as B,j as e,T as F,ad as ee,E as w,S as T,V as N,b1 as te,b2 as oe,Z as Q,Y as D,B as l,A as o,z as m,p as U,aw as se,a as ue,r as X,f as ne,o as G,av as ve,n as le,g as we,x as pe,U as O,aB as ze,a1 as fe,a7 as Ye,aM as Ae,b3 as Ze,a2 as ae,G as $,m as _e,H as Ee,I as Fe,L as J,b4 as Ge,P as be,w as Re,R as Je,Q as R,ac as Qe,i as Te,b5 as Be,ap as et,b6 as tt,q as Le,a$ as at,b7 as ot,b8 as me,M as De,K as Se,b9 as nt,J as $e,aA as ge,v as Pe,ba as lt,aZ as st}from"./index.71ccd558.js";import{_ as rt,c as Ne,u as it,g as qe,r as de,D as ct,t as ut,I as dt,F as ie,h as mt,a as vt}from"./index.368177b3.js";import{l as pt,i as ft}from"./login.ee457689.js";import{m as _t}from"./layout.132f01a4.js";const bt=function(p="shade",t){const a=document.querySelector(".layout-container"),r=document.createElement("div");r.setAttribute("class","ba-layout-shade "+p),a.appendChild(r),r.addEventListener("click",()=>{We(t)})},We=function(p=()=>{}){const t=document.querySelector(".ba-layout-shade");t&&t.remove(),p()};const gt={class:"layout-logo"},ht={key:0,class:"logo-img",src:rt,alt:"logo"},yt=z({__name:"logo",setup(p){Y(i=>({"477c84fe":e(t).layout.layoutMode!="Streamline"?e(t).getColorVal("menuTopBarBackground"):"transparent"}));const t=W(),a=Me(),r=function(){t.layout.shrink&&!t.layout.menuCollapse&&We(),t.setLayout("menuCollapse",!t.layout.menuCollapse),te.set(oe,{layoutMode:t.layout.layoutMode,menuCollapse:t.layout.menuCollapse})};return(i,d)=>{const g=v("Icon");return c(),B("div",gt,[e(t).layout.menuCollapse?F("",!0):(c(),B("img",ht)),e(t).layout.menuCollapse?F("",!0):(c(),B("div",{key:1,style:ee({color:e(t).getColorVal("menuActiveColor")}),class:"website-name"},w(e(a).site_name),5)),e(t).layout.layoutMode!="Streamline"?(c(),T(g,{key:2,onClick:r,name:e(t).layout.menuCollapse?"fa fa-indent":"fa fa-dedent",class:N([e(t).layout.menuCollapse?"unfold":"","fold"]),color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["name","class","color"])):F("",!0)])}}});var Ue=L(yt,[["__scopeId","data-v-7a1bcf8e"]]);const xt=z({__name:"menuTree",props:{menus:{default:()=>[]}},setup(p){const t=p;Y(r=>({"235a0781":e(a).getColorVal("menuActiveBackground")}));const a=W();return(r,i)=>{const d=v("Icon"),g=v("menu-tree",!0),h=v("el-sub-menu"),k=v("el-menu-item");return c(!0),B(D,null,Q(t.menus,u=>(c(),B(D,null,[u.children&&u.children.length>0?(c(),T(h,{index:u.path,key:u.path},{title:l(()=>{var y,_,n,s;return[o(d,{color:e(a).getColorVal("menuColor"),name:(y=u.meta)!=null&&y.icon?(_=u.meta)==null?void 0:_.icon:e(a).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,w((n=u.meta)!=null&&n.title?(s=u.meta)==null?void 0:s.title:r.$t("noTitle")),1)]}),default:l(()=>[o(g,{menus:u.children},null,8,["menus"])]),_:2},1032,["index"])):(c(),T(k,{index:u.path,key:u.path,onClick:y=>e(Ne)(u)},{default:l(()=>{var y,_,n,s;return[o(d,{color:e(a).getColorVal("menuColor"),name:(y=u.meta)!=null&&y.icon?(_=u.meta)==null?void 0:_.icon:e(a).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,w((n=u.meta)!=null&&n.title?(s=u.meta)==null?void 0:s.title:r.$t("noTitle")),1)]}),_:2},1032,["index","onClick"]))],64))),256)}}});var je=L(xt,[["__scopeId","data-v-07f36d4a"]]);const kt=z({__name:"menuVertical",setup(p){Y(u=>({"25930b15":e(g),"0cf7949c":e(t).getColorVal("menuBackground"),"501e4be3":e(t).getColorVal("menuColor"),"15b39986":e(t).getColorVal("menuActiveColor")}));const t=W(),a=U(),r=se(),i=ue(),d=X({defaultActive:""}),g=ne(()=>{let u=0;return t.layout.menuShowTopBar&&(u=50),t.layout.layoutMode=="Default"?"calc(100vh - "+(32+u)+"px)":"calc(100vh - "+u+"px)"}),h=u=>{d.defaultActive=u.path},k=()=>{le(()=>{var y;let u=document.querySelector(".el-menu.layouts-menu-vertical li.is-active");if(!u)return!1;(y=i.value)==null||y.setScrollTop(u.offsetTop)})};return G(()=>{h(r),k()}),ve(u=>{h(u)}),(u,y)=>{const _=v("el-menu"),n=v("el-scrollbar");return c(),T(n,{ref_key:"verticalMenusRef",ref:i,class:"vertical-menus-scrollbar"},{default:l(()=>[o(_,{class:"layouts-menu-vertical","collapse-transition":!1,"unique-opened":e(t).layout.menuUniqueOpened,"default-active":d.defaultActive,collapse:e(t).layout.menuCollapse},{default:l(()=>[o(je,{menus:e(a).state.tabsViewRoutes},null,8,["menus"])]),_:1},8,["unique-opened","default-active","collapse"])]),_:1},512)}}});const Ct=z({name:"layout/aside"}),wt=z({...Ct,setup(p){Y(i=>({d4637186:e(r)}));const t=W(),a=U(),r=ne(()=>t.menuWidth());return(i,d)=>{const g=v("el-aside");return e(a).state.tabFullScreen?F("",!0):(c(),T(g,{key:0,class:N("layout-aside-"+e(t).layout.layoutMode+" "+(e(t).layout.shrink?"shrink":""))},{default:l(()=>[e(t).layout.menuShowTopBar?(c(),T(Ue,{key:0})):F("",!0),o(kt)]),_:1},8,["class"]))}}});var Oe=L(wt,[["__scopeId","data-v-2132c5ae"]]);function He(){if(!we())throw new Error("useCurrentInstance() can only be used inside setup() or functional components!");const{appContext:p}=we();return{proxy:p.config.globalProperties}}const Tt={class:"el-dropdown-menu"},Bt=["onClick"],St=z({__name:"index",props:{width:{default:150},items:{default:()=>[]}},emits:["contextmenuItemClick"],setup(p,{expose:t,emit:a}){const r=p,i=X({show:!1,axis:{x:0,y:0},menu:void 0,arrowAxis:10}),d=(k,u)=>{i.menu=k,i.axis=u,i.show=!0},g=k=>{k.disabled||(k.menu=Ye(i.menu),a("contextmenuItemClick",k))},h=()=>{i.show=!1};return t({onShowContextmenu:d,onHideContextmenu:h}),G(()=>{document.body.addEventListener("click",h)}),pe(()=>{document.body.removeEventListener("click",h)}),(k,u)=>{const y=v("Icon");return c(),T(fe,{name:"el-zoom-in-center"},{default:l(()=>[O((c(),B("div",{class:"el-popper is-pure is-light el-dropdown__popper ba-contextmenu",style:ee(`top: ${i.axis.y+5}px;left: ${i.axis.x-14}px;width:${r.width}px`),key:Math.random(),"aria-hidden":"false","data-popper-placement":"bottom"},[m("ul",Tt,[(c(!0),B(D,null,Q(r.items,(_,n)=>(c(),B("li",{key:n,class:N(["el-dropdown-menu__item",_.disabled?"is-disabled":""]),tabindex:"-1",onClick:s=>g(_)},[o(y,{size:"12",name:_.icon},null,8,["name"]),m("span",null,w(_.label),1)],10,Bt))),128))]),m("span",{class:"el-popper__arrow",style:ee({left:`${i.arrowAxis}px`})},null,4)],4)),[[ze,i.show]])]),_:1})}}});var $t=L(St,[["__scopeId","data-v-02b606d8"]]);const It=["onClick","onContextmenu"],Vt=z({__name:"tabs",setup(p){Y(f=>({"70dd6df8":e(r).getColorVal("headerBarTabColor"),"2d55d8c4":e(r).getColorVal("headerBarTabActiveColor"),"0105addf":e(r).layout.layoutMode=="Default"?"none":e(r).getColorVal("headerBarBackground")}));const t=se(),a=Ae(),r=W(),i=U(),{proxy:d}=He(),g=ue(),h=it(),k=ue(),u=X({contextmenuItems:[{name:"refresh",label:"\u91CD\u65B0\u52A0\u8F7D",icon:"fa fa-refresh"},{name:"close",label:"\u5173\u95ED\u6807\u7B7E",icon:"fa fa-times"},{name:"fullScreen",label:"\u5F53\u524D\u6807\u7B7E\u5168\u5C4F",icon:"el-icon-FullScreen"},{name:"closeOther",label:"\u5173\u95ED\u5176\u4ED6\u6807\u7B7E",icon:"fa fa-minus"},{name:"closeAll",label:"\u5173\u95ED\u5168\u90E8\u6807\u7B7E",icon:"fa fa-stop"}]}),y=X({width:"0",transform:"translateX(0px)"}),_=f=>{a.push(f)},n=(f,V)=>{u.contextmenuItems[0].disabled=t.path!==f.path,u.contextmenuItems[4].disabled=u.contextmenuItems[3].disabled=i.state.tabsView.length==1;const{clientX:M,clientY:I}=V;k.value.onShowContextmenu(f,{x:M,y:I})},s=function(f){if(!f)return!1;y.width=f.clientWidth+"px",y.transform=`translateX(${f.offsetLeft}px)`;let V=f.offsetLeft+f.clientWidth-g.value.clientWidth;f.offsetLeft<g.value.scrollLeft?g.value.scrollTo(f.offsetLeft,0):V>g.value.scrollLeft&&g.value.scrollTo(V,0)},A=()=>{const f=i.state.tabsView.slice(-1)[0];f?a.push(f.path):a.push("/admin")},S=f=>{var V;i.closeTab(f),d.eventBus.emit("onTabViewClose",f),((V=i.state.activeRoute)==null?void 0:V.path)===f.path?A():(i.setActiveRoute(i.state.activeRoute),le(()=>{s(h.value[i.state.activeIndex])})),k.value.onHideContextmenu()},x=()=>{i.closeTabs(!1);let f=qe(i.state.tabsViewRoutes);f&&de(f.path)},E=async f=>{var I;const{name:V,menu:M}=f;if(!!M)switch(V){case"refresh":d.eventBus.emit("onTabViewRefresh",M);break;case"close":S(M);break;case"closeOther":i.closeTabs(M),i.setActiveRoute(M),((I=i.state.activeRoute)==null?void 0:I.path)!==t.path&&a.push(M.path);break;case"closeAll":x();break;case"fullScreen":t.path!==(M==null?void 0:M.path)&&a.push(M==null?void 0:M.path),i.setFullScreen(!0);break}},P=function(f){i.addTab(f),i.setActiveRoute(f),le(()=>{s(h.value[i.state.activeIndex])})};return ve(async f=>{P(f)}),G(()=>{P(a.currentRoute.value),new Ze(g.value)}),(f,V)=>{const M=v("Icon");return c(),B(D,null,[m("div",{class:"nav-tabs",ref_key:"tabScrollbarRef",ref:g},[(c(!0),B(D,null,Q(e(i).state.tabsView,(I,H)=>(c(),B("div",{onClick:Z=>_(I),onContextmenu:ae(Z=>n(I,Z),["prevent"]),class:N(["ba-nav-tab",e(i).state.activeIndex==H?"active":""]),ref_for:!0,ref:e(h).set,key:H},[$(w(I.meta.title)+" ",1),o(fe,{onAfterLeave:V[0]||(V[0]=Z=>s(e(h)[e(i).state.activeIndex])),name:"el-fade-in"},{default:l(()=>[O(o(M,{class:"close-icon",onClick:ae(Z=>S(I),["stop"]),size:"15",name:"el-icon-Close"},null,8,["onClick"]),[[ze,e(i).state.tabsView.length>1]])]),_:2},1024)],42,It))),128)),m("div",{style:ee(y),class:"nav-tabs-active-box"},null,4)],512),o($t,{ref_key:"contextmenuRef",ref:k,items:u.contextmenuItems,onContextmenuItemClick:E},null,8,["items"])],64)}}});var Ke=L(Vt,[["__scopeId","data-v-4b3abdef"]]);const Ie=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],K=(()=>{if(typeof document=="undefined")return!1;const p=Ie[0],t={};for(const a of Ie)if((a==null?void 0:a[1])in document){for(const[i,d]of a.entries())t[p[i]]=d;return t}return!1})(),Ve={change:K.fullscreenchange,error:K.fullscreenerror};let q={request(p=document.documentElement,t){return new Promise((a,r)=>{const i=()=>{q.off("change",i),a()};q.on("change",i);const d=p[K.requestFullscreen](t);d instanceof Promise&&d.then(i).catch(r)})},exit(){return new Promise((p,t)=>{if(!q.isFullscreen){p();return}const a=()=>{q.off("change",a),p()};q.on("change",a);const r=document[K.exitFullscreen]();r instanceof Promise&&r.then(a).catch(t)})},toggle(p,t){return q.isFullscreen?q.exit():q.request(p,t)},onchange(p){q.on("change",p)},onerror(p){q.on("error",p)},on(p,t){const a=Ve[p];a&&document.addEventListener(a,t,!1)},off(p,t){const a=Ve[p];a&&document.removeEventListener(a,t,!1)},raw:K};Object.defineProperties(q,{isFullscreen:{get:()=>Boolean(document[K.fullscreenElement])},element:{enumerable:!0,get:()=>{var p;return(p=document[K.fullscreenElement])!=null?p:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[K.fullscreenEnabled])}});K||(q={isEnabled:!1});var ce=q;const he=p=>(Ee("data-v-d9ee3f12"),p=p(),Fe(),p),Mt={class:"layout-config-drawer"},zt={class:"layout-mode-styles-box"},At={class:"layout-mode-box-style"},Et=he(()=>m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-aside"}),m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),Ft={class:"layout-mode-style-name"},Rt=he(()=>m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-aside"}),m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),Lt={class:"layout-mode-style-name"},Dt=he(()=>m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),Pt={class:"layout-mode-style-name"},Nt={class:"layout-config-global"},qt={class:"layout-config-aside"},Wt=$("px"),Ut={class:"layout-config-aside"},jt={class:"ba-center"},Ot=z({__name:"config",setup(p){const{t}=_e(),a=W(),r=U(),i=Ae(),d=(_,n)=>{a.setLayout(n,_)},g=(_,n)=>{const s=a.layout[n];a.layout.isDark?s[1]=_:s[0]=_,a.setLayout(n,s)},h=_=>{te.set(oe,{layoutMode:_,menuCollapse:a.layout.menuCollapse}),a.setLayoutMode(_)},k=(_,n)=>{a.setLayout(n,_);const s=r.state.tabsViewRoutes;r.setTabsViewRoutes([]),setTimeout(()=>{r.setTabsViewRoutes(s)},200)},u=()=>{a.setLayout("showDrawer",!1)},y=()=>{J.remove(Ge),te.remove(oe),i.go(0)};return(_,n)=>{const s=v("el-divider"),A=v("el-col"),S=v("el-row"),x=v("el-form-item"),E=v("el-option"),P=v("el-select"),f=v("el-color-picker"),V=v("el-switch"),M=v("el-input"),I=v("el-button"),H=v("el-popconfirm"),Z=v("el-form"),j=v("el-scrollbar"),b=v("el-drawer");return c(),B("div",Mt,[o(b,{"model-value":e(a).layout.showDrawer,title:e(t)("layouts.Layout configuration"),size:"310px",onClose:u},{default:l(()=>[o(j,{class:"layout-mode-style-scrollbar"},{default:l(()=>[o(Z,{ref:"formRef",model:e(a).layout},{default:l(()=>[m("div",zt,[o(s,{"border-style":"dashed"},{default:l(()=>[$(w(e(t)("layouts.Layout mode")),1)]),_:1}),m("div",At,[o(S,{class:"layout-mode-box-style-row",gutter:10},{default:l(()=>[o(A,{span:12},{default:l(()=>[m("div",{onClick:n[0]||(n[0]=C=>h("Default")),class:N(["layout-mode-style default",e(a).layout.layoutMode=="Default"?"active":""])},[Et,m("div",Ft,w(e(t)("layouts.default")),1)],2)]),_:1}),o(A,{span:12},{default:l(()=>[m("div",{onClick:n[1]||(n[1]=C=>h("Classic")),class:N(["layout-mode-style classic",e(a).layout.layoutMode=="Classic"?"active":""])},[Rt,m("div",Lt,w(e(t)("layouts.classic")),1)],2)]),_:1})]),_:1}),o(S,{gutter:10},{default:l(()=>[o(A,{span:12},{default:l(()=>[m("div",{onClick:n[2]||(n[2]=C=>h("Streamline")),class:N(["layout-mode-style streamline",e(a).layout.layoutMode=="Streamline"?"active":""])},[Dt,m("div",Pt,w(e(t)("layouts.Single column")),1)],2)]),_:1})]),_:1})]),o(s,{"border-style":"dashed"},{default:l(()=>[$(w(e(t)("layouts.overall situation")),1)]),_:1}),m("div",Nt,[o(x,{size:"large",label:e(t)("layouts.Dark mode")},{default:l(()=>[o(ct,{onClick:n[3]||(n[3]=C=>e(ut)())})]),_:1},8,["label"]),o(x,{label:e(t)("layouts.Background page switching animation")},{default:l(()=>[o(P,{onChange:n[4]||(n[4]=C=>d(C,"mainAnimation")),"model-value":e(a).layout.mainAnimation,placeholder:e(t)("layouts.Please select an animation name")},{default:l(()=>[o(E,{label:"slide-right",value:"slide-right"}),o(E,{label:"slide-left",value:"slide-left"}),o(E,{label:"el-fade-in-linear",value:"el-fade-in-linear"}),o(E,{label:"el-fade-in",value:"el-fade-in"}),o(E,{label:"el-zoom-in-center",value:"el-zoom-in-center"}),o(E,{label:"el-zoom-in-top",value:"el-zoom-in-top"}),o(E,{label:"el-zoom-in-bottom",value:"el-zoom-in-bottom"})]),_:1},8,["model-value","placeholder"])]),_:1},8,["label"])]),o(s,{"border-style":"dashed"},{default:l(()=>[$(w(e(t)("layouts.sidebar")),1)]),_:1}),m("div",qt,[o(x,{label:e(t)("layouts.Side menu bar background color")},{default:l(()=>[o(f,{onChange:n[5]||(n[5]=C=>g(C,"menuBackground")),"model-value":e(a).getColorVal("menuBackground")},null,8,["model-value"])]),_:1},8,["label"]),o(x,{label:e(t)("layouts.Side menu text color")},{default:l(()=>[o(f,{onChange:n[6]||(n[6]=C=>g(C,"menuColor")),"model-value":e(a).getColorVal("menuColor")},null,8,["model-value"])]),_:1},8,["label"]),o(x,{label:e(t)("layouts.Side menu active item background color")},{default:l(()=>[o(f,{onChange:n[7]||(n[7]=C=>g(C,"menuActiveBackground")),"model-value":e(a).getColorVal("menuActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),o(x,{label:e(t)("layouts.Side menu active item text color")},{default:l(()=>[o(f,{onChange:n[8]||(n[8]=C=>g(C,"menuActiveColor")),"model-value":e(a).getColorVal("menuActiveColor")},null,8,["model-value"])]),_:1},8,["label"]),o(x,{label:e(t)("layouts.Show side menu top bar (logo bar)")},{default:l(()=>[o(V,{onChange:n[9]||(n[9]=C=>d(C,"menuShowTopBar")),"model-value":e(a).layout.menuShowTopBar},null,8,["model-value"])]),_:1},8,["label"]),o(x,{label:e(t)("layouts.Side menu top bar background color")},{default:l(()=>[o(f,{onChange:n[10]||(n[10]=C=>g(C,"menuTopBarBackground")),"model-value":e(a).getColorVal("menuTopBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),o(x,{label:e(t)("layouts.Side menu width (when expanded)")},{default:l(()=>[o(M,{onInput:n[11]||(n[11]=C=>d(C,"menuWidth")),type:"number",step:10,"model-value":e(a).layout.menuWidth},{append:l(()=>[Wt]),_:1},8,["model-value"])]),_:1},8,["label"]),o(x,{label:e(t)("layouts.Side menu default icon")},{default:l(()=>[o(dt,{onChange:n[12]||(n[12]=C=>k(C,"menuDefaultIcon")),"model-value":e(a).layout.menuDefaultIcon},null,8,["model-value"])]),_:1},8,["label"]),o(x,{label:e(t)("layouts.Side menu horizontal collapse")},{default:l(()=>[o(V,{onChange:n[13]||(n[13]=C=>d(C,"menuCollapse")),"model-value":e(a).layout.menuCollapse},null,8,["model-value"])]),_:1},8,["label"]),o(x,{label:e(t)("layouts.Side menu accordion")},{default:l(()=>[o(V,{onChange:n[14]||(n[14]=C=>d(C,"menuUniqueOpened")),"model-value":e(a).layout.menuUniqueOpened},null,8,["model-value"])]),_:1},8,["label"])]),o(s,{"border-style":"dashed"},{default:l(()=>[$(w(e(t)("layouts.Top bar")),1)]),_:1}),m("div",Ut,[o(x,{label:e(t)("layouts.Top bar background color")},{default:l(()=>[o(f,{onChange:n[15]||(n[15]=C=>g(C,"headerBarBackground")),"model-value":e(a).getColorVal("headerBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),o(x,{label:e(t)("layouts.Top bar text color")},{default:l(()=>[o(f,{onChange:n[16]||(n[16]=C=>g(C,"headerBarTabColor")),"model-value":e(a).getColorVal("headerBarTabColor")},null,8,["model-value"])]),_:1},8,["label"]),o(x,{label:e(t)("layouts.Background color when hovering over the top bar")},{default:l(()=>[o(f,{onChange:n[17]||(n[17]=C=>g(C,"headerBarHoverBackground")),"model-value":e(a).getColorVal("headerBarHoverBackground")},null,8,["model-value"])]),_:1},8,["label"]),o(x,{label:e(t)("layouts.Top bar menu active item background color")},{default:l(()=>[o(f,{onChange:n[18]||(n[18]=C=>g(C,"headerBarTabActiveBackground")),"model-value":e(a).getColorVal("headerBarTabActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),o(x,{label:e(t)("layouts.Top bar menu active item text color")},{default:l(()=>[o(f,{onChange:n[19]||(n[19]=C=>g(C,"headerBarTabActiveColor")),"model-value":e(a).getColorVal("headerBarTabActiveColor")},null,8,["model-value"])]),_:1},8,["label"])]),o(H,{onConfirm:y,title:e(t)("layouts.Are you sure you want to restore all configurations to the default values?")},{reference:l(()=>[m("div",jt,[o(I,{class:"w80",type:"info"},{default:l(()=>[$(w(e(t)("layouts.Restore default")),1)]),_:1})])]),_:1},8,["title"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["model-value","title"])])}}});var Ht=L(Ot,[["__scopeId","data-v-d9ee3f12"]]);const Kt={class:"command"},Xt={class:"task-opt"},Yt=["onClick"],Zt={class:"indent-2"},Gt={class:"package-manager-dialog-footer"},Jt=$("npm"),Qt=$("cnpm"),ea=$("pnpm"),ta=$("yarn"),aa=$("ni"),oa={class:"config-buttons"},na=z({__name:"index",setup(p){const{t}=_e(),a=be(),r=X({terminalWarning:"",port:a.state.port,menuExpand:document.documentElement.clientWidth>1840}),i=ne(()=>{let n=a.state.port==""?"80":a.state.port;return n=="8000"?"php think run":"php think run -p "+n}),d=ne(()=>{let n=a.state.port==""?"":":"+a.state.port;return"http://localhost"+n+" "+t("terminal.or")+" http://"+t("terminal.Site domain name")+n}),g=n=>{Be({port:n}).then(s=>{s.code==1?(a.changePort(n),_()):r.port=a.state.port}).catch(()=>{r.port=a.state.port})},h=n=>{let s=t("terminal.unknown"),A="info";switch(n){case R.Waiting:s=t("terminal.Waiting for execution"),A="info";break;case R.Connecting:s=t("terminal.Connecting"),A="warning";break;case R.Executing:s=t("terminal.Executing"),A="warning";break;case R.Success:s=t("terminal.Successful execution"),A="success";break;case R.Failed:s=t("terminal.Execution failed"),A="danger";break;case R.Unknown:s=t("terminal.Unknown execution result"),A="danger";break}return{statusText:s,statusType:A}},k=()=>{et.confirm(t("terminal.Are you sure you want to republish?"),t("Reminder"),{confirmButtonText:t("Confirm"),cancelButtonText:t("Cancel"),type:"warning"}).then(()=>{a.addTaskPM("web-build")})},u=n=>{Be({manager:n}).then(s=>{s.code==1&&a.changePackageManager(n)}),a.togglePackageManagerDialog(!1)},y=n=>{r.terminalWarning=n},_=()=>{tt()!=a.state.port?y(t("terminal.The current terminal is not running under the installation service, and some commands may not be executed")):y("")};return Re(()=>a.state.port,n=>{n!=r.port&&(r.port=n,_())}),G(()=>{_()}),(n,s)=>{const A=v("el-tag"),S=v("el-button"),x=v("Icon"),E=v("el-card"),P=v("el-timeline-item"),f=v("el-timeline"),V=v("el-empty"),M=v("el-button-group"),I=v("el-alert"),H=v("el-dialog"),Z=v("el-form"),j=Je("blur");return c(),B(D,null,[o(H,Qe(n.$attrs,{modelValue:e(a).state.show,"onUpdate:modelValue":s[7]||(s[7]=b=>e(a).state.show=b),title:e(t)("terminal.Terminal"),class:"ba-terminal-dialog","append-to-body":!0}),{default:l(()=>[e(a).state.taskList.length?(c(),T(f,{key:0},{default:l(()=>[(c(!0),B(D,null,Q(e(a).state.taskList,(b,C)=>(c(),T(P,{key:C,class:N(["task-item","task-status-"+b.status]),type:h(b.status).statusType,center:"",timestamp:b.createtime,placement:"top"},{default:l(()=>[o(E,null,{default:l(()=>[m("div",null,[o(A,{type:h(b.status).statusType},{default:l(()=>[$(w(h(b.status).statusText),1)]),_:2},1032,["type"]),(b.status==e(R).Failed||b.status==e(R).Unknown)&&b.blockOnFailure?(c(),T(A,{key:0,class:"block-on-failure-tag",type:"warning"},{default:l(()=>[$(w(e(t)("terminal.Failure to execute this command will block the execution of the queue")),1)]),_:1})):F("",!0),b.status==e(R).Executing||b.status==e(R).Connecting?(c(),T(A,{key:1,class:"block-on-failure-tag",type:"danger"},{default:l(()=>[$(w(e(t)("terminal.Do not refresh the browser")),1)]),_:1})):F("",!0),m("span",Kt,w(b.command),1),m("div",Xt,[b.status==e(R).Failed||b.status==e(R).Unknown?O((c(),T(S,{key:0,title:e(t)("Retry"),size:"small",type:"warning",icon:"el-icon-RefreshRight",circle:"",onClick:re=>e(a).retryTask(C)},null,8,["title","onClick"])),[[j]]):F("",!0),O(o(S,{onClick:re=>e(a).delTask(C),title:e(t)("delete"),size:"small",type:"danger",icon:"el-icon-Delete",circle:""},null,8,["onClick","title"]),[[j]])])]),b.status!=e(R).Waiting?(c(),B(D,{key:0},[b.status!=e(R).Connecting&&b.status!=e(R).Executing?(c(),B("div",{key:0,onClick:re=>e(a).setTaskShowMessage(C),class:"toggle-message-display"},[m("span",null,w(e(t)("terminal.Command run log")),1),o(x,{name:b.showMessage?"el-icon-ArrowUp":"el-icon-ArrowDown",size:"16",color:"#909399"},null,8,["name"])],8,Yt)):F("",!0),b.status==e(R).Connecting||b.status==e(R).Executing||b.status>e(R).Executing&&b.showMessage?(c(),B("div",{key:1,class:N(["exec-message","exec-message-"+b.uuid])},[(c(!0),B(D,null,Q(b.message,(re,Xe)=>(c(),B("div",{key:Xe,class:"message-item"},w(re),1))),128))],2)):F("",!0)],64)):F("",!0)]),_:2},1024)]),_:2},1032,["class","type","timestamp"]))),128))]),_:1})):(c(),T(V,{key:1,"image-size":80,description:e(t)("terminal.No mission yet")},null,8,["description"])),o(M,null,{default:l(()=>[O((c(),T(S,{class:"terminal-menu-item",icon:"el-icon-MagicStick",onClick:s[0]||(s[0]=b=>e(a).addTaskPM("test",!1))},{default:l(()=>[$(w(e(t)("terminal.Test command")),1)]),_:1})),[[j]]),O((c(),T(S,{class:"terminal-menu-item",icon:"el-icon-Download",onClick:s[1]||(s[1]=b=>e(a).addTaskPM("web-install"))},{default:l(()=>[$(w(e(t)("terminal.Install dependent packages")),1)]),_:1})),[[j]]),O((c(),T(S,{class:"terminal-menu-item",icon:"el-icon-Sell",onClick:s[2]||(s[2]=b=>k())},{default:l(()=>[$(w(e(t)("terminal.Republish")),1)]),_:1})),[[j]]),r.menuExpand?(c(),B(D,{key:1},[O((c(),T(S,{class:"terminal-menu-item",icon:"el-icon-Delete",onClick:s[4]||(s[4]=b=>e(a).clearSuccessTask())},{default:l(()=>[$(w(e(t)("terminal.Clean up task list")),1)]),_:1})),[[j]]),O((c(),T(S,{class:"terminal-menu-item",icon:"el-icon-Switch",onClick:s[5]||(s[5]=b=>e(a).togglePackageManagerDialog(!0))},{default:l(()=>[$(w(e(t)("terminal.Package manager"))+" "+w(e(a).state.packageManager.toUpperCase()),1)]),_:1})),[[j]]),O((c(),T(S,{class:"terminal-menu-item",icon:"el-icon-Tools",onClick:s[6]||(s[6]=b=>e(a).toggleConfigDialog())},{default:l(()=>[$(w(e(t)("terminal.Terminal settings")),1)]),_:1})),[[j]])],64)):O((c(),T(S,{key:0,class:"terminal-menu-item",icon:"el-icon-Expand",onClick:s[3]||(s[3]=b=>r.menuExpand=!0)},null,512)),[[j]])]),_:1}),r.terminalWarning?(c(),T(I,{key:2,title:r.terminalWarning,type:"warning"},null,8,["title"])):F("",!0)]),_:1},16,["modelValue","title"]),o(H,{onClose:s[14]||(s[14]=b=>e(a).togglePackageManagerDialog(!1)),"model-value":e(a).state.showPackageManagerDialog,class:"ba-terminal-dialog",title:e(t)("terminal.Please select package manager"),center:""},{footer:l(()=>[m("div",Gt,[o(S,{onClick:s[8]||(s[8]=b=>u("npm"))},{default:l(()=>[Jt]),_:1}),o(S,{onClick:s[9]||(s[9]=b=>u("cnpm"))},{default:l(()=>[Qt]),_:1}),o(S,{onClick:s[10]||(s[10]=b=>u("pnpm"))},{default:l(()=>[ea]),_:1}),o(S,{onClick:s[11]||(s[11]=b=>u("yarn"))},{default:l(()=>[ta]),_:1}),o(S,{onClick:s[12]||(s[12]=b=>u("ni"))},{default:l(()=>[aa]),_:1}),o(S,{onClick:s[13]||(s[13]=b=>u("none"))},{default:l(()=>[$(w(e(t)("terminal.I want to execute the command manually")),1)]),_:1})])]),default:l(()=>[m("div",Zt,w(e(t)("terminal.Switch package manager title")),1)]),_:1},8,["model-value","title"]),o(H,{onClose:s[19]||(s[19]=b=>e(a).toggleConfigDialog(!1)),"model-value":e(a).state.showConfig,class:"ba-terminal-dialog",title:e(t)("terminal.Terminal settings")},{default:l(()=>[o(Z,{"label-position":"top"},{default:l(()=>[o(ie,{label:e(t)("terminal.Install service port"),modelValue:r.port,"onUpdate:modelValue":s[15]||(s[15]=b=>r.port=b),type:"number","input-attr":{onChange:g},placeholder:e(t)("terminal.The port number to start the installation service (this port needs to be opened for external network access)")},null,8,["label","modelValue","input-attr","placeholder"]),o(ie,{label:e(t)("terminal.Installation service startup command"),modelValue:e(i),"onUpdate:modelValue":s[16]||(s[16]=b=>Te(i)?i.value=b:null),type:"string","input-attr":{disabled:!0},attr:{"block-help":e(t)("terminal.Please execute this command to start the service (add Su under Linux)")}},null,8,["label","modelValue","attr"]),o(ie,{label:e(t)("terminal.Installation service URL"),modelValue:e(d),"onUpdate:modelValue":s[17]||(s[17]=b=>Te(d)?d.value=b:null),type:"string","input-attr":{disabled:!0},attr:{"block-help":e(t)("terminal.Please access the site through the installation service URL (except in debug mode)")}},null,8,["label","modelValue","attr"])]),_:1}),o(ie,{label:e(t)("terminal.Clean up successful tasks when starting a new task"),"model-value":e(a).state.automaticCleanupTask,type:"radio",data:{content:{0:e(t)("Disable"),1:e(t)("Enable")},childrenAttr:{border:!0}},"input-attr":{onChange:e(a).changeAutomaticCleanupTask}},null,8,["label","model-value","data","input-attr"]),m("div",oa,[o(S,{onClick:s[18]||(s[18]=b=>e(a).toggleConfigDialog(!1))},{default:l(()=>[$(w(e(t)("terminal.Back to terminal")),1)]),_:1})])]),_:1},8,["model-value","title"])],64)}}});var la=L(na,[["__scopeId","data-v-0d594f52"]]);const sa={class:"nav-menu-item"},ra=["src"],ia={class:"admin-name"},ca={class:"admin-info-base"},ua=["src"],da={class:"admin-info-other"},ma={class:"admin-info-name"},va={class:"admin-info-lasttime"},pa={class:"admin-info-footer"},fa=z({__name:"navMenus",setup(p){Y(_=>({"4741c106":e(r).getColorVal("headerBarBackground"),"914bcdc6":e(r).getColorVal("headerBarTabColor"),"5a1c44c9":e(r).getColorVal("headerBarHoverBackground")}));const{t}=_e(),a=Le(),r=W(),i=be(),d=X({isFullScreen:!1,currentNavMenu:"",showLayoutDrawer:!1}),g=(_,n)=>{d.currentNavMenu=_?n:""},h=()=>{if(!ce.isEnabled)return ot.warning(t("layouts.Full screen is not supported")),!1;ce.toggle(),ce.onchange(()=>{d.isFullScreen=ce.isFullscreen})},k=()=>{de({name:"routine/adminInfo"})},u=()=>{pt().then(()=>{J.remove(me),De.go(0)})},y=_=>{if(_=="storage"||_=="all"){const n=J.get(me),s=J.get(Se);if(te.clear(),J.clear(),J.set(me,n),J.set(Se,s),_=="storage")return}nt(_).then(()=>{})};return(_,n)=>{const s=v("Icon"),A=v("router-link"),S=v("el-dropdown-item"),x=v("el-dropdown-menu"),E=v("el-dropdown"),P=v("el-badge"),f=v("el-avatar"),V=v("el-button"),M=v("el-popover");return c(),B("div",{class:N(["nav-menus",e(r).layout.layoutMode])},[o(A,{class:"h100",target:"_blank",title:e(t)("home"),to:"/"},{default:l(()=>[m("div",sa,[o(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Monitor",size:"18"},null,8,["color"])])]),_:1},8,["title"]),o(E,{onVisibleChange:n[0]||(n[0]=I=>g(I,"lang")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:l(()=>[o(x,{class:"dropdown-menu-box"},{default:l(()=>[(c(!0),B(D,null,Q(e(r).lang.langArray,I=>(c(),T(S,{key:I.name,onClick:H=>e(at)(I.name)},{default:l(()=>[$(w(I.value),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:l(()=>[m("div",{class:N(["nav-menu-item pt2",d.currentNavMenu=="lang"?"hover":""])},[o(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-lang",size:"18"},null,8,["color"])],2)]),_:1}),m("div",{onClick:h,class:N(["nav-menu-item",d.isFullScreen?"hover":""])},[d.isFullScreen?(c(),T(s,{key:0,color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-full-screen-cancel",size:"18"},null,8,["color"])):(c(),T(s,{key:1,color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-FullScreen",size:"18"},null,8,["color"]))],2),e(a).super?(c(),B("div",{key:0,onClick:n[1]||(n[1]=I=>e(i).toggle()),class:"nav-menu-item pt2"},[o(P,{"is-dot":e(i).state.showDot},{default:l(()=>[o(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-terminal",size:"26"},null,8,["color"])]),_:1},8,["is-dot"])])):F("",!0),e(a).super?(c(),T(E,{key:1,onVisibleChange:n[5]||(n[5]=I=>g(I,"clear")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:l(()=>[o(x,{class:"dropdown-menu-box"},{default:l(()=>[o(S,{onClick:n[2]||(n[2]=I=>y("tp"))},{default:l(()=>[$(w(e(t)("utils.Clean up system cache")),1)]),_:1}),o(S,{onClick:n[3]||(n[3]=I=>y("storage"))},{default:l(()=>[$(w(e(t)("utils.Clean up browser cache")),1)]),_:1}),o(S,{onClick:n[4]||(n[4]=I=>y("all")),divided:""},{default:l(()=>[$(w(e(t)("utils.Clean up all cache")),1)]),_:1})]),_:1})]),default:l(()=>[m("div",{class:N(["nav-menu-item",d.currentNavMenu=="clear"?"hover":""])},[o(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Delete",size:"18"},null,8,["color"])],2)]),_:1})):F("",!0),o(M,{onShow:n[6]||(n[6]=I=>g(!0,"adminInfo")),onHide:n[7]||(n[7]=I=>g(!1,"adminInfo")),placement:"bottom-end","hide-after":0,width:260,trigger:"click","popper-class":"admin-info-box"},{reference:l(()=>[m("div",{class:N(["admin-info",d.currentNavMenu=="adminInfo"?"hover":""])},[o(f,{size:25,fit:"fill"},{default:l(()=>[m("img",{src:e(a).avatar,alt:""},null,8,ra)]),_:1}),m("div",ia,w(e(a).nickname),1)],2)]),default:l(()=>[m("div",null,[m("div",ca,[o(f,{size:70,fit:"fill"},{default:l(()=>[m("img",{src:e(a).avatar,alt:""},null,8,ua)]),_:1}),m("div",da,[m("div",ma,w(e(a).nickname),1),m("div",va,w(e(a).lastlogintime),1)])]),m("div",pa,[o(V,{onClick:k,type:"primary",plain:""},{default:l(()=>[$(w(e(t)("layouts.personal data")),1)]),_:1}),o(V,{onClick:u,type:"danger",plain:""},{default:l(()=>[$(w(e(t)("layouts.cancellation")),1)]),_:1})])])]),_:1}),m("div",{onClick:n[8]||(n[8]=I=>e(r).setLayout("showDrawer",!0)),class:"nav-menu-item"},[o(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"fa fa-cogs",size:"18"},null,8,["color"])]),o(Ht),o(la)],2)}}});var ye=L(fa,[["__scopeId","data-v-0e4478c8"]]);const _a={class:"nav-bar"},ba=z({__name:"default",setup(p){Y(a=>({"2aa200da":e(t).getColorVal("headerBarTabColor"),e593da18:e(t).getColorVal("headerBarTabActiveColor"),"17a6902b":e(t).getColorVal("headerBarTabActiveBackground")}));const t=W();return(a,r)=>(c(),B("div",_a,[o(Ke),o(ye)]))}});var ga=L(ba,[["__scopeId","data-v-e08b3cae"]]);const ha={class:"nav-bar"},ya={key:0,class:"unfold"},xa=z({__name:"classic",setup(p){Y(r=>({"26bacab6":e(t).getColorVal("headerBarBackground"),"28e93e96":e(t).getColorVal("headerBarTabColor"),"2f6f13b0":e(t).getColorVal("headerBarTabActiveColor"),"7e97b530":e(t).getColorVal("headerBarHoverBackground"),"31dca4ef":e(t).getColorVal("headerBarTabActiveBackground")}));const t=W(),a=()=>{bt("ba-aside-menu-shade",()=>{t.setLayout("menuCollapse",!0)}),t.setLayout("menuCollapse",!1)};return(r,i)=>{const d=v("Icon");return c(),B("div",ha,[e(t).layout.shrink&&e(t).layout.menuCollapse?(c(),B("div",ya,[o(d,{onClick:a,name:"fa fa-indent",color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["color"])])):F("",!0),e(t).layout.shrink?F("",!0):(c(),T(Ke,{key:1})),o(ye)])}}});var ka=L(xa,[["__scopeId","data-v-79c162de"]]);const Ca={class:"layouts-menu-horizontal"},wa={key:0,class:"menu-horizontal-logo"},Ta=z({__name:"menuHorizontal",setup(p){Y(u=>({"2f4ea948":e(a).getColorVal("headerBarHoverBackground"),"2fb16ed1":e(a).getColorVal("menuBackground"),"2b98248e":e(a).getColorVal("menuColor"),"29a79fa8":e(a).getColorVal("menuActiveColor"),99165812:e(a).getColorVal("menuActiveBackground")}));const t=ue(),a=W(),r=U(),i=se(),d=X({menuKey:$e(),defaultActive:""}),g=ne(()=>(d.menuKey=$e(),r.state.tabsViewRoutes)),h=u=>{d.defaultActive=u.path},k=()=>{le(()=>{var y;let u=document.querySelector(".el-menu.menu-horizontal li.is-active");if(!u)return!1;(y=t.value)==null||y.setScrollTop(u.offsetTop)})};return G(()=>{h(i),k()}),ve(u=>{h(u)}),(u,y)=>{const _=v("Icon"),n=v("el-sub-menu"),s=v("el-menu-item"),A=v("el-menu"),S=v("el-scrollbar");return c(),B("div",Ca,[e(a).layout.menuShowTopBar?(c(),B("div",wa,[o(Ue)])):F("",!0),o(S,{ref_key:"horizontalMenusRef",ref:t,class:"horizontal-menus-scrollbar"},{default:l(()=>[(c(),T(A,{class:"menu-horizontal",mode:"horizontal","default-active":d.defaultActive,key:d.menuKey},{default:l(()=>[(c(!0),B(D,null,Q(e(g),x=>(c(),B(D,null,[x.children&&x.children.length>0?(c(),T(n,{index:x.path,key:x.path},{title:l(()=>{var E,P,f,V;return[o(_,{color:e(a).getColorVal("menuColor"),name:(E=x.meta)!=null&&E.icon?(P=x.meta)==null?void 0:P.icon:e(a).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,w((f=x.meta)!=null&&f.title?(V=x.meta)==null?void 0:V.title:u.$t("noTitle")),1)]}),default:l(()=>[o(je,{menus:x.children},null,8,["menus"])]),_:2},1032,["index"])):(c(),T(s,{index:x.path,key:x.path,onClick:E=>e(Ne)(x)},{default:l(()=>{var E,P,f,V;return[o(_,{color:e(a).getColorVal("menuColor"),name:(E=x.meta)!=null&&E.icon?(P=x.meta)==null?void 0:P.icon:e(a).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,w((f=x.meta)!=null&&f.title?(V=x.meta)==null?void 0:V.title:u.$t("noTitle")),1)]}),_:2},1032,["index","onClick"]))],64))),256))]),_:1},8,["default-active"]))]),_:1},512),o(ye)])}}});var Ba=L(Ta,[["__scopeId","data-v-9a259322"]]);const Sa=z({name:"layout/header",components:{DefaultNavBar:ga,ClassicNavBar:ka,StreamlineNavBar:Ba}}),$a=z({...Sa,setup(p){const t=W(),a=U();return(r,i)=>{const d=v("el-header");return e(a).state.tabFullScreen?F("",!0):(c(),T(d,{key:0,class:"layout-header"},{default:l(()=>[(c(),T(ge(e(t).layout.layoutMode+"NavBar")))]),_:1}))}}});var xe=L($a,[["__scopeId","data-v-7f580f42"]]);const Ia=z({name:"layout/main"}),Va=z({...Ia,setup(p){const{proxy:t}=He(),a=se(),r=W(),i=U(),d=X({componentKey:a.path,keepAliveComponentNameList:[]}),g=function(h){if(h){if(d.keepAliveComponentNameList.find(u=>u===h))return;d.keepAliveComponentNameList.push(h)}};return Pe(()=>{t.eventBus.on("onTabViewRefresh",h=>{d.keepAliveComponentNameList=d.keepAliveComponentNameList.filter(k=>h.meta.keepalive!==k),d.componentKey="",le(()=>{d.componentKey=h.path,g(h.meta.keepalive)})}),t.eventBus.on("onTabViewClose",h=>{d.keepAliveComponentNameList=d.keepAliveComponentNameList.filter(k=>h.meta.keepalive!==k)})}),pe(()=>{t.eventBus.off("onTabViewRefresh"),t.eventBus.off("onTabViewClose")}),G(()=>{var h,k;typeof((h=i.state.activeRoute)==null?void 0:h.meta.keepalive)=="string"&&g((k=i.state.activeRoute)==null?void 0:k.meta.keepalive)}),Re(()=>a.path,()=>{var h,k;d.componentKey=a.path,typeof((h=i.state.activeRoute)==null?void 0:h.meta.keepalive)=="string"&&g((k=i.state.activeRoute)==null?void 0:k.meta.keepalive)}),(h,k)=>{const u=v("router-view"),y=v("el-scrollbar"),_=v("el-main");return c(),T(_,{class:"layout-main"},{default:l(()=>[o(y,{class:"layout-main-scrollbar",style:ee(e(_t)()),ref:"mainScrollbarRef"},{default:l(()=>[o(u,null,{default:l(({Component:n})=>[o(fe,{name:e(r).layout.mainAnimation,mode:"out-in"},{default:l(()=>[(c(),T(lt,{include:d.keepAliveComponentNameList},[(c(),T(ge(n),{key:d.componentKey}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})]),_:1},8,["style"])]),_:1})}}});var ke=L(Va,[["__scopeId","data-v-3441da67"]]);const Ma=p=>(Ee("data-v-1c666e4c"),p=p(),Fe(),p),za=["title","onMouseover","onMouseout"],Aa=["onClick"],Ea=Ma(()=>m("div",{class:"close-full-screen-on"},null,-1)),Fa=z({__name:"closeFullScreen",setup(p){const t=U(),a=X({closeBoxTop:20});G(()=>{setTimeout(()=>{a.closeBoxTop=-30},300)});const r=()=>{a.closeBoxTop=20},i=()=>{a.closeBoxTop=-30},d=()=>{t.setFullScreen(!1)};return(g,h)=>{const k=v("Icon");return c(),B("div",{title:g.$t("layouts.Exit full screen"),onMouseover:ae(r,["stop"]),onMouseout:ae(i,["stop"])},[m("div",{onClick:ae(d,["stop"]),class:"close-full-screen",style:ee({top:a.closeBoxTop+"px"})},[o(k,{name:"el-icon-Close"})],12,Aa),Ea],40,za)}}});var Ce=L(Fa,[["__scopeId","data-v-1c666e4c"]]);const Ra=z({__name:"default",setup(p){const t=U();return(a,r)=>{const i=v("el-container");return c(),B(D,null,[o(i,{class:"layout-container"},{default:l(()=>[o(Oe),o(i,{class:"content-wrapper"},{default:l(()=>[o(xe),o(ke)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),T(Ce,{key:0})):F("",!0)],64)}}});var La=L(Ra,[["__scopeId","data-v-cc0da66a"]]);const Da=z({__name:"classic",setup(p){const t=U();return(a,r)=>{const i=v("el-container");return c(),B(D,null,[o(i,{class:"layout-container"},{default:l(()=>[o(Oe),o(i,{class:"content-wrapper"},{default:l(()=>[o(xe),o(ke)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),T(Ce,{key:0})):F("",!0)],64)}}});var Pa=L(Da,[["__scopeId","data-v-91c8af48"]]);const Na=z({__name:"streamline",setup(p){const t=U();return(a,r)=>{const i=v("el-container");return c(),B(D,null,[o(i,{class:"layout-container"},{default:l(()=>[o(i,{class:"content-wrapper"},{default:l(()=>[o(xe),o(ke)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),T(Ce,{key:0})):F("",!0)],64)}}});var qa=L(Na,[["__scopeId","data-v-9111e4cc"]]);const Wa={components:{Default:La,Classic:Pa,Streamline:qa}},Ka=z({...Wa,__name:"index",setup(p){const t=be(),a=U(),r=W(),i=se(),d=Me(),g=Le();G(()=>{if(!g.token)return De.push({name:"adminLogin"});h(),u(),window.addEventListener("resize",u)}),Pe(()=>{k(),window.addEventListener("resize",k)}),pe(()=>{window.removeEventListener("resize",k),window.removeEventListener("resize",u)});const h=()=>{ft().then(y=>{if(d.dataFill(y.data.siteConfig),t.changePort(y.data.terminal.install_service_port),t.changePackageManager(y.data.terminal.npm_package_manager),g.dataFill(y.data.adminInfo),y.data.menus){if(mt(y.data.menus),i.query&&i.query.url&&i.query.url!=st.path&&vt(a.state.tabsViewRoutes).indexOf(i.query.url)!==-1){let s=JSON.parse(i.query.query);de({path:i.query.url,query:Object.keys(s).length?s:{}});return}let _=qe(a.state.tabsViewRoutes);_&&de(_.path)}})},k=()=>{let y={layoutMode:r.layout.layoutMode,menuCollapse:r.layout.menuCollapse},_=te.get(oe);if(_||te.set(oe,y),document.body.clientWidth<1024)r.setLayout("menuCollapse",!0),r.setLayout("shrink",!0),r.setLayoutMode("Classic");else{let s=_||y;r.setLayout("menuCollapse",s.menuCollapse),r.setLayout("shrink",!1),r.setLayoutMode(s.layoutMode)}},u=()=>{const y=document.querySelector(".nav-tabs");if(!y)return;const _=document.querySelector(".nav-bar"),n=document.querySelector(".nav-menus"),s=_.offsetWidth-(n.offsetWidth+20);y.style.width=s.toString()+"px"};return(y,_)=>(c(),T(ge(e(r).layout.layoutMode)))}});export{Ka as default};
