import{b as k,T as _,a as y}from"./index-81eda047.js";import{p as x,I,H as T}from"./common-535f3731.js";import{b as v}from"./controllerUrls-941681c3.js";import w from"./popupForm-3770d794.js";import{d as C}from"./index-01bed986.js";import{a as A}from"./index-ae07247d.js";import{d as g,C as c,an as D,o as G,a as s,s as S,u as l,c as f,S as b,e as i,r as q,al as B}from"./vue-9a46e809.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./random-1d7fa280.js";import"./iconfont-76d408a9.js";import"./index-e2596456.js";import"./index-a7be6d6a.js";import"./validate-61c16ed0.js";const N={class:"default-main ba-table-box"},R=g({name:"auth/group"}),U=g({...R,setup(F){const u=c(),d=c(),{t:a}=A(),h=x(),e=new k(new I(v),{expandAll:!0,dblClickNotEditColumn:[void 0],column:[{type:"selection",align:"center"},{label:a("auth.group.Group name"),prop:"name",align:"left",width:"200"},{label:a("auth.group.jurisdiction"),prop:"rules",align:"center"},{label:a("state"),prop:"status",align:"center",render:"tag",custom:{0:"danger",1:"success"},replaceValue:{0:a("Disable"),1:a("Enable")}},{label:a("updatetime"),prop:"updatetime",align:"center",width:"160",render:"datetime"},{label:a("createtime"),prop:"createtime",align:"center",width:"160",render:"datetime"},{label:a("operate"),align:"center",width:"130",render:"buttons",buttons:C(["edit","delete"])}]},{defaultItems:{status:"1"}},{onSubmit:({formEl:r,items:t})=>{var t=D(t);t.rules=u.value.getCheckeds();for(const o in t)t[o]===null&&delete t[o];let n=()=>{e.form.submitLoading=!0,e.api.postData(e.form.operate,t).then(o=>{var p;e.onTableHeaderAction("refresh",{}),e.form.submitLoading=!1,(p=e.form.operateIds)==null||p.shift(),e.form.operateIds.length>0?e.toggleForm("edit",e.form.operateIds):e.toggleForm(),e.runAfter("onSubmit",{res:o})}).catch(()=>{e.form.submitLoading=!1})};return r?(e.form.ref=r,r.validate(o=>{o&&n()})):n(),!1},onTableDblclick:({row:r})=>e.table.extend.adminGroup.indexOf(r.id)===-1},{getIndex:({res:r})=>{e.table.extend.adminGroup=r.data.group;let m=T(e.table.column,"render","buttons");e.table.column[m].buttons.forEach(t=>{t.display=n=>r.data.group.indexOf(n.id)===-1})}});return B("baTable",e),G(()=>{e.table.ref=d.value,e.mount(),e.getIndex()}),(r,m)=>{const t=q("el-alert");return s(),S("div",N,[l(h).super?b("",!0):(s(),f(t,{key:0,class:"ba-table-alert",title:l(a)("auth.group.Manage subordinate role groups here"),type:"info","show-icon":""},null,8,["title"])),l(e).table.remark?(s(),f(t,{key:1,class:"ba-table-alert",title:l(e).table.remark,type:"info","show-icon":""},null,8,["title"])):b("",!0),i(_,{buttons:["refresh","add","edit","delete","unfold","quickSearch","columnDisplay"],"quick-search-placeholder":l(a)("quick Search Placeholder",{fields:l(a)("auth.group.GroupName")})},null,8,["quick-search-placeholder"]),i(y,{ref_key:"tableRef",ref:d,pagination:!1},null,512),i(w,{ref_key:"formRef",ref:u},null,512)])}}});export{U as default};
