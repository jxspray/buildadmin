import{H as v,A as w,f as b,i as C,e as q,g as I}from"./index.be5841b6.js";import{_ as f,k as m,ae as M,C as s,D as c,M as i,B as n,A as e,a8 as k,h as d,at as g,ai as x,l as S,a3 as $,aK as A,aI as B,a as j,a2 as D,o as H,bc as N,aW as O,$ as P}from"./index.9fd02713.js";import{m as R}from"./layout.0ad230c0.js";import"./login.df0d7196.js";const F=m({__name:"main",setup(p){const l=M();return(o,r)=>{const _=s("router-view"),t=s("el-main");return c(),i(t,{class:"layout-main"},{default:n(()=>[e(_,null,{default:n(({Component:a})=>[e(k,{name:d(l).layout.mainAnimation,mode:"out-in"},{default:n(()=>[(c(),i(g(a)))]),_:2},1032,["name"])]),_:1})]),_:1})}}});var U=f(F,[["__scopeId","data-v-06936b35"]]);const V=m({__name:"default",setup(p){return(l,o)=>{const r=s("el-col"),_=s("el-row"),t=s("el-scrollbar"),a=s("el-container");return c(),i(a,{class:"is-vertical"},{default:n(()=>[e(v),e(t,{style:x(d(R)()),ref:"mainScrollbarRef"},{default:n(()=>[e(_,{class:"frontend-footer-brother",justify:"center"},{default:n(()=>[e(r,{class:"user-layouts",span:16,xs:24},{default:n(()=>[e(w,{class:"hidden-sm-and-down"}),e(U)]),_:1})]),_:1}),e(b)]),_:1},8,["style"])]),_:1})}}});var W=f(V,[["__scopeId","data-v-427c573a"]]);const z=m({__name:"disable",setup(p){return(l,o)=>{const r=s("el-alert"),_=s("el-col"),t=s("el-row"),a=s("el-scrollbar"),u=s("el-container");return c(),i(u,{class:"is-vertical"},{default:n(()=>[e(v),e(a,{style:x(d(R)()),ref:"mainScrollbarRef"},{default:n(()=>[e(t,{class:"frontend-footer-brother",justify:"center"},{default:n(()=>[e(_,{class:"user-layouts",span:16,xs:24},{default:n(()=>[e(r,{center:!0,title:l.$t("user.user.Member center disabled"),type:"error"},null,8,["title"])]),_:1})]),_:1}),e(b)]),_:1},8,["style"])]),_:1})}}});var E=f(z,[["__scopeId","data-v-0c5c8e39"]]);const J={components:{Default:W,Disable:E}},X=m({...J,__name:"user",setup(p){const{t:l}=S(),o=$(),r=A(),_=B(),t=j();return D(a=>{t.setActiveRoute(a)}),H(()=>{if(!_.token)return r.push({name:"userLogin"});N().then(a=>{if(_.$state=a.data.userInfo,a.data.menus){let u=C(a.data.menus);if(t.setViewRoutes(u),t.setShowHeadline(a.data.menus.length>1),o.query&&o.query.url&&o.query.url!=O.path&&q(u).indexOf(o.query.url)!==-1){let h=JSON.parse(o.query.query);r.push({path:o.query.url,query:Object.keys(h).length?h:{}});return}let y=I(t.state.viewRoutes);y?r.push({path:y.path}):P({type:"error",message:l("No route found to jump~")})}}),document.body.clientWidth<1024?t.setShrink(!0):t.setShrink(!1)}),(a,u)=>(c(),i(g(d(t).state.layoutMode)))}});export{X as default};
